{"version":3,"file":"static/js/460.1e3437af.chunk.js","mappings":"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","sources":["../node_modules/@evanhahn/lottie-web-light/index.js","../QRCodeStyling/webpack/universalModuleDefinition","../QRCodeStyling/node_modules/qrcode-generator/qrcode.js","../QRCodeStyling/src/tools/merge.ts","../QRCodeStyling/src/tools/downloadURI.ts","../QRCodeStyling/src/tools/toDataUrl.ts","../QRCodeStyling/src/constants/errorCorrectionPercents.ts","../QRCodeStyling/src/figures/dot/QRDot.ts","../QRCodeStyling/src/constants/dotTypes.ts","../QRCodeStyling/src/figures/cornerSquare/QRCornerSquare.ts","../QRCodeStyling/src/constants/cornerSquareTypes.ts","../QRCodeStyling/src/figures/cornerDot/QRCornerDot.ts","../QRCodeStyling/src/constants/cornerDotTypes.ts","../QRCodeStyling/src/constants/shapeTypes.ts","../QRCodeStyling/src/core/QRSVG.ts","../QRCodeStyling/src/tools/calculateImageSize.ts","../QRCodeStyling/src/constants/gradientTypes.ts","../QRCodeStyling/src/constants/drawTypes.ts","../QRCodeStyling/src/constants/qrTypes.ts","../QRCodeStyling/src/core/QROptions.ts","../QRCodeStyling/src/constants/errorCorrectionLevels.ts","../QRCodeStyling/src/tools/sanitizeOptions.ts","../QRCodeStyling/src/index.ts","../QRCodeStyling/src/core/QRCodeStyling.ts","../QRCodeStyling/src/tools/getMode.ts","../QRCodeStyling/src/constants/modes.ts","../QRCodeStyling/webpack/bootstrap","../QRCodeStyling/webpack/startup","../QRCodeStyling/webpack/runtime/compat get default export","../QRCodeStyling/webpack/runtime/define property getters","../QRCodeStyling/webpack/runtime/hasOwnProperty shorthand","../node_modules/@perawallet/connect/dist/App-8e91388d.js"],"sourcesContent":["(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t/* global locationHref:writable, animationManager, subframeEnabled:writable, defaultCurveSegments:writable, roundValues,\r\nexpressionsPlugin:writable, PropertyFactory, ShapePropertyFactory, Matrix, idPrefix:writable, _useWebWorker:writable */\r\n/* exported locationHref, subframeEnabled, expressionsPlugin, idPrefix, _useWebWorker */\r\n\r\n'use strict';\r\n\r\n/* exported svgNS, locationHref, initialDefaultFrame, _useWebWorker */\r\n\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar _useWebWorker = false;\r\n\r\n/* global createSizedArray */\r\n/* exported subframeEnabled, expressionsPlugin, isSafari, cachedColors, bmPow, bmSqrt, bmFloor, bmMax, bmMin, ProjectInterface,\r\ndefaultCurveSegments, degToRads, roundCorner, bmRnd, styleDiv, BMEnterFrameEvent, BMCompleteEvent, BMCompleteLoopEvent,\r\nBMSegmentStartEvent, BMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, BMAnimationConfigErrorEvent, createElementID,\r\naddSaturationToRGB, addBrightnessToRGB, addHueToRGB, rgbToHex */\r\n\r\nvar subframeEnabled = true;\r\nvar idPrefix = '';\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bmRnd;\r\nvar bmPow = Math.pow;\r\nvar bmSqrt = Math.sqrt;\r\nvar bmFloor = Math.floor;\r\nvar bmMax = Math.max;\r\nvar bmMin = Math.min;\r\n\r\nvar BMMath = {};\r\n(function () {\r\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n  var i;\r\n  var len = propertyNames.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n  }\r\n}());\r\n\r\nfunction ProjectInterface() { return {}; }\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function (val) {\r\n  var tOfVal = typeof val;\r\n  if (tOfVal === 'object' && val.length) {\r\n    var absArr = createSizedArray(val.length);\r\n    var i;\r\n    var len = val.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      absArr[i] = Math.abs(val[i]);\r\n    }\r\n    return absArr;\r\n  }\r\n  return Math.abs(val);\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI / 180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag) {\r\n  if (flag) {\r\n    bmRnd = Math.round;\r\n  } else {\r\n    bmRnd = function (val) {\r\n      return val;\r\n    };\r\n  }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element) {\r\n  element.style.position = 'absolute';\r\n  element.style.top = 0;\r\n  element.style.left = 0;\r\n  element.style.display = 'block';\r\n  element.style.transformOrigin = '0 0';\r\n  element.style.webkitTransformOrigin = '0 0';\r\n  element.style.backfaceVisibility = 'visible';\r\n  element.style.webkitBackfaceVisibility = 'visible';\r\n  element.style.transformStyle = 'preserve-3d';\r\n  element.style.webkitTransformStyle = 'preserve-3d';\r\n  element.style.mozTransformStyle = 'preserve-3d';\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentTime = currentTime;\r\n  this.totalTime = totalTime;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier) {\r\n  this.type = type;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentLoop = currentLoop;\r\n  this.totalLoops = totalLoops;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n  this.type = type;\r\n  this.firstFrame = firstFrame;\r\n  this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target) {\r\n  this.type = type;\r\n  this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n  this.type = 'renderFrameError';\r\n  this.nativeError = nativeError;\r\n  this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n  this.type = 'configError';\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n  this.type = type;\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nvar createElementID = (function () {\r\n  var _count = 0;\r\n  return function createID() {\r\n    _count += 1;\r\n    return idPrefix + '__lottie_element_' + _count;\r\n  };\r\n}());\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n  var r;\r\n  var g;\r\n  var b;\r\n  var i;\r\n  var f;\r\n  var p;\r\n  var q;\r\n  var t;\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n    default: break;\r\n  }\r\n  return [r,\r\n    g,\r\n    b];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n  var max = Math.max(r, g, b);\r\n  var min = Math.min(r, g, b);\r\n  var d = max - min;\r\n  var h;\r\n  var s = (max === 0 ? 0 : d / max);\r\n  var v = max / 255;\r\n\r\n  switch (max) {\r\n    case min: h = 0; break;\r\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\r\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    default: break;\r\n  }\r\n\r\n  return [\r\n    h,\r\n    s,\r\n    v,\r\n  ];\r\n}\r\n\r\nfunction addSaturationToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[1] += offset;\r\n  if (hsv[1] > 1) {\r\n    hsv[1] = 1;\r\n  } else if (hsv[1] <= 0) {\r\n    hsv[1] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[2] += offset;\r\n  if (hsv[2] > 1) {\r\n    hsv[2] = 1;\r\n  } else if (hsv[2] < 0) {\r\n    hsv[2] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[0] += offset / 360;\r\n  if (hsv[0] > 1) {\r\n    hsv[0] -= 1;\r\n  } else if (hsv[0] < 0) {\r\n    hsv[0] += 1;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function () {\r\n  var colorMap = [];\r\n  var i;\r\n  var hex;\r\n  for (i = 0; i < 256; i += 1) {\r\n    hex = i.toString(16);\r\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return function (r, g, b) {\r\n    if (r < 0) {\r\n      r = 0;\r\n    }\r\n    if (g < 0) {\r\n      g = 0;\r\n    }\r\n    if (b < 0) {\r\n      b = 0;\r\n    }\r\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n  };\r\n}());\r\n\r\nfunction BaseEvent() {}\r\nBaseEvent.prototype = {\r\n  triggerEvent: function (eventName, args) {\r\n    if (this._cbs[eventName]) {\r\n      var callbacks = this._cbs[eventName];\r\n      for (var i = 0; i < callbacks.length; i += 1) {\r\n        callbacks[i](args);\r\n      }\r\n    }\r\n  },\r\n  addEventListener: function (eventName, callback) {\r\n    if (!this._cbs[eventName]) {\r\n      this._cbs[eventName] = [];\r\n    }\r\n    this._cbs[eventName].push(callback);\r\n\r\n    return function () {\r\n      this.removeEventListener(eventName, callback);\r\n    }.bind(this);\r\n  },\r\n  removeEventListener: function (eventName, callback) {\r\n    if (!callback) {\r\n      this._cbs[eventName] = null;\r\n    } else if (this._cbs[eventName]) {\r\n      var i = 0;\r\n      var len = this._cbs[eventName].length;\r\n      while (i < len) {\r\n        if (this._cbs[eventName][i] === callback) {\r\n          this._cbs[eventName].splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!this._cbs[eventName].length) {\r\n        this._cbs[eventName] = null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/* exported createTypedArray, createSizedArray */\r\n\r\nvar createTypedArray = (function () {\r\n  function createRegularArray(type, len) {\r\n    var i = 0;\r\n    var arr = [];\r\n    var value;\r\n    switch (type) {\r\n      case 'int16':\r\n      case 'uint8c':\r\n        value = 1;\r\n        break;\r\n      default:\r\n        value = 1.1;\r\n        break;\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      arr.push(value);\r\n    }\r\n    return arr;\r\n  }\r\n  function createTypedArrayFactory(type, len) {\r\n    if (type === 'float32') {\r\n      return new Float32Array(len);\r\n    } if (type === 'int16') {\r\n      return new Int16Array(len);\r\n    } if (type === 'uint8c') {\r\n      return new Uint8ClampedArray(len);\r\n    }\r\n    return createRegularArray(type, len);\r\n  }\r\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n    return createTypedArrayFactory;\r\n  }\r\n  return createRegularArray;\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n  return Array.apply(null, { length: len });\r\n}\r\n\r\n/* global svgNS */\r\n/* exported createNS */\r\n\r\nfunction createNS(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElementNS(svgNS, type);\r\n}\r\n\r\n/* exported createTag */\r\n\r\nfunction createTag(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction DynamicPropertyContainer() {}\r\nDynamicPropertyContainer.prototype = {\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n      this.container.addDynamicProperty(this);\r\n      this._isAnimated = true;\r\n    }\r\n  },\r\n  iterateDynamicProperties: function () {\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n      if (this.dynamicProperties[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  },\r\n  initDynamicPropertyContainer: function (container) {\r\n    this.container = container;\r\n    this.dynamicProperties = [];\r\n    this._mdf = false;\r\n    this._isAnimated = false;\r\n  },\r\n};\r\n\r\n/* exported getBlendMode */\r\n\r\nvar getBlendMode = (function () {\r\n  var blendModeEnums = {\r\n    0: 'source-over',\r\n    1: 'multiply',\r\n    2: 'screen',\r\n    3: 'overlay',\r\n    4: 'darken',\r\n    5: 'lighten',\r\n    6: 'color-dodge',\r\n    7: 'color-burn',\r\n    8: 'hard-light',\r\n    9: 'soft-light',\r\n    10: 'difference',\r\n    11: 'exclusion',\r\n    12: 'hue',\r\n    13: 'saturation',\r\n    14: 'color',\r\n    15: 'luminosity',\r\n  };\r\n\r\n  return function (mode) {\r\n    return blendModeEnums[mode] || '';\r\n  };\r\n}());\r\n\r\n/* exported lineCapEnum, lineJoinEnum */\r\n\r\nvar lineCapEnum = {\r\n  1: 'butt',\r\n  2: 'round',\r\n  3: 'square',\r\n};\r\n\r\nvar lineJoinEnum = {\r\n  1: 'miter',\r\n  2: 'round',\r\n  3: 'bevel',\r\n};\r\n\r\n/* global createTypedArray */\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function () {\r\n  var _cos = Math.cos;\r\n  var _sin = Math.sin;\r\n  var _tan = Math.tan;\r\n  var _rnd = Math.round;\r\n\r\n  function reset() {\r\n    this.props[0] = 1;\r\n    this.props[1] = 0;\r\n    this.props[2] = 0;\r\n    this.props[3] = 0;\r\n    this.props[4] = 0;\r\n    this.props[5] = 1;\r\n    this.props[6] = 0;\r\n    this.props[7] = 0;\r\n    this.props[8] = 0;\r\n    this.props[9] = 0;\r\n    this.props[10] = 1;\r\n    this.props[11] = 0;\r\n    this.props[12] = 0;\r\n    this.props[13] = 0;\r\n    this.props[14] = 0;\r\n    this.props[15] = 1;\r\n    return this;\r\n  }\r\n\r\n  function rotate(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateX(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateY(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateZ(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function shear(sx, sy) {\r\n    return this._t(1, sy, sx, 1, 0, 0);\r\n  }\r\n\r\n  function skew(ax, ay) {\r\n    return this.shear(_tan(ax), _tan(ay));\r\n  }\r\n\r\n  function skewFromAxis(ax, angle) {\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n  }\r\n\r\n  function scale(sx, sy, sz) {\r\n    if (!sz && sz !== 0) {\r\n      sz = 1;\r\n    }\r\n    if (sx === 1 && sy === 1 && sz === 1) {\r\n      return this;\r\n    }\r\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n    this.props[0] = a;\r\n    this.props[1] = b;\r\n    this.props[2] = c;\r\n    this.props[3] = d;\r\n    this.props[4] = e;\r\n    this.props[5] = f;\r\n    this.props[6] = g;\r\n    this.props[7] = h;\r\n    this.props[8] = i;\r\n    this.props[9] = j;\r\n    this.props[10] = k;\r\n    this.props[11] = l;\r\n    this.props[12] = m;\r\n    this.props[13] = n;\r\n    this.props[14] = o;\r\n    this.props[15] = p;\r\n    return this;\r\n  }\r\n\r\n  function translate(tx, ty, tz) {\r\n    tz = tz || 0;\r\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n    var _p = this.props;\r\n\r\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n      _p[12] = _p[12] * a2 + _p[15] * m2;\r\n      _p[13] = _p[13] * f2 + _p[15] * n2;\r\n      _p[14] = _p[14] * k2 + _p[15] * o2;\r\n      _p[15] *= p2;\r\n      // }\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    var a1 = _p[0];\r\n    var b1 = _p[1];\r\n    var c1 = _p[2];\r\n    var d1 = _p[3];\r\n    var e1 = _p[4];\r\n    var f1 = _p[5];\r\n    var g1 = _p[6];\r\n    var h1 = _p[7];\r\n    var i1 = _p[8];\r\n    var j1 = _p[9];\r\n    var k1 = _p[10];\r\n    var l1 = _p[11];\r\n    var m1 = _p[12];\r\n    var n1 = _p[13];\r\n    var o1 = _p[14];\r\n    var p1 = _p[15];\r\n\r\n    /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n\r\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n\r\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n\r\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n\r\n    this._identityCalculated = false;\r\n    return this;\r\n  }\r\n\r\n  function isIdentity() {\r\n    if (!this._identityCalculated) {\r\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n      this._identityCalculated = true;\r\n    }\r\n    return this._identity;\r\n  }\r\n\r\n  function equals(matr) {\r\n    var i = 0;\r\n    while (i < 16) {\r\n      if (matr.props[i] !== this.props[i]) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clone(matr) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      matr.props[i] = this.props[i];\r\n    }\r\n    return matr;\r\n  }\r\n\r\n  function cloneFromProps(props) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      this.props[i] = props[i];\r\n    }\r\n  }\r\n\r\n  function applyToPoint(x, y, z) {\r\n    return {\r\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n    };\r\n    /* return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         }; */\r\n  }\r\n  function applyToX(x, y, z) {\r\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n  }\r\n  function applyToY(x, y, z) {\r\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n  }\r\n  function applyToZ(x, y, z) {\r\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n  }\r\n\r\n  function getInverseMatrix() {\r\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n    var a = this.props[5] / determinant;\r\n    var b = -this.props[1] / determinant;\r\n    var c = -this.props[4] / determinant;\r\n    var d = this.props[0] / determinant;\r\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n    var inverseMatrix = new Matrix();\r\n    inverseMatrix.props[0] = a;\r\n    inverseMatrix.props[1] = b;\r\n    inverseMatrix.props[4] = c;\r\n    inverseMatrix.props[5] = d;\r\n    inverseMatrix.props[12] = e;\r\n    inverseMatrix.props[13] = f;\r\n    return inverseMatrix;\r\n  }\r\n\r\n  function inversePoint(pt) {\r\n    var inverseMatrix = this.getInverseMatrix();\r\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n  }\r\n\r\n  function inversePoints(pts) {\r\n    var i;\r\n    var len = pts.length;\r\n    var retPts = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      retPts[i] = inversePoint(pts[i]);\r\n    }\r\n    return retPts;\r\n  }\r\n\r\n  function applyToTriplePoints(pt1, pt2, pt3) {\r\n    var arr = createTypedArray('float32', 6);\r\n    if (this.isIdentity()) {\r\n      arr[0] = pt1[0];\r\n      arr[1] = pt1[1];\r\n      arr[2] = pt2[0];\r\n      arr[3] = pt2[1];\r\n      arr[4] = pt3[0];\r\n      arr[5] = pt3[1];\r\n    } else {\r\n      var p0 = this.props[0];\r\n      var p1 = this.props[1];\r\n      var p4 = this.props[4];\r\n      var p5 = this.props[5];\r\n      var p12 = this.props[12];\r\n      var p13 = this.props[13];\r\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointArray(x, y, z) {\r\n    var arr;\r\n    if (this.isIdentity()) {\r\n      arr = [x, y, z];\r\n    } else {\r\n      arr = [\r\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n      ];\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointStringified(x, y) {\r\n    if (this.isIdentity()) {\r\n      return x + ',' + y;\r\n    }\r\n    var _p = this.props;\r\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n  }\r\n\r\n  function toCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var i = 0;\r\n    var props = this.props;\r\n    var cssValue = 'matrix3d(';\r\n    var v = 10000;\r\n    while (i < 16) {\r\n      cssValue += _rnd(props[i] * v) / v;\r\n      cssValue += i === 15 ? ')' : ',';\r\n      i += 1;\r\n    }\r\n    return cssValue;\r\n  }\r\n\r\n  function roundMatrixProperty(val) {\r\n    var v = 10000;\r\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n      return _rnd(val * v) / v;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  function to2dCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var props = this.props;\r\n    var _a = roundMatrixProperty(props[0]);\r\n    var _b = roundMatrixProperty(props[1]);\r\n    var _c = roundMatrixProperty(props[4]);\r\n    var _d = roundMatrixProperty(props[5]);\r\n    var _e = roundMatrixProperty(props[12]);\r\n    var _f = roundMatrixProperty(props[13]);\r\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n  }\r\n\r\n  return function () {\r\n    this.reset = reset;\r\n    this.rotate = rotate;\r\n    this.rotateX = rotateX;\r\n    this.rotateY = rotateY;\r\n    this.rotateZ = rotateZ;\r\n    this.skew = skew;\r\n    this.skewFromAxis = skewFromAxis;\r\n    this.shear = shear;\r\n    this.scale = scale;\r\n    this.setTransform = setTransform;\r\n    this.translate = translate;\r\n    this.transform = transform;\r\n    this.applyToPoint = applyToPoint;\r\n    this.applyToX = applyToX;\r\n    this.applyToY = applyToY;\r\n    this.applyToZ = applyToZ;\r\n    this.applyToPointArray = applyToPointArray;\r\n    this.applyToTriplePoints = applyToTriplePoints;\r\n    this.applyToPointStringified = applyToPointStringified;\r\n    this.toCSS = toCSS;\r\n    this.to2dCSS = to2dCSS;\r\n    this.clone = clone;\r\n    this.cloneFromProps = cloneFromProps;\r\n    this.equals = equals;\r\n    this.inversePoints = inversePoints;\r\n    this.inversePoint = inversePoint;\r\n    this.getInverseMatrix = getInverseMatrix;\r\n    this._t = this.transform;\r\n    this.isIdentity = isIdentity;\r\n    this._identity = true;\r\n    this._identityCalculated = false;\r\n\r\n    this.props = createTypedArray('float32', 16);\r\n    this.reset();\r\n  };\r\n}());\r\n\r\n/* eslint-disable */\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\n/* eslint-disable */\r\nvar BezierFactory = (function () {\r\n  /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gatan Renaudeau 2014 - 2015  MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n  var ob = {};\r\n  ob.getBezierEasing = getBezierEasing;\r\n  var beziers = {};\r\n\r\n  function getBezierEasing(a, b, c, d, nm) {\r\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n    if (beziers[str]) {\r\n      return beziers[str];\r\n    }\r\n    var bezEasing = new BezierEasing([a, b, c, d]);\r\n    beziers[str] = bezEasing;\r\n    return bezEasing;\r\n  }\r\n\r\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n  var NEWTON_ITERATIONS = 4;\r\n  var NEWTON_MIN_SLOPE = 0.001;\r\n  var SUBDIVISION_PRECISION = 0.0000001;\r\n  var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n  function C(aA1) { return 3.0 * aA1; }\r\n\r\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) return aGuessT;\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n  function BezierEasing(points) {\r\n    this._p = points;\r\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n    this._precomputed = false;\r\n\r\n    this.get = this.get.bind(this);\r\n  }\r\n\r\n  BezierEasing.prototype = {\r\n\r\n    get: function (x) {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      if (!this._precomputed) this._precompute();\r\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n      if (x === 0) return 0;\r\n      if (x === 1) return 1;\r\n      return calcBezier(this._getTForX(x), mY1, mY2);\r\n    },\r\n\r\n    // Private part\r\n\r\n    _precompute: function () {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      this._precomputed = true;\r\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\r\n    },\r\n\r\n    _calcSampleValues: function () {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2];\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    },\r\n\r\n    /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n    _getTForX: function (aX) {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2],\r\n        mSampleValues = this._mSampleValues;\r\n\r\n      var intervalStart = 0.0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n      --currentSample;\r\n\r\n      // Interpolate to provide an initial guess for t\r\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      }\r\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n    },\r\n  };\r\n\r\n  return ob;\r\n}());\r\n\r\n(function () {\r\n  var lastTime = 0;\r\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) { // eslint-disable-line no-plusplus\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback) {\r\n      var currTime = new Date().getTime();\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      var id = setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      },\r\n      timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n}());\r\n\r\n/* exported extendPrototype, getDescriptor, createProxyFunction */\r\n\r\nfunction extendPrototype(sources, destination) {\r\n  var i;\r\n  var len = sources.length;\r\n  var sourcePrototype;\r\n  for (i = 0; i < len; i += 1) {\r\n    sourcePrototype = sources[i].prototype;\r\n    for (var attr in sourcePrototype) {\r\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n  return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n  function ProxyFunction() {}\r\n  ProxyFunction.prototype = prototype;\r\n  return ProxyFunction;\r\n}\r\n\r\n/* global segmentsLengthPool, defaultCurveSegments, createSizedArray, bmPow, bmSqrt, bmFloor, createTypedArray, bezierLengthPool */\r\n/* exported bez */\r\n\r\nfunction bezFunction() {\r\n  var math = Math;\r\n\r\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\r\n    return det1 > -0.001 && det1 < 0.001;\r\n  }\r\n\r\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n    }\r\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n    var diffDist;\r\n    if (dist1 > dist2) {\r\n      if (dist1 > dist3) {\r\n        diffDist = dist1 - dist2 - dist3;\r\n      } else {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      }\r\n    } else if (dist3 > dist2) {\r\n      diffDist = dist3 - dist2 - dist1;\r\n    } else {\r\n      diffDist = dist2 - dist1 - dist3;\r\n    }\r\n    return diffDist > -0.0001 && diffDist < 0.0001;\r\n  }\r\n\r\n  var getBezierLength = (function () {\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var curveSegments = defaultCurveSegments;\r\n      var k;\r\n      var i;\r\n      var len;\r\n      var ptCoord;\r\n      var perc;\r\n      var addedLength = 0;\r\n      var ptDistance;\r\n      var point = [];\r\n      var lastPoint = [];\r\n      var lengthData = bezierLengthPool.newElement();\r\n      len = pt3.length;\r\n      for (k = 0; k < curveSegments; k += 1) {\r\n        perc = k / (curveSegments - 1);\r\n        ptDistance = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n          point[i] = ptCoord;\r\n          if (lastPoint[i] !== null) {\r\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n          }\r\n          lastPoint[i] = point[i];\r\n        }\r\n        if (ptDistance) {\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n        }\r\n        lengthData.percents[k] = perc;\r\n        lengthData.lengths[k] = addedLength;\r\n      }\r\n      lengthData.addedLength = addedLength;\r\n      return lengthData;\r\n    };\r\n  }());\r\n\r\n  function getSegmentsLength(shapeData) {\r\n    var segmentsLength = segmentsLengthPool.newElement();\r\n    var closed = shapeData.c;\r\n    var pathV = shapeData.v;\r\n    var pathO = shapeData.o;\r\n    var pathI = shapeData.i;\r\n    var i;\r\n    var len = shapeData._length;\r\n    var lengths = segmentsLength.lengths;\r\n    var totalLength = 0;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    if (closed && len) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    segmentsLength.totalLength = totalLength;\r\n    return segmentsLength;\r\n  }\r\n\r\n  function BezierData(length) {\r\n    this.segmentLength = 0;\r\n    this.points = new Array(length);\r\n  }\r\n\r\n  function PointData(partial, point) {\r\n    this.partialLength = partial;\r\n    this.point = point;\r\n  }\r\n\r\n  var buildBezierData = (function () {\r\n    var storedData = {};\r\n\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n      if (!storedData[bezierName]) {\r\n        var curveSegments = defaultCurveSegments;\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point;\r\n        var lastPoint = null;\r\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n          curveSegments = 2;\r\n        }\r\n        var bezierData = new BezierData(curveSegments);\r\n        len = pt3.length;\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          point = createSizedArray(len);\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n            if (lastPoint !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n          }\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n          bezierData.points[k] = new PointData(ptDistance, point);\r\n          lastPoint = point;\r\n        }\r\n        bezierData.segmentLength = addedLength;\r\n        storedData[bezierName] = bezierData;\r\n      }\r\n      return storedData[bezierName];\r\n    };\r\n  }());\r\n\r\n  function getDistancePerc(perc, bezierData) {\r\n    var percents = bezierData.percents;\r\n    var lengths = bezierData.lengths;\r\n    var len = percents.length;\r\n    var initPos = bmFloor((len - 1) * perc);\r\n    var lengthPos = perc * bezierData.addedLength;\r\n    var lPerc = 0;\r\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n      return percents[initPos];\r\n    }\r\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n    var flag = true;\r\n    while (flag) {\r\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n        flag = false;\r\n      } else {\r\n        initPos += dir;\r\n      }\r\n      if (initPos < 0 || initPos >= len - 1) {\r\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n        if (initPos === len - 1) {\r\n          return percents[initPos];\r\n        }\r\n        flag = false;\r\n      }\r\n    }\r\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n  }\r\n\r\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n    var t1 = getDistancePerc(percent, bezierData);\r\n    var u1 = 1 - t1;\r\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n    return [ptX, ptY];\r\n  }\r\n\r\n  var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n    if (startPerc < 0) {\r\n      startPerc = 0;\r\n    } else if (startPerc > 1) {\r\n      startPerc = 1;\r\n    }\r\n    var t0 = getDistancePerc(startPerc, bezierData);\r\n    endPerc = endPerc > 1 ? 1 : endPerc;\r\n    var t1 = getDistancePerc(endPerc, bezierData);\r\n    var i;\r\n    var len = pt1.length;\r\n    var u0 = 1 - t0;\r\n    var u1 = 1 - t1;\r\n    var u0u0u0 = u0 * u0 * u0;\r\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0t0 = t0 * t0 * t0;\r\n    //\r\n    var u0u0u1 = u0 * u0 * u1;\r\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0t1 = t0 * t0 * t1;\r\n    //\r\n    var u0u1u1 = u0 * u1 * u1;\r\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1t1 = t0 * t1 * t1;\r\n    //\r\n    var u1u1u1 = u1 * u1 * u1;\r\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1t1 = t1 * t1 * t1;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n    }\r\n\r\n    return bezierSegmentPoints;\r\n  }\r\n\r\n  return {\r\n    getSegmentsLength: getSegmentsLength,\r\n    getNewSegment: getNewSegment,\r\n    getPointInSegment: getPointInSegment,\r\n    buildBezierData: buildBezierData,\r\n    pointOnLine2D: pointOnLine2D,\r\n    pointOnLine3D: pointOnLine3D,\r\n  };\r\n}\r\n\r\nvar bez = bezFunction();\r\n\r\n/* global _useWebWorker */\r\n\r\nvar dataManager = (function () {\r\n  var _counterId = 1;\r\n  var processes = [];\r\n  var workerFn;\r\n  var workerInstance;\r\n  var workerProxy = {\r\n    onmessage: function () {\r\n\r\n    },\r\n    postMessage: function (path) {\r\n      workerFn({\r\n        data: path,\r\n      });\r\n    },\r\n  };\r\n  var _workerSelf = {\r\n    postMessage: function (data) {\r\n      workerProxy.onmessage({\r\n        data: data,\r\n      });\r\n    },\r\n  };\r\n  function createWorker(fn) {\r\n    if (window.Worker && window.Blob && _useWebWorker) {\r\n      var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      var url = URL.createObjectURL(blob);\r\n      return new Worker(url);\r\n    }\r\n    workerFn = fn;\r\n    return workerProxy;\r\n  }\r\n\r\n  function setupWorker() {\r\n    if (!workerInstance) {\r\n      workerInstance = createWorker(function workerStart(e) {\r\n        /* exported dataManager */\r\n\r\n        function dataFunctionManager() {\r\n          // var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n          function completeLayers(layers, comps) {\r\n            var layerData;\r\n            var i;\r\n            var len = layers.length;\r\n            var j;\r\n            var jLen;\r\n            var k;\r\n            var kLen;\r\n            for (i = 0; i < len; i += 1) {\r\n              layerData = layers[i];\r\n              if (('ks' in layerData) && !layerData.completed) {\r\n                layerData.completed = true;\r\n                if (layerData.tt) {\r\n                  layers[i - 1].td = layerData.tt;\r\n                }\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 0) {\r\n                  layerData.layers = findCompLayers(layerData.refId, comps);\r\n                  completeLayers(layerData.layers, comps);\r\n                } else if (layerData.ty === 4) {\r\n                  completeShapes(layerData.shapes);\r\n                } else if (layerData.ty === 5) {\r\n                  completeText(layerData);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          function findCompLayers(id, comps) {\r\n            var i = 0;\r\n            var len = comps.length;\r\n            while (i < len) {\r\n              if (comps[i].id === id) {\r\n                if (!comps[i].layers.__used) {\r\n                  comps[i].layers.__used = true;\r\n                  return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n              }\r\n              i += 1;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          function completeShapes(arr) {\r\n            var i;\r\n            var len = arr.length;\r\n            var j;\r\n            var jLen;\r\n            for (i = len - 1; i >= 0; i -= 1) {\r\n              if (arr[i].ty === 'sh') {\r\n                if (arr[i].ks.k.i) {\r\n                  convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                } else {\r\n                  jLen = arr[i].ks.k.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (arr[i].ks.k[j].s) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                    }\r\n                    if (arr[i].ks.k[j].e) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                    }\r\n                  }\r\n                }\r\n              } else if (arr[i].ty === 'gr') {\r\n                completeShapes(arr[i].it);\r\n              }\r\n            }\r\n          }\r\n\r\n          function convertPathsToAbsoluteValues(path) {\r\n            var i;\r\n            var len = path.i.length;\r\n            for (i = 0; i < len; i += 1) {\r\n              path.i[i][0] += path.v[i][0];\r\n              path.i[i][1] += path.v[i][1];\r\n              path.o[i][0] += path.v[i][0];\r\n              path.o[i][1] += path.v[i][1];\r\n            }\r\n          }\r\n\r\n          function checkVersion(minimum, animVersionString) {\r\n            var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n            if (minimum[0] > animVersion[0]) {\r\n              return true;\r\n            } if (animVersion[0] > minimum[0]) {\r\n              return false;\r\n            }\r\n            if (minimum[1] > animVersion[1]) {\r\n              return true;\r\n            } if (animVersion[1] > minimum[1]) {\r\n              return false;\r\n            }\r\n            if (minimum[2] > animVersion[2]) {\r\n              return true;\r\n            } if (animVersion[2] > minimum[2]) {\r\n              return false;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          var checkText = (function () {\r\n            var minimumVersion = [4, 4, 14];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var documentData = textLayer.t.d;\r\n              textLayer.t.d = {\r\n                k: [\r\n                  {\r\n                    s: documentData,\r\n                    t: 0,\r\n                  },\r\n                ],\r\n              };\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkChars = (function () {\r\n            var minimumVersion = [4, 7, 99];\r\n            return function (animationData) {\r\n              if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n                var i;\r\n                var len = animationData.chars.length;\r\n                var j;\r\n                var jLen;\r\n                var pathData;\r\n                var paths;\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                    paths = animationData.chars[i].data.shapes[0].it;\r\n                    jLen = paths.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      pathData = paths[j].ks.k;\r\n                      if (!pathData.__converted) {\r\n                        convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                        pathData.__converted = true;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkPathProperties = (function () {\r\n            var minimumVersion = [5, 7, 15];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var pathData = textLayer.t.p;\r\n              if (typeof pathData.a === 'number') {\r\n                pathData.a = {\r\n                  a: 0,\r\n                  k: pathData.a,\r\n                };\r\n              }\r\n              if (typeof pathData.p === 'number') {\r\n                pathData.p = {\r\n                  a: 0,\r\n                  k: pathData.p,\r\n                };\r\n              }\r\n              if (typeof pathData.r === 'number') {\r\n                pathData.r = {\r\n                  a: 0,\r\n                  k: pathData.r,\r\n                };\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkColors = (function () {\r\n            var minimumVersion = [4, 1, 9];\r\n\r\n            function iterateShapes(shapes) {\r\n              var i;\r\n              var len = shapes.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (shapes[i].ty === 'gr') {\r\n                  iterateShapes(shapes[i].it);\r\n                } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n                  if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n                    jLen = shapes[i].c.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (shapes[i].c.k[j].s) {\r\n                        shapes[i].c.k[j].s[0] /= 255;\r\n                        shapes[i].c.k[j].s[1] /= 255;\r\n                        shapes[i].c.k[j].s[2] /= 255;\r\n                        shapes[i].c.k[j].s[3] /= 255;\r\n                      }\r\n                      if (shapes[i].c.k[j].e) {\r\n                        shapes[i].c.k[j].e[0] /= 255;\r\n                        shapes[i].c.k[j].e[1] /= 255;\r\n                        shapes[i].c.k[j].e[2] /= 255;\r\n                        shapes[i].c.k[j].e[3] /= 255;\r\n                      }\r\n                    }\r\n                  } else {\r\n                    shapes[i].c.k[0] /= 255;\r\n                    shapes[i].c.k[1] /= 255;\r\n                    shapes[i].c.k[2] /= 255;\r\n                    shapes[i].c.k[3] /= 255;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 4) {\r\n                  iterateShapes(layers[i].shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkShapes = (function () {\r\n            var minimumVersion = [4, 4, 18];\r\n\r\n            function completeClosingShapes(arr) {\r\n              var i;\r\n              var len = arr.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = len - 1; i >= 0; i -= 1) {\r\n                if (arr[i].ty === 'sh') {\r\n                  if (arr[i].ks.k.i) {\r\n                    arr[i].ks.k.c = arr[i].closed;\r\n                  } else {\r\n                    jLen = arr[i].ks.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (arr[i].ks.k[j].s) {\r\n                        arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                      }\r\n                      if (arr[i].ks.k[j].e) {\r\n                        arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (arr[i].ty === 'gr') {\r\n                  completeClosingShapes(arr[i].it);\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var layerData;\r\n              var i;\r\n              var len = layers.length;\r\n              var j;\r\n              var jLen;\r\n              var k;\r\n              var kLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                layerData = layers[i];\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      maskProps[j].pt.k.c = maskProps[j].cl;\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 4) {\r\n                  completeClosingShapes(layerData.shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          function completeData(animationData) {\r\n            if (animationData.__complete) {\r\n              return;\r\n            }\r\n            checkColors(animationData);\r\n            checkText(animationData);\r\n            checkChars(animationData);\r\n            checkPathProperties(animationData);\r\n            checkShapes(animationData);\r\n            completeLayers(animationData.layers, animationData.assets);\r\n            animationData.__complete = true;\r\n          }\r\n\r\n          function completeText(data) {\r\n            if (data.t.a.length === 0 && !('m' in data.t.p)) {\r\n              data.singleShape = true;\r\n            }\r\n          }\r\n\r\n          var moduleOb = {};\r\n          moduleOb.completeData = completeData;\r\n          moduleOb.checkColors = checkColors;\r\n          moduleOb.checkChars = checkChars;\r\n          moduleOb.checkPathProperties = checkPathProperties;\r\n          moduleOb.checkShapes = checkShapes;\r\n          moduleOb.completeLayers = completeLayers;\r\n\r\n          return moduleOb;\r\n        }\r\n        if (!_workerSelf.dataManager) {\r\n          _workerSelf.dataManager = dataFunctionManager();\r\n        }\r\n\r\n        /* exported assetLoader */\r\n        if (!_workerSelf.assetLoader) {\r\n          _workerSelf.assetLoader = (function () {\r\n            function formatResponse(xhr) {\r\n              // using typeof doubles the time of execution of this method,\r\n              // so if available, it's better to use the header to validate the type\r\n              var contentTypeHeader = xhr.getResponseHeader('content-type');\r\n              if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\r\n                return xhr.response;\r\n              }\r\n              if (xhr.response && typeof xhr.response === 'object') {\r\n                return xhr.response;\r\n              } if (xhr.response && typeof xhr.response === 'string') {\r\n                return JSON.parse(xhr.response);\r\n              } if (xhr.responseText) {\r\n                return JSON.parse(xhr.responseText);\r\n              }\r\n              return null;\r\n            }\r\n\r\n            function loadAsset(path, fullPath, callback, errorCallback) {\r\n              var response;\r\n              var xhr = new XMLHttpRequest();\r\n              // set responseType after calling open or IE will break.\r\n              try {\r\n                // This crashes on Android WebView prior to KitKat\r\n                xhr.responseType = 'json';\r\n              } catch (err) {} // eslint-disable-line no-empty\r\n              xhr.onreadystatechange = function () {\r\n                if (xhr.readyState === 4) {\r\n                  if (xhr.status === 200) {\r\n                    response = formatResponse(xhr);\r\n                    callback(response);\r\n                  } else {\r\n                    try {\r\n                      response = formatResponse(xhr);\r\n                      callback(response);\r\n                    } catch (err) {\r\n                      if (errorCallback) {\r\n                        errorCallback(err);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n              try {\r\n                xhr.open('GET', path, true);\r\n              } catch (error) {\r\n                xhr.open('GET', fullPath + '/' + path, true);\r\n              }\r\n              xhr.send();\r\n            }\r\n            return {\r\n              load: loadAsset,\r\n            };\r\n          }());\r\n        }\r\n\r\n        if (e.data.type === 'loadAnimation') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.dataManager.completeData(data);\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        } else if (e.data.type === 'complete') {\r\n          var animation = e.data.animation;\r\n          _workerSelf.dataManager.completeData(animation);\r\n          _workerSelf.postMessage({\r\n            id: e.data.id,\r\n            payload: animation,\r\n            status: 'success',\r\n          });\r\n        } else if (e.data.type === 'loadData') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n\r\n      workerInstance.onmessage = function (event) {\r\n        var data = event.data;\r\n        var id = data.id;\r\n        var process = processes[id];\r\n        processes[id] = null;\r\n        if (data.status === 'success') {\r\n          process.onComplete(data.payload);\r\n        } else if (process.onError) {\r\n          process.onError();\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  function createProcess(onComplete, onError) {\r\n    _counterId += 1;\r\n    var id = 'processId_' + _counterId;\r\n    processes[id] = {\r\n      onComplete: onComplete,\r\n      onError: onError,\r\n    };\r\n    return id;\r\n  }\r\n\r\n  function loadAnimation(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadAnimation',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function loadData(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadData',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function completeAnimation(anim, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'complete',\r\n      animation: anim,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  return {\r\n    loadAnimation: loadAnimation,\r\n    loadData: loadData,\r\n    completeAnimation: completeAnimation,\r\n  };\r\n}());\r\n\r\n/* exported getFontProperties */\r\n\r\nfunction getFontProperties(fontData) {\r\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n  var fWeight = 'normal'; var\r\n    fStyle = 'normal';\r\n  var len = styles.length;\r\n  var styleName;\r\n  for (var i = 0; i < len; i += 1) {\r\n    styleName = styles[i].toLowerCase();\r\n    switch (styleName) {\r\n      case 'italic':\r\n        fStyle = 'italic';\r\n        break;\r\n      case 'bold':\r\n        fWeight = '700';\r\n        break;\r\n      case 'black':\r\n        fWeight = '900';\r\n        break;\r\n      case 'medium':\r\n        fWeight = '500';\r\n        break;\r\n      case 'regular':\r\n      case 'normal':\r\n        fWeight = '400';\r\n        break;\r\n      case 'light':\r\n      case 'thin':\r\n        fWeight = '200';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    style: fStyle,\r\n    weight: fontData.fWeight || fWeight,\r\n  };\r\n}\r\n\r\n/* global createNS, createTag, getFontProperties */\r\n/* exported FontManager */\r\n\r\nvar FontManager = (function () {\r\n  var maxWaitingTime = 5000;\r\n  var emptyChar = {\r\n    w: 0,\r\n    size: 0,\r\n    shapes: [],\r\n  };\r\n  var combinedCharacters = [];\r\n  // Hindi characters\r\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\r\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\r\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n  var surrogateModifiers = [\r\n    'd83cdffb',\r\n    'd83cdffc',\r\n    'd83cdffd',\r\n    'd83cdffe',\r\n    'd83cdfff',\r\n  ];\r\n\r\n  var zeroWidthJoiner = [65039, 8205];\r\n\r\n  function trimFontOptions(font) {\r\n    var familyArray = font.split(',');\r\n    var i;\r\n    var len = familyArray.length;\r\n    var enabledFamilies = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n        enabledFamilies.push(familyArray[i]);\r\n      }\r\n    }\r\n    return enabledFamilies.join(',');\r\n  }\r\n\r\n  function setUpNode(font, family) {\r\n    var parentNode = createTag('span');\r\n    // Node is invisible to screen readers.\r\n    parentNode.setAttribute('aria-hidden', true);\r\n    parentNode.style.fontFamily = family;\r\n    var node = createTag('span');\r\n    // Characters that vary significantly among different fonts\r\n    node.innerText = 'giItT1WQy@!-/#';\r\n    // Visible - so we can measure it - but not on the screen\r\n    parentNode.style.position = 'absolute';\r\n    parentNode.style.left = '-10000px';\r\n    parentNode.style.top = '-10000px';\r\n    // Large font size makes even subtle changes obvious\r\n    parentNode.style.fontSize = '300px';\r\n    // Reset any font properties\r\n    parentNode.style.fontVariant = 'normal';\r\n    parentNode.style.fontStyle = 'normal';\r\n    parentNode.style.fontWeight = 'normal';\r\n    parentNode.style.letterSpacing = '0';\r\n    parentNode.appendChild(node);\r\n    document.body.appendChild(parentNode);\r\n\r\n    // Remember width with no applied web font\r\n    var width = node.offsetWidth;\r\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n    return { node: node, w: width, parent: parentNode };\r\n  }\r\n\r\n  function checkLoadedFonts() {\r\n    var i;\r\n    var len = this.fonts.length;\r\n    var node;\r\n    var w;\r\n    var loadedCount = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.fonts[i].loaded) {\r\n        loadedCount -= 1;\r\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n        this.fonts[i].loaded = true;\r\n      } else {\r\n        node = this.fonts[i].monoCase.node;\r\n        w = this.fonts[i].monoCase.w;\r\n        if (node.offsetWidth !== w) {\r\n          loadedCount -= 1;\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].sansCase.node;\r\n          w = this.fonts[i].sansCase.w;\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          }\r\n        }\r\n        if (this.fonts[i].loaded) {\r\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n      setTimeout(this.checkLoadedFontsBinded, 20);\r\n    } else {\r\n      setTimeout(this.setIsLoadedBinded, 10);\r\n    }\r\n  }\r\n\r\n  function createHelper(def, fontData) {\r\n    var tHelper = createNS('text');\r\n    tHelper.style.fontSize = '100px';\r\n    // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n    var fontProps = getFontProperties(fontData);\r\n    tHelper.setAttribute('font-family', fontData.fFamily);\r\n    tHelper.setAttribute('font-style', fontProps.style);\r\n    tHelper.setAttribute('font-weight', fontProps.weight);\r\n    tHelper.textContent = '1';\r\n    if (fontData.fClass) {\r\n      tHelper.style.fontFamily = 'inherit';\r\n      tHelper.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      tHelper.style.fontFamily = fontData.fFamily;\r\n    }\r\n    def.appendChild(tHelper);\r\n    var tCanvasHelper = createTag('canvas').getContext('2d');\r\n    tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily;\r\n    // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n    return tHelper;\r\n  }\r\n\r\n  function addFonts(fontData, defs) {\r\n    if (!fontData) {\r\n      this.isLoaded = true;\r\n      return;\r\n    }\r\n    if (this.chars) {\r\n      this.isLoaded = true;\r\n      this.fonts = fontData.list;\r\n      return;\r\n    }\r\n\r\n    var fontArr = fontData.list;\r\n    var i;\r\n    var len = fontArr.length;\r\n    var _pendingFonts = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      var shouldLoadFont = true;\r\n      var loadedSelector;\r\n      var j;\r\n      fontArr[i].loaded = false;\r\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n      if (!fontArr[i].fPath) {\r\n        fontArr[i].loaded = true;\r\n        _pendingFonts -= 1;\r\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n        if (loadedSelector.length > 0) {\r\n          shouldLoadFont = false;\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var s = createTag('style');\r\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          s.setAttribute('f-origin', fontArr[i].origin);\r\n          s.setAttribute('f-family', fontArr[i].fFamily);\r\n          s.type = 'text/css';\r\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n          defs.appendChild(s);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var l = createTag('link');\r\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          l.setAttribute('f-origin', fontArr[i].origin);\r\n          l.type = 'text/css';\r\n          l.rel = 'stylesheet';\r\n          l.href = fontArr[i].fPath;\r\n          document.body.appendChild(l);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (fontArr[i].fPath === loadedSelector[j].src) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var sc = createTag('link');\r\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          sc.setAttribute('f-origin', fontArr[i].origin);\r\n          sc.setAttribute('rel', 'stylesheet');\r\n          sc.setAttribute('href', fontArr[i].fPath);\r\n          defs.appendChild(sc);\r\n        }\r\n      }\r\n      fontArr[i].helper = createHelper(defs, fontArr[i]);\r\n      fontArr[i].cache = {};\r\n      this.fonts.push(fontArr[i]);\r\n    }\r\n    if (_pendingFonts === 0) {\r\n      this.isLoaded = true;\r\n    } else {\r\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n      // Adding this timeout seems to fix it\r\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n    }\r\n  }\r\n\r\n  function addChars(chars) {\r\n    if (!chars) {\r\n      return;\r\n    }\r\n    if (!this.chars) {\r\n      this.chars = [];\r\n    }\r\n    var i;\r\n    var len = chars.length;\r\n    var j;\r\n    var jLen = this.chars.length;\r\n    var found;\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n      found = false;\r\n      while (j < jLen) {\r\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n          found = true;\r\n        }\r\n        j += 1;\r\n      }\r\n      if (!found) {\r\n        this.chars.push(chars[i]);\r\n        jLen += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getCharData(char, style, font) {\r\n    var i = 0;\r\n    var len = this.chars.length;\r\n    while (i < len) {\r\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n        return this.chars[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\r\n            && console\r\n            && console.warn // eslint-disable-line no-console\r\n            && !this._warned\r\n    ) {\r\n      this._warned = true;\r\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\r\n    }\r\n    return emptyChar;\r\n  }\r\n\r\n  function measureText(char, fontName, size) {\r\n    var fontData = this.getFontByName(fontName);\r\n    var index = char.charCodeAt(0);\r\n    if (!fontData.cache[index + 1]) {\r\n      var tHelper = fontData.helper;\r\n      // Canvas version\r\n      // fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n      // SVG version\r\n      // console.log(tHelper.getBBox().width)\r\n      if (char === ' ') {\r\n        tHelper.textContent = '|' + char + '|';\r\n        var doubleSize = tHelper.getComputedTextLength();\r\n        tHelper.textContent = '||';\r\n        var singleSize = tHelper.getComputedTextLength();\r\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n      } else {\r\n        tHelper.textContent = char;\r\n        fontData.cache[index + 1] = (tHelper.getComputedTextLength()) / 100;\r\n      }\r\n    }\r\n    return fontData.cache[index + 1] * size;\r\n  }\r\n\r\n  function getFontByName(name) {\r\n    var i = 0;\r\n    var len = this.fonts.length;\r\n    while (i < len) {\r\n      if (this.fonts[i].fName === name) {\r\n        return this.fonts[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    return this.fonts[0];\r\n  }\r\n\r\n  function isModifier(firstCharCode, secondCharCode) {\r\n    var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n    return surrogateModifiers.indexOf(sum) !== -1;\r\n  }\r\n\r\n  function isZeroWidthJoiner(firstCharCode, secondCharCode) {\r\n    if (!secondCharCode) {\r\n      return firstCharCode === zeroWidthJoiner[1];\r\n    }\r\n    return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\r\n  }\r\n\r\n  function isCombinedCharacter(char) {\r\n    return combinedCharacters.indexOf(char) !== -1;\r\n  }\r\n\r\n  function setIsLoaded() {\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  var Font = function () {\r\n    this.fonts = [];\r\n    this.chars = null;\r\n    this.typekitLoaded = 0;\r\n    this.isLoaded = false;\r\n    this._warned = false;\r\n    this.initTime = Date.now();\r\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n  };\r\n  Font.isModifier = isModifier;\r\n  Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n  Font.isCombinedCharacter = isCombinedCharacter;\r\n\r\n  var fontPrototype = {\r\n    addChars: addChars,\r\n    addFonts: addFonts,\r\n    getCharData: getCharData,\r\n    getFontByName: getFontByName,\r\n    measureText: measureText,\r\n    checkLoadedFonts: checkLoadedFonts,\r\n    setIsLoaded: setIsLoaded,\r\n  };\r\n\r\n  Font.prototype = fontPrototype;\r\n\r\n  return Font;\r\n}());\r\n\r\n/* global initialDefaultFrame, BezierFactory, degToRads, bez, createTypedArray */\r\n/* exported PropertyFactory */\r\n\r\nvar PropertyFactory = (function () {\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n    var keyframeMetadata;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n      if ((nextKeyData.t - offsetTime) > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n    keyframeMetadata = this.keyframesMetadata[i] || {};\r\n\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n    if (keyData.to) {\r\n      if (!keyframeMetadata.bezierData) {\r\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n      var bezierData = keyframeMetadata.bezierData;\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        }\r\n        // caching._lastKeyframeIndex = -1;\r\n      } else {\r\n        if (keyframeMetadata.__fnct) {\r\n          fnc = keyframeMetadata.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyframeMetadata.__fnct = fnc;\r\n        }\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n\r\n        var segmentPerc;\r\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n            break;\r\n          }\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyframeMetadata.__fnct) {\r\n                  keyframeMetadata.__fnct = [];\r\n                }\r\n                if (!keyframeMetadata.__fnct[i]) {\r\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyframeMetadata.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyframeMetadata.__fnct[i];\r\n                }\r\n              } else if (!keyframeMetadata.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.keyframeMetadata = fnc;\r\n              } else {\r\n                fnc = keyframeMetadata.__fnct;\r\n              }\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  }\r\n\r\n  // based on @Toji's https://github.com/toji/gl-matrix/\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function getProp(elem, data, type, mult, container) {\r\n    var p;\r\n    if (!data.k.length) {\r\n      p = new ValueProperty(elem, data, mult, container);\r\n    } else if (typeof (data.k[0]) === 'number') {\r\n      p = new MultiDimensionalProperty(elem, data, mult, container);\r\n    } else {\r\n      switch (type) {\r\n        case 0:\r\n          p = new KeyframedValueProperty(elem, data, mult, container);\r\n          break;\r\n        case 1:\r\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    if (p.effectsSequence.length) {\r\n      container.addDynamicProperty(p);\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var ob = {\r\n    getProp: getProp,\r\n  };\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix, degToRads, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n/* exported TransformPropertyFactory */\r\n\r\nvar TransformPropertyFactory = (function () {\r\n  var defaultVector = [0, 0];\r\n\r\n  function applyToMatrix(mat) {\r\n    var _mdf = this._mdf;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || _mdf;\r\n    if (this.a) {\r\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n    }\r\n    if (this.s) {\r\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n    }\r\n    if (this.sk) {\r\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n    }\r\n    if (this.r) {\r\n      mat.rotate(-this.r.v);\r\n    } else {\r\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n    }\r\n    if (this.data.p.s) {\r\n      if (this.data.p.z) {\r\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n      } else {\r\n        mat.translate(this.px.v, this.py.v, 0);\r\n      }\r\n    } else {\r\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n    }\r\n  }\r\n  function processKeys(forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n    if (this._isDirty) {\r\n      this.precalculateMatrix();\r\n      this._isDirty = false;\r\n    }\r\n\r\n    this.iterateDynamicProperties();\r\n\r\n    if (this._mdf || forceRender) {\r\n      var frameRate;\r\n      this.v.cloneFromProps(this.pre.props);\r\n      if (this.appliedTransformations < 1) {\r\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n      if (this.appliedTransformations < 2) {\r\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        this.v.rotate(-this.r.v);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n          .rotateY(this.or.v[1])\r\n          .rotateX(this.or.v[0]);\r\n      }\r\n      if (this.autoOriented) {\r\n        var v1;\r\n        var v2;\r\n        frameRate = this.elem.globalData.frameRate;\r\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n          } else {\r\n            v1 = this.p.pv;\r\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n          }\r\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n          v1 = [];\r\n          v2 = [];\r\n          var px = this.px;\r\n          var py = this.py;\r\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\r\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n          } else {\r\n            v1 = [px.pv, py.pv];\r\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n          }\r\n        } else {\r\n          v2 = defaultVector;\r\n          v1 = v2;\r\n        }\r\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n      }\r\n      if (this.data.p && this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          this.v.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function precalculateMatrix() {\r\n    if (!this.a.k) {\r\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      this.appliedTransformations = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    if (!this.s.effectsSequence.length) {\r\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      this.appliedTransformations = 2;\r\n    } else {\r\n      return;\r\n    }\r\n    if (this.sk) {\r\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n        this.appliedTransformations = 3;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    if (this.r) {\r\n      if (!this.r.effectsSequence.length) {\r\n        this.pre.rotate(-this.r.v);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n      this.appliedTransformations = 4;\r\n    }\r\n  }\r\n\r\n  function autoOrient() {\r\n    //\r\n    // var prevP = this.getValueAtTime();\r\n  }\r\n\r\n  function addDynamicProperty(prop) {\r\n    this._addDynamicProperty(prop);\r\n    this.elem.addDynamicProperty(prop);\r\n    this._isDirty = true;\r\n  }\r\n\r\n  function TransformProperty(elem, data, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.propType = 'transform';\r\n    this.data = data;\r\n    this.v = new Matrix();\r\n    // Precalculated matrix with non animated properties\r\n    this.pre = new Matrix();\r\n    this.appliedTransformations = 0;\r\n    this.initDynamicPropertyContainer(container || elem);\r\n    if (data.p && data.p.s) {\r\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n      if (data.p.z) {\r\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n      }\r\n    } else {\r\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\r\n    }\r\n    if (data.rx) {\r\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n      if (data.or.k[0].ti) {\r\n        var i;\r\n        var len = data.or.k.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          data.or.k[i].to = null;\r\n          data.or.k[i].ti = null;\r\n        }\r\n      }\r\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n      // sh Indicates it needs to be capped between -180 and 180\r\n      this.or.sh = true;\r\n    } else {\r\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\r\n    }\r\n    if (data.sk) {\r\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n    }\r\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\r\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n    if (data.o) {\r\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n    } else {\r\n      this.o = { _mdf: false, v: 1 };\r\n    }\r\n    this._isDirty = true;\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n  }\r\n\r\n  TransformProperty.prototype = {\r\n    applyToMatrix: applyToMatrix,\r\n    getValue: processKeys,\r\n    precalculateMatrix: precalculateMatrix,\r\n    autoOrient: autoOrient,\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n  function getTransformProperty(elem, data, container) {\r\n    return new TransformProperty(elem, data, container);\r\n  }\r\n\r\n  return {\r\n    getTransformProperty: getTransformProperty,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, createSizedArray, pointPool */\r\n\r\nfunction ShapePath() {\r\n  this.c = false;\r\n  this._length = 0;\r\n  this._maxLength = 8;\r\n  this.v = createSizedArray(this._maxLength);\r\n  this.o = createSizedArray(this._maxLength);\r\n  this.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function (closed, len) {\r\n  this.c = closed;\r\n  this.setLength(len);\r\n  var i = 0;\r\n  while (i < len) {\r\n    this.v[i] = pointPool.newElement();\r\n    this.o[i] = pointPool.newElement();\r\n    this.i[i] = pointPool.newElement();\r\n    i += 1;\r\n  }\r\n};\r\n\r\nShapePath.prototype.setLength = function (len) {\r\n  while (this._maxLength < len) {\r\n    this.doubleArrayLength();\r\n  }\r\n  this._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function () {\r\n  this.v = this.v.concat(createSizedArray(this._maxLength));\r\n  this.i = this.i.concat(createSizedArray(this._maxLength));\r\n  this.o = this.o.concat(createSizedArray(this._maxLength));\r\n  this._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n  var arr;\r\n  this._length = Math.max(this._length, pos + 1);\r\n  if (this._length >= this._maxLength) {\r\n    this.doubleArrayLength();\r\n  }\r\n  switch (type) {\r\n    case 'v':\r\n      arr = this.v;\r\n      break;\r\n    case 'i':\r\n      arr = this.i;\r\n      break;\r\n    case 'o':\r\n      arr = this.o;\r\n      break;\r\n    default:\r\n      arr = [];\r\n      break;\r\n  }\r\n  if (!arr[pos] || (arr[pos] && !replace)) {\r\n    arr[pos] = pointPool.newElement();\r\n  }\r\n  arr[pos][0] = x;\r\n  arr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n  this.setXYAt(vX, vY, 'v', pos, replace);\r\n  this.setXYAt(oX, oY, 'o', pos, replace);\r\n  this.setXYAt(iX, iY, 'i', pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function () {\r\n  var newPath = new ShapePath();\r\n  newPath.setPathData(this.c, this._length);\r\n  var vertices = this.v;\r\n  var outPoints = this.o;\r\n  var inPoints = this.i;\r\n  var init = 0;\r\n  if (this.c) {\r\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n    init = 1;\r\n  }\r\n  var cnt = this._length - 1;\r\n  var len = this._length;\r\n\r\n  var i;\r\n  for (i = init; i < len; i += 1) {\r\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n    cnt -= 1;\r\n  }\r\n  return newPath;\r\n};\r\n\r\n/* global extendPrototype, roundCorner, BezierFactory, shapePool, degToRads,\r\n  shapeCollectionPool, PropertyFactory, bmMin, DynamicPropertyContainer */\r\n/* exported ShapePropertyFactory */\r\n\r\nvar ShapePropertyFactory = (function () {\r\n  var initFrame = -999999;\r\n\r\n  function interpolateShape(frameNum, previousValue, caching) {\r\n    var iterationIndex = caching.lastIndex;\r\n    var keyPropS;\r\n    var keyPropE;\r\n    var isHold;\r\n    var j;\r\n    var k;\r\n    var jLen;\r\n    var kLen;\r\n    var perc;\r\n    var vertexValue;\r\n    var kf = this.keyframes;\r\n    if (frameNum < kf[0].t - this.offsetTime) {\r\n      keyPropS = kf[0].s[0];\r\n      isHold = true;\r\n      iterationIndex = 0;\r\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n      /* if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            } */\r\n      isHold = true;\r\n    } else {\r\n      var i = iterationIndex;\r\n      var len = kf.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      var keyframeMetadata;\r\n      while (flag) {\r\n        keyData = kf[i];\r\n        nextKeyData = kf[i + 1];\r\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\r\n          break;\r\n        }\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n      keyframeMetadata = this.keyframesMetadata[i] || {};\r\n      isHold = keyData.h === 1;\r\n      iterationIndex = i;\r\n      if (!isHold) {\r\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n          perc = 1;\r\n        } else if (frameNum < keyData.t - this.offsetTime) {\r\n          perc = 0;\r\n        } else {\r\n          var fnc;\r\n          if (keyframeMetadata.__fnct) {\r\n            fnc = keyframeMetadata.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n            keyframeMetadata.__fnct = fnc;\r\n          }\r\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\r\n        }\r\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n      }\r\n      keyPropS = keyData.s[0];\r\n    }\r\n    jLen = previousValue._length;\r\n    kLen = keyPropS.i[0].length;\r\n    caching.lastIndex = iterationIndex;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      for (k = 0; k < kLen; k += 1) {\r\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n        previousValue.i[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n        previousValue.o[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n        previousValue.v[j][k] = vertexValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  function interpolateShapeCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    var lastFrame = this._caching.lastFrame;\r\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\r\n      /// /\r\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n      this.interpolateShape(frameNum, this.pv, this._caching);\r\n      /// /\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function resetShape() {\r\n    this.paths = this.localShapeCollection;\r\n  }\r\n\r\n  function shapesEqual(shape1, shape2) {\r\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n      return false;\r\n    }\r\n    var i;\r\n    var len = shape1._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shape1.v[i][0] !== shape2.v[i][0]\r\n            || shape1.v[i][1] !== shape2.v[i][1]\r\n            || shape1.o[i][0] !== shape2.o[i][0]\r\n            || shape1.o[i][1] !== shape2.o[i][1]\r\n            || shape1.i[i][0] !== shape2.i[i][0]\r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function setVValue(newPath) {\r\n    if (!shapesEqual(this.v, newPath)) {\r\n      this.v = shapePool.clone(newPath);\r\n      this.localShapeCollection.releaseShapes();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this._mdf = true;\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    } if (!this.effectsSequence.length) {\r\n      this._mdf = false;\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var finalValue;\r\n    if (this.kf) {\r\n      finalValue = this.pv;\r\n    } else if (this.data.ks) {\r\n      finalValue = this.data.ks.k;\r\n    } else {\r\n      finalValue = this.data.pt.k;\r\n    }\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function ShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.container = elem;\r\n    this.elem = elem;\r\n    this.data = data;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this._mdf = false;\r\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n    this.v = shapePool.clone(pathData);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.reset = resetShape;\r\n    this.effectsSequence = [];\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  ShapeProperty.prototype.getValue = processEffectsSequence;\r\n  ShapeProperty.prototype.setVValue = setVValue;\r\n  ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  function KeyframedShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.container = elem;\r\n    this.offsetTime = elem.data.st;\r\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n    this.keyframesMetadata = [];\r\n    this.k = true;\r\n    this.kf = true;\r\n    var len = this.keyframes[0].s[0].i.length;\r\n    this.v = shapePool.newElement();\r\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.lastFrame = initFrame;\r\n    this.reset = resetShape;\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\r\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n  }\r\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  var EllShapeProperty = (function () {\r\n    var cPoint = roundCorner;\r\n\r\n    function EllShapePropertyFactory(elem, data) {\r\n      /* this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            }; */\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 4);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.d = data.d;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertEllToPath();\r\n      }\r\n    }\r\n\r\n    EllShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf) {\r\n          this.convertEllToPath();\r\n        }\r\n      },\r\n      convertEllToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var s0 = this.s.v[0] / 2;\r\n        var s1 = this.s.v[1] / 2;\r\n        var _cw = this.d !== 3;\r\n        var _v = this.v;\r\n        _v.v[0][0] = p0;\r\n        _v.v[0][1] = p1 - s1;\r\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.v[1][1] = p1;\r\n        _v.v[2][0] = p0;\r\n        _v.v[2][1] = p1 + s1;\r\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.v[3][1] = p1;\r\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.i[0][1] = p1 - s1;\r\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.i[1][1] = p1 - s1 * cPoint;\r\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.i[2][1] = p1 + s1;\r\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.i[3][1] = p1 + s1 * cPoint;\r\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.o[0][1] = p1 - s1;\r\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.o[1][1] = p1 + s1 * cPoint;\r\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.o[2][1] = p1 + s1;\r\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.o[3][1] = p1 - s1 * cPoint;\r\n      },\r\n    };\r\n\r\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n\r\n    return EllShapePropertyFactory;\r\n  }());\r\n\r\n  var StarShapeProperty = (function () {\r\n    function StarShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 0);\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.data = data;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      if (data.sy === 1) {\r\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n        this.convertToPath = this.convertStarToPath;\r\n      } else {\r\n        this.convertToPath = this.convertPolygonToPath;\r\n      }\r\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertToPath();\r\n      }\r\n    }\r\n\r\n    StarShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertToPath();\r\n        }\r\n      },\r\n      convertStarToPath: function () {\r\n        var numPts = Math.floor(this.pt.v) * 2;\r\n        var angle = (Math.PI * 2) / numPts;\r\n        /* this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts; */\r\n        var longFlag = true;\r\n        var longRad = this.or.v;\r\n        var shortRad = this.ir.v;\r\n        var longRound = this.os.v;\r\n        var shortRound = this.is.v;\r\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\r\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\r\n        var i;\r\n        var rad;\r\n        var roundness;\r\n        var perimSegment;\r\n        var currentAng = -Math.PI / 2;\r\n        currentAng += this.r.v;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          rad = longFlag ? longRad : shortRad;\r\n          roundness = longFlag ? longRound : shortRound;\r\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n\r\n          /* this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts; */\r\n          longFlag = !longFlag;\r\n          currentAng += angle * dir;\r\n        }\r\n      },\r\n      convertPolygonToPath: function () {\r\n        var numPts = Math.floor(this.pt.v);\r\n        var angle = (Math.PI * 2) / numPts;\r\n        var rad = this.or.v;\r\n        var roundness = this.os.v;\r\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\r\n        var i;\r\n        var currentAng = -Math.PI * 0.5;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        currentAng += this.r.v;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n          currentAng += angle * dir;\r\n        }\r\n        this.paths.length = 0;\r\n        this.paths[0] = this.v;\r\n      },\r\n\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n\r\n    return StarShapePropertyFactory;\r\n  }());\r\n\r\n  var RectShapeProperty = (function () {\r\n    function RectShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.c = true;\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertRectToPath();\r\n      }\r\n    }\r\n\r\n    RectShapePropertyFactory.prototype = {\r\n      convertRectToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var v0 = this.s.v[0] / 2;\r\n        var v1 = this.s.v[1] / 2;\r\n        var round = bmMin(v0, v1, this.r.v);\r\n        var cPoint = round * (1 - roundCorner);\r\n        this.v._length = 0;\r\n\r\n        if (this.d === 2 || this.d === 1) {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n          }\r\n        } else {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n          }\r\n        }\r\n      },\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertRectToPath();\r\n        }\r\n      },\r\n      reset: resetShape,\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n\r\n    return RectShapePropertyFactory;\r\n  }());\r\n\r\n  function getShapeProp(elem, data, type) {\r\n    var prop;\r\n    if (type === 3 || type === 4) {\r\n      var dataProp = type === 3 ? data.pt : data.ks;\r\n      var keys = dataProp.k;\r\n      if (keys.length) {\r\n        prop = new KeyframedShapeProperty(elem, data, type);\r\n      } else {\r\n        prop = new ShapeProperty(elem, data, type);\r\n      }\r\n    } else if (type === 5) {\r\n      prop = new RectShapeProperty(elem, data);\r\n    } else if (type === 6) {\r\n      prop = new EllShapeProperty(elem, data);\r\n    } else if (type === 7) {\r\n      prop = new StarShapeProperty(elem, data);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  }\r\n\r\n  function getConstructorFunction() {\r\n    return ShapeProperty;\r\n  }\r\n\r\n  function getKeyframedConstructorFunction() {\r\n    return KeyframedShapeProperty;\r\n  }\r\n\r\n  var ob = {};\r\n  ob.getShapeProp = getShapeProp;\r\n  ob.getConstructorFunction = getConstructorFunction;\r\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n  return ob;\r\n}());\r\n\r\n/* global shapeCollectionPool, initialDefaultFrame, extendPrototype, DynamicPropertyContainer */\r\n/* exported ShapeModifiers */\r\n\r\nvar ShapeModifiers = (function () {\r\n  var ob = {};\r\n  var modifiers = {};\r\n  ob.registerModifier = registerModifier;\r\n  ob.getModifier = getModifier;\r\n\r\n  function registerModifier(nm, factory) {\r\n    if (!modifiers[nm]) {\r\n      modifiers[nm] = factory;\r\n    }\r\n  }\r\n\r\n  function getModifier(nm, elem, data) {\r\n    return new modifiers[nm](elem, data);\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\nfunction ShapeModifier() {}\r\nShapeModifier.prototype.initModifierProperties = function () {};\r\nShapeModifier.prototype.addShapeToModifier = function () {};\r\nShapeModifier.prototype.addShape = function (data) {\r\n  if (!this.closed) {\r\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n    data.sh.container.addDynamicProperty(data.sh);\r\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\r\n    this.shapes.push(shapeData);\r\n    this.addShapeToModifier(shapeData);\r\n    if (this._isAnimated) {\r\n      data.setAsAnimated();\r\n    }\r\n  }\r\n};\r\nShapeModifier.prototype.init = function (elem, data) {\r\n  this.shapes = [];\r\n  this.elem = elem;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, data);\r\n  this.frameId = initialDefaultFrame;\r\n  this.closed = false;\r\n  this.k = false;\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\nShapeModifier.prototype.processKeys = function () {\r\n  if (this.elem.globalData.frameId === this.frameId) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, segmentsLengthPool, bez, shapePool, ShapeModifiers */\r\n\r\nfunction TrimModifier() {\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n  this.sValue = 0;\r\n  this.eValue = 0;\r\n  this.getValue = this.processKeys;\r\n  this.m = data.m;\r\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n  shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n  var segments = [];\r\n  if (e <= 1) {\r\n    segments.push({\r\n      s: s,\r\n      e: e,\r\n    });\r\n  } else if (s >= 1) {\r\n    segments.push({\r\n      s: s - 1,\r\n      e: e - 1,\r\n    });\r\n  } else {\r\n    segments.push({\r\n      s: s,\r\n      e: 1,\r\n    });\r\n    segments.push({\r\n      s: 0,\r\n      e: e - 1,\r\n    });\r\n  }\r\n  var shapeSegments = [];\r\n  var i;\r\n  var len = segments.length;\r\n  var segmentOb;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentOb = segments[i];\r\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n      var shapeS;\r\n      var shapeE;\r\n      if (segmentOb.s * totalModifierLength <= addedLength) {\r\n        shapeS = 0;\r\n      } else {\r\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n      }\r\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n        shapeE = 1;\r\n      } else {\r\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n      }\r\n      shapeSegments.push([shapeS, shapeE]);\r\n    }\r\n  }\r\n  if (!shapeSegments.length) {\r\n    shapeSegments.push([0, 0]);\r\n  }\r\n  return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function (pathsData) {\r\n  var i;\r\n  var len = pathsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentsLengthPool.release(pathsData[i]);\r\n  }\r\n  pathsData.length = 0;\r\n  return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var s;\r\n  var e;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var o = (this.o.v % 360) / 360;\r\n    if (o < 0) {\r\n      o += 1;\r\n    }\r\n    if (this.s.v > 1) {\r\n      s = 1 + o;\r\n    } else if (this.s.v < 0) {\r\n      s = 0 + o;\r\n    } else {\r\n      s = this.s.v + o;\r\n    }\r\n    if (this.e.v > 1) {\r\n      e = 1 + o;\r\n    } else if (this.e.v < 0) {\r\n      e = 0 + o;\r\n    } else {\r\n      e = this.e.v + o;\r\n    }\r\n\r\n    if (s > e) {\r\n      var _s = s;\r\n      s = e;\r\n      e = _s;\r\n    }\r\n    s = Math.round(s * 10000) * 0.0001;\r\n    e = Math.round(e * 10000) * 0.0001;\r\n    this.sValue = s;\r\n    this.eValue = e;\r\n  } else {\r\n    s = this.sValue;\r\n    e = this.eValue;\r\n  }\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var pathsData;\r\n  var pathData;\r\n  var totalShapeLength;\r\n  var totalModifierLength = 0;\r\n\r\n  if (e === s) {\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].localShapeCollection.releaseShapes();\r\n      this.shapes[i].shape._mdf = true;\r\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n      if (this._mdf) {\r\n        this.shapes[i].pathsData.length = 0;\r\n      }\r\n    }\r\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\r\n    var segments = [];\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      } else {\r\n        shapePaths = shapeData.shape.paths;\r\n        jLen = shapePaths._length;\r\n        totalShapeLength = 0;\r\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n          totalShapeLength = shapeData.totalShapeLength;\r\n        } else {\r\n          pathsData = this.releasePathsData(shapeData.pathsData);\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n            pathsData.push(pathData);\r\n            totalShapeLength += pathData.totalLength;\r\n          }\r\n          shapeData.totalShapeLength = totalShapeLength;\r\n          shapeData.pathsData = pathsData;\r\n        }\r\n\r\n        totalModifierLength += totalShapeLength;\r\n        shapeData.shape._mdf = true;\r\n      }\r\n    }\r\n    var shapeS = s;\r\n    var shapeE = e;\r\n    var addedLength = 0;\r\n    var edges;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shapeData = this.shapes[i];\r\n      if (shapeData.shape._mdf) {\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n        localShapeCollection.releaseShapes();\r\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n        if (this.m === 2 && len > 1) {\r\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n          addedLength += shapeData.totalShapeLength;\r\n        } else {\r\n          edges = [[shapeS, shapeE]];\r\n        }\r\n        jLen = edges.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          shapeS = edges[j][0];\r\n          shapeE = edges[j][1];\r\n          segments.length = 0;\r\n          if (shapeE <= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength * shapeE,\r\n            });\r\n          } else if (shapeS >= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * (shapeS - 1),\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          } else {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength,\r\n            });\r\n            segments.push({\r\n              s: 0,\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          }\r\n          var newShapesData = this.addShapes(shapeData, segments[0]);\r\n          if (segments[0].s !== segments[0].e) {\r\n            if (segments.length > 1) {\r\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n              if (lastShapeInCollection.c) {\r\n                var lastShape = newShapesData.pop();\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n              } else {\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1]);\r\n              }\r\n            }\r\n            this.addPaths(newShapesData, localShapeCollection);\r\n          }\r\n        }\r\n        shapeData.shape.paths = localShapeCollection;\r\n      }\r\n    }\r\n  } else if (this._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n      // Don't remove this even if it's losing cached info.\r\n      this.shapes[i].pathsData.length = 0;\r\n      this.shapes[i].shape._mdf = true;\r\n    }\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n  var i;\r\n  var len = newPaths.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    localShapeCollection.addShape(newPaths[i]);\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n  var pathsData = shapeData.pathsData;\r\n  var shapePaths = shapeData.shape.paths.shapes;\r\n  var i;\r\n  var len = shapeData.shape.paths._length;\r\n  var j;\r\n  var jLen;\r\n  var addedLength = 0;\r\n  var currentLengthData;\r\n  var segmentCount;\r\n  var lengths;\r\n  var segment;\r\n  var shapes = [];\r\n  var initPos;\r\n  var newShape = true;\r\n  if (!shapePath) {\r\n    shapePath = shapePool.newElement();\r\n    segmentCount = 0;\r\n    initPos = 0;\r\n  } else {\r\n    segmentCount = shapePath._length;\r\n    initPos = shapePath._length;\r\n  }\r\n  shapes.push(shapePath);\r\n  for (i = 0; i < len; i += 1) {\r\n    lengths = pathsData[i].lengths;\r\n    shapePath.c = shapePaths[i].c;\r\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n    for (j = 1; j < jLen; j += 1) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n        addedLength += currentLengthData.addedLength;\r\n        shapePath.c = false;\r\n      } else if (addedLength > shapeSegment.e) {\r\n        shapePath.c = false;\r\n        break;\r\n      } else {\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n    }\r\n    if (shapePaths[i].c && lengths.length) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength <= shapeSegment.e) {\r\n        var segmentLength = lengths[j - 1].addedLength;\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n      } else {\r\n        shapePath.c = false;\r\n      }\r\n      addedLength += currentLengthData.addedLength;\r\n      segmentCount += 1;\r\n    }\r\n    if (shapePath._length) {\r\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n    }\r\n    if (addedLength > shapeSegment.e) {\r\n      break;\r\n    }\r\n    if (i < len - 1) {\r\n      shapePath = shapePool.newElement();\r\n      newShape = true;\r\n      shapes.push(shapePath);\r\n      segmentCount = 0;\r\n    }\r\n  }\r\n  return shapes;\r\n};\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, roundCorner, ShapeModifiers */\r\n\r\nfunction RoundCornersModifier() {}\r\nextendPrototype([ShapeModifier], RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n  this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function (path, round) {\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var i;\r\n  var len = path._length;\r\n  var currentV;\r\n  var currentI;\r\n  var currentO;\r\n  var closerV;\r\n  var distance;\r\n  var newPosPerc;\r\n  var index = 0;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentV = path.v[i];\r\n    currentO = path.o[i];\r\n    currentI = path.i[i];\r\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n      if ((i === 0 || i === len - 1) && !path.c) {\r\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n        /* clonedPath.v[index] = currentV;\r\n                clonedPath.o[index] = currentO;\r\n                clonedPath.i[index] = currentI; */\r\n        index += 1;\r\n      } else {\r\n        if (i === 0) {\r\n          closerV = path.v[len - 1];\r\n        } else {\r\n          closerV = path.v[i - 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = iX;\r\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n        vY = iY;\r\n        oX = vX - (vX - currentV[0]) * roundCorner;\r\n        oY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n\r\n        if (i === len - 1) {\r\n          closerV = path.v[0];\r\n        } else {\r\n          closerV = path.v[i + 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = oX;\r\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n        vY = oY;\r\n        iX = vX - (vX - currentV[0]) * roundCorner;\r\n        iY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n      }\r\n    } else {\r\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n      index += 1;\r\n    }\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var rd = this.rd.v;\r\n\r\n  if (rd !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, ShapeModifiers */\r\n\r\nfunction PuckerAndBloatModifier() {}\r\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n  this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n  var percent = amount / 100;\r\n  var centerPoint = [0, 0];\r\n  var pathLength = path._length;\r\n  var i = 0;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    centerPoint[0] += path.v[i][0];\r\n    centerPoint[1] += path.v[i][1];\r\n  }\r\n  centerPoint[0] /= pathLength;\r\n  centerPoint[1] /= pathLength;\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var amount = this.amount.v;\r\n\r\n  if (amount !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, TransformPropertyFactory, PropertyFactory, Matrix, ShapeModifiers */\r\n\r\nfunction RepeaterModifier() {}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n  this.data = data;\r\n  if (!this.dynamicProperties.length) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = !!this.dynamicProperties.length;\r\n  this.pMatrix = new Matrix();\r\n  this.rMatrix = new Matrix();\r\n  this.sMatrix = new Matrix();\r\n  this.tMatrix = new Matrix();\r\n  this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n  var dir = inv ? -1 : 1;\r\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  rMatrix.rotate(-transform.r.v * dir * perc);\r\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n  this.elem = elem;\r\n  this.arr = arr;\r\n  this.pos = pos;\r\n  this.elemsData = elemsData;\r\n  this._currentCopies = 0;\r\n  this._elements = [];\r\n  this._groups = [];\r\n  this.frameId = -1;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, arr[pos]);\r\n  while (pos > 0) {\r\n    pos -= 1;\r\n    // this._elements.unshift(arr.splice(pos,1)[0]);\r\n    this._elements.unshift(arr[pos]);\r\n  }\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function (elements) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._processed = false;\r\n    if (elements[i].ty === 'gr') {\r\n      this.resetElements(elements[i].it);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function (elements) {\r\n  var newElements = JSON.parse(JSON.stringify(elements));\r\n  this.resetElements(newElements);\r\n  return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._render = renderFlag;\r\n    if (elements[i].ty === 'gr') {\r\n      this.changeGroupRender(elements[i].it, renderFlag);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var items;\r\n  var itemsTransform;\r\n  var i;\r\n  var dir;\r\n  var cont;\r\n  var hasReloaded = false;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var copies = Math.ceil(this.c.v);\r\n    if (this._groups.length < copies) {\r\n      while (this._groups.length < copies) {\r\n        var group = {\r\n          it: this.cloneElements(this._elements),\r\n          ty: 'gr',\r\n        };\r\n        group.it.push({\r\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\r\n        });\r\n\r\n        this.arr.splice(0, 0, group);\r\n        this._groups.splice(0, 0, group);\r\n        this._currentCopies += 1;\r\n      }\r\n      this.elem.reloadShapes();\r\n      hasReloaded = true;\r\n    }\r\n    cont = 0;\r\n    var renderFlag;\r\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n      renderFlag = cont < copies;\r\n      this._groups[i]._render = renderFlag;\r\n      this.changeGroupRender(this._groups[i].it, renderFlag);\r\n      if (!renderFlag) {\r\n        var elems = this.elemsData[i].it;\r\n        var transformData = elems[elems.length - 1];\r\n        if (transformData.transform.op.v !== 0) {\r\n          transformData.transform.op._mdf = true;\r\n          transformData.transform.op.v = 0;\r\n        } else {\r\n          transformData.transform.op._mdf = false;\r\n        }\r\n      }\r\n      cont += 1;\r\n    }\r\n\r\n    this._currentCopies = copies;\r\n    /// /\r\n\r\n    var offset = this.o.v;\r\n    var offsetModulo = offset % 1;\r\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n    var pProps = this.pMatrix.props;\r\n    var rProps = this.rMatrix.props;\r\n    var sProps = this.sMatrix.props;\r\n    this.pMatrix.reset();\r\n    this.rMatrix.reset();\r\n    this.sMatrix.reset();\r\n    this.tMatrix.reset();\r\n    this.matrix.reset();\r\n    var iteration = 0;\r\n\r\n    if (offset > 0) {\r\n      while (iteration < roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        iteration += 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n        iteration += offsetModulo;\r\n      }\r\n    } else if (offset < 0) {\r\n      while (iteration > roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n        iteration -= 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n        iteration -= offsetModulo;\r\n      }\r\n    }\r\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n    dir = this.data.m === 1 ? 1 : -1;\r\n    cont = this._currentCopies;\r\n    var j;\r\n    var jLen;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      jLen = itemsTransform.length;\r\n      items[items.length - 1].transform.mProps._mdf = true;\r\n      items[items.length - 1].transform.op._mdf = true;\r\n      items[items.length - 1].transform.op.v = this._currentCopies === 1\r\n        ? this.so.v\r\n        : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n      if (iteration !== 0) {\r\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        }\r\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n        this.matrix.reset();\r\n      } else {\r\n        this.matrix.reset();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n      }\r\n      iteration += 1;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  } else {\r\n    cont = this._currentCopies;\r\n    i = 0;\r\n    dir = 1;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      items[items.length - 1].transform.mProps._mdf = false;\r\n      items[items.length - 1].transform.op._mdf = false;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  }\r\n  return hasReloaded;\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function () {};\r\n\r\nShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n\r\n/* global createSizedArray, shapePool */\r\n\r\nfunction ShapeCollection() {\r\n  this._length = 0;\r\n  this._maxLength = 4;\r\n  this.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function (shapeData) {\r\n  if (this._length === this._maxLength) {\r\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  }\r\n  this.shapes[this._length] = shapeData;\r\n  this._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function () {\r\n  var i;\r\n  for (i = 0; i < this._length; i += 1) {\r\n    shapePool.release(this.shapes[i]);\r\n  }\r\n  this._length = 0;\r\n};\r\n\r\n/* global createSizedArray, createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction DashProperty(elem, data, renderer, container) {\r\n  this.elem = elem;\r\n  this.frameId = -1;\r\n  this.dataProps = createSizedArray(data.length);\r\n  this.renderer = renderer;\r\n  this.k = false;\r\n  this.dashStr = '';\r\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n  this.dashoffset = createTypedArray('float32', 1);\r\n  this.initDynamicPropertyContainer(container);\r\n  var i;\r\n  var len = data.length || 0;\r\n  var prop;\r\n  for (i = 0; i < len; i += 1) {\r\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n    this.k = prop.k || this.k;\r\n    this.dataProps[i] = { n: data[i].n, p: prop };\r\n  }\r\n  if (!this.k) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function (forceRender) {\r\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n  this._mdf = this._mdf || forceRender;\r\n  if (this._mdf) {\r\n    var i = 0;\r\n    var len = this.dataProps.length;\r\n    if (this.renderer === 'svg') {\r\n      this.dashStr = '';\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.dataProps[i].n !== 'o') {\r\n        if (this.renderer === 'svg') {\r\n          this.dashStr += ' ' + this.dataProps[i].p.v;\r\n        } else {\r\n          this.dashArray[i] = this.dataProps[i].p.v;\r\n        }\r\n      } else {\r\n        this.dashoffset[0] = this.dataProps[i].p.v;\r\n      }\r\n    }\r\n  }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n/* global createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\nfunction GradientProperty(elem, data, container) {\r\n  this.data = data;\r\n  this.c = createTypedArray('uint8c', data.p * 4);\r\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\r\n  this.o = createTypedArray('float32', cLength);\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  this._collapsable = this.checkCollapsable();\r\n  this._hasOpacity = cLength;\r\n  this.initDynamicPropertyContainer(container);\r\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n  this.k = this.prop.k;\r\n  this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function (values, points) {\r\n  var i = 0;\r\n  var len = this.o.length / 2;\r\n  var diff;\r\n  while (i < len) {\r\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n    if (diff > 0.01) {\r\n      return false;\r\n    }\r\n    i += 1;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function () {\r\n  if (this.o.length / 2 !== this.c.length / 4) {\r\n    return false;\r\n  }\r\n  if (this.data.k.k[0].s) {\r\n    var i = 0;\r\n    var len = this.data.k.k.length;\r\n    while (i < len) {\r\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function (forceRender) {\r\n  this.prop.getValue();\r\n  this._mdf = false;\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  if (this.prop._mdf || forceRender) {\r\n    var i;\r\n    var len = this.data.p * 4;\r\n    var mult;\r\n    var val;\r\n    for (i = 0; i < len; i += 1) {\r\n      mult = i % 4 === 0 ? 100 : 255;\r\n      val = Math.round(this.prop.v[i] * mult);\r\n      if (this.c[i] !== val) {\r\n        this.c[i] = val;\r\n        this._cmdf = !forceRender;\r\n      }\r\n    }\r\n    if (this.o.length) {\r\n      len = this.prop.v.length;\r\n      for (i = this.data.p * 4; i < len; i += 1) {\r\n        mult = i % 2 === 0 ? 100 : 1;\r\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n        if (this.o[i - this.data.p * 4] !== val) {\r\n          this.o[i - this.data.p * 4] = val;\r\n          this._omdf = !forceRender;\r\n        }\r\n      }\r\n    }\r\n    this._mdf = !forceRender;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n/* exported buildShapeString */\r\n\r\nvar buildShapeString = function (pathNodes, length, closed, mat) {\r\n  if (length === 0) {\r\n    return '';\r\n  }\r\n  var _o = pathNodes.o;\r\n  var _i = pathNodes.i;\r\n  var _v = pathNodes.v;\r\n  var i;\r\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n  for (i = 1; i < length; i += 1) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n  }\r\n  if (closed && length) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n    shapeString += 'z';\r\n  }\r\n  return shapeString;\r\n};\r\n\r\n/* global Howl */\r\n/* exported audioControllerFactory */\r\n\r\nvar audioControllerFactory = (function () {\r\n  function AudioController(audioFactory) {\r\n    this.audios = [];\r\n    this.audioFactory = audioFactory;\r\n    this._volume = 1;\r\n    this._isMuted = false;\r\n  }\r\n\r\n  AudioController.prototype = {\r\n    addAudio: function (audio) {\r\n      this.audios.push(audio);\r\n    },\r\n    pause: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].pause();\r\n      }\r\n    },\r\n    resume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].resume();\r\n      }\r\n    },\r\n    setRate: function (rateValue) {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].setRate(rateValue);\r\n      }\r\n    },\r\n    createAudio: function (assetPath) {\r\n      if (this.audioFactory) {\r\n        return this.audioFactory(assetPath);\r\n      } if (Howl) {\r\n        return new Howl({\r\n          src: [assetPath],\r\n        });\r\n      }\r\n      return {\r\n        isPlaying: false,\r\n        play: function () { this.isPlaying = true; },\r\n        seek: function () { this.isPlaying = false; },\r\n        playing: function () {},\r\n        rate: function () {},\r\n        setVolume: function () {},\r\n      };\r\n    },\r\n    setAudioFactory: function (audioFactory) {\r\n      this.audioFactory = audioFactory;\r\n    },\r\n    setVolume: function (value) {\r\n      this._volume = value;\r\n      this._updateVolume();\r\n    },\r\n    mute: function () {\r\n      this._isMuted = true;\r\n      this._updateVolume();\r\n    },\r\n    unmute: function () {\r\n      this._isMuted = false;\r\n      this._updateVolume();\r\n    },\r\n    getVolume: function () {\r\n      return this._volume;\r\n    },\r\n    _updateVolume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n      }\r\n    },\r\n  };\r\n\r\n  return function () {\r\n    return new AudioController();\r\n  };\r\n}());\r\n\r\n/* global createTag, createNS, isSafari, dataManager */\r\n/* exported ImagePreloader */\r\n\r\nvar ImagePreloader = (function () {\r\n  var proxyImage = (function () {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'rgba(0,0,0,0)';\r\n    ctx.fillRect(0, 0, 1, 1);\r\n    return canvas;\r\n  }());\r\n\r\n  function imageLoaded() {\r\n    this.loadedAssets += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n  function footageLoaded() {\r\n    this.loadedFootagesCount += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  function getAssetsPath(assetData, assetsPath, originalPath) {\r\n    var path = '';\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (assetsPath) {\r\n      var imagePath = assetData.p;\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n      path = assetsPath + imagePath;\r\n    } else {\r\n      path = originalPath;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function testImageLoaded(img) {\r\n    var _count = 0;\r\n    var intervalId = setInterval(function () {\r\n      var box = img.getBBox();\r\n      if (box.width || _count > 500) {\r\n        this._imageLoaded();\r\n        clearInterval(intervalId);\r\n      }\r\n      _count += 1;\r\n    }.bind(this), 50);\r\n  }\r\n\r\n  function createImageData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createNS('image');\r\n    if (isSafari) {\r\n      this.testImageLoaded(img);\r\n    } else {\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n    }\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n    if (this._elementHelper.append) {\r\n      this._elementHelper.append(img);\r\n    } else {\r\n      this._elementHelper.appendChild(img);\r\n    }\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createImgData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createTag('img');\r\n    img.crossOrigin = 'anonymous';\r\n    img.addEventListener('load', this._imageLoaded, false);\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.src = path;\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createFootageData(data) {\r\n    var ob = {\r\n      assetData: data,\r\n    };\r\n    var path = getAssetsPath(data, this.assetsPath, this.path);\r\n    dataManager.loadData(path, function (footageData) {\r\n      ob.img = footageData;\r\n      this._footageLoaded();\r\n    }.bind(this), function () {\r\n      ob.img = {};\r\n      this._footageLoaded();\r\n    }.bind(this));\r\n    return ob;\r\n  }\r\n\r\n  function loadAssets(assets, cb) {\r\n    this.imagesLoadedCb = cb;\r\n    var i;\r\n    var len = assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!assets[i].layers) {\r\n        if (!assets[i].t || assets[i].t === 'seq') {\r\n          this.totalImages += 1;\r\n          this.images.push(this._createImageData(assets[i]));\r\n        } else if (assets[i].t === 3) {\r\n          this.totalFootages += 1;\r\n          this.images.push(this.createFootageData(assets[i]));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function setPath(path) {\r\n    this.path = path || '';\r\n  }\r\n\r\n  function setAssetsPath(path) {\r\n    this.assetsPath = path || '';\r\n  }\r\n\r\n  function getAsset(assetData) {\r\n    var i = 0;\r\n    var len = this.images.length;\r\n    while (i < len) {\r\n      if (this.images[i].assetData === assetData) {\r\n        return this.images[i].img;\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function destroy() {\r\n    this.imagesLoadedCb = null;\r\n    this.images.length = 0;\r\n  }\r\n\r\n  function loadedImages() {\r\n    return this.totalImages === this.loadedAssets;\r\n  }\r\n\r\n  function loadedFootages() {\r\n    return this.totalFootages === this.loadedFootagesCount;\r\n  }\r\n\r\n  function setCacheType(type, elementHelper) {\r\n    if (type === 'svg') {\r\n      this._elementHelper = elementHelper;\r\n      this._createImageData = this.createImageData.bind(this);\r\n    } else {\r\n      this._createImageData = this.createImgData.bind(this);\r\n    }\r\n  }\r\n\r\n  function ImagePreloaderFactory() {\r\n    this._imageLoaded = imageLoaded.bind(this);\r\n    this._footageLoaded = footageLoaded.bind(this);\r\n    this.testImageLoaded = testImageLoaded.bind(this);\r\n    this.createFootageData = createFootageData.bind(this);\r\n    this.assetsPath = '';\r\n    this.path = '';\r\n    this.totalImages = 0;\r\n    this.totalFootages = 0;\r\n    this.loadedAssets = 0;\r\n    this.loadedFootagesCount = 0;\r\n    this.imagesLoadedCb = null;\r\n    this.images = [];\r\n  }\r\n\r\n  ImagePreloaderFactory.prototype = {\r\n    loadAssets: loadAssets,\r\n    setAssetsPath: setAssetsPath,\r\n    setPath: setPath,\r\n    loadedImages: loadedImages,\r\n    loadedFootages: loadedFootages,\r\n    destroy: destroy,\r\n    getAsset: getAsset,\r\n    createImgData: createImgData,\r\n    createImageData: createImageData,\r\n    imageLoaded: imageLoaded,\r\n    footageLoaded: footageLoaded,\r\n    setCacheType: setCacheType,\r\n  };\r\n\r\n  return ImagePreloaderFactory;\r\n}());\r\n\r\n/* exported featureSupport */\r\n\r\nvar featureSupport = (function () {\r\n  var ob = {\r\n    maskType: true,\r\n  };\r\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n    ob.maskType = false;\r\n  }\r\n  return ob;\r\n}());\r\n\r\n/* global createNS */\r\n/* exported filtersFactory */\r\n\r\nvar filtersFactory = (function () {\r\n  var ob = {};\r\n  ob.createFilter = createFilter;\r\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n  function createFilter(filId, skipCoordinates) {\r\n    var fil = createNS('filter');\r\n    fil.setAttribute('id', filId);\r\n    if (skipCoordinates !== true) {\r\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n      fil.setAttribute('x', '0%');\r\n      fil.setAttribute('y', '0%');\r\n      fil.setAttribute('width', '100%');\r\n      fil.setAttribute('height', '100%');\r\n    }\r\n    return fil;\r\n  }\r\n\r\n  function createAlphaToLuminanceFilter() {\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n    return feColorMatrix;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray, PropertyFactory, TextAnimatorDataProperty, bez, addHueToRGB,\r\n  addSaturationToRGB, addBrightnessToRGB, LetterProps, Matrix, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem) {\r\n  this._isFirstFrame = true;\r\n  this._hasMaskedPath = false;\r\n  this._frameId = -1;\r\n  this._textData = textData;\r\n  this._renderType = renderType;\r\n  this._elem = elem;\r\n  this._animatorsData = createSizedArray(this._textData.a.length);\r\n  this._pathData = {};\r\n  this._moreOptions = {\r\n    alignment: {},\r\n  };\r\n  this.renderedLetters = [];\r\n  this.lettersChangedFlag = false;\r\n  this.initDynamicPropertyContainer(elem);\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function () {\r\n  var i;\r\n  var len = this._textData.a.length;\r\n  var animatorProps;\r\n  var getProp = PropertyFactory.getProp;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatorProps = this._textData.a[i];\r\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n  }\r\n  if (this._textData.p && 'm' in this._textData.p) {\r\n    this._pathData = {\r\n      a: getProp(this._elem, this._textData.p.a, 0, 0, this),\r\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n      r: getProp(this._elem, this._textData.p.r, 0, 0, this),\r\n      p: getProp(this._elem, this._textData.p.p, 0, 0, this),\r\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\r\n    };\r\n    this._hasMaskedPath = true;\r\n  } else {\r\n    this._hasMaskedPath = false;\r\n  }\r\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n  this.lettersChangedFlag = lettersChangedFlag;\r\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n    return;\r\n  }\r\n  this._isFirstFrame = false;\r\n  var alignment = this._moreOptions.alignment.v;\r\n  var animators = this._animatorsData;\r\n  var textData = this._textData;\r\n  var matrixHelper = this.mHelper;\r\n  var renderType = this._renderType;\r\n  var renderedLettersCount = this.renderedLetters.length;\r\n  var xPos;\r\n  var yPos;\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var pathInfo;\r\n  var currentLength;\r\n  var currentPoint;\r\n  var segmentLength;\r\n  var flag;\r\n  var pointInd;\r\n  var segmentInd;\r\n  var prevPoint;\r\n  var points;\r\n  var segments;\r\n  var partialLength;\r\n  var totalLength;\r\n  var perc;\r\n  var tanAngle;\r\n  var mask;\r\n  if (this._hasMaskedPath) {\r\n    mask = this._pathData.m;\r\n    if (!this._pathData.n || this._pathData._mdf) {\r\n      var paths = mask.v;\r\n      if (this._pathData.r.v) {\r\n        paths = paths.reverse();\r\n      }\r\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n      pathInfo = {\r\n        tLength: 0,\r\n        segments: [],\r\n      };\r\n      len = paths._length - 1;\r\n      var bezierData;\r\n      totalLength = 0;\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[i + 1],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      i = len;\r\n      if (mask.v.c) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[0],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      this._pathData.pi = pathInfo;\r\n    }\r\n    pathInfo = this._pathData.pi;\r\n\r\n    currentLength = this._pathData.f.v;\r\n    segmentInd = 0;\r\n    pointInd = 1;\r\n    segmentLength = 0;\r\n    flag = true;\r\n    segments = pathInfo.segments;\r\n    if (currentLength < 0 && mask.v.c) {\r\n      if (pathInfo.tLength < Math.abs(currentLength)) {\r\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n      }\r\n      segmentInd = segments.length - 1;\r\n      points = segments[segmentInd].points;\r\n      pointInd = points.length - 1;\r\n      while (currentLength < 0) {\r\n        currentLength += points[pointInd].partialLength;\r\n        pointInd -= 1;\r\n        if (pointInd < 0) {\r\n          segmentInd -= 1;\r\n          points = segments[segmentInd].points;\r\n          pointInd = points.length - 1;\r\n        }\r\n      }\r\n    }\r\n    points = segments[segmentInd].points;\r\n    prevPoint = points[pointInd - 1];\r\n    currentPoint = points[pointInd];\r\n    partialLength = currentPoint.partialLength;\r\n  }\r\n\r\n  len = letters.length;\r\n  xPos = 0;\r\n  yPos = 0;\r\n  var yOff = documentData.finalSize * 1.2 * 0.714;\r\n  var firstLine = true;\r\n  var animatorProps;\r\n  var animatorSelector;\r\n  var j;\r\n  var jLen;\r\n  var letterValue;\r\n\r\n  jLen = animators.length;\r\n\r\n  var mult;\r\n  var ind = -1;\r\n  var offf;\r\n  var xPathPos;\r\n  var yPathPos;\r\n  var initPathPos = currentLength;\r\n  var initSegmentInd = segmentInd;\r\n  var initPointInd = pointInd;\r\n  var currentLine = -1;\r\n  var elemOpacity;\r\n  var sc;\r\n  var sw;\r\n  var fc;\r\n  var k;\r\n  var letterSw;\r\n  var letterSc;\r\n  var letterFc;\r\n  var letterM = '';\r\n  var letterP = this.defaultPropsArray;\r\n  var letterO;\r\n\r\n  //\r\n  if (documentData.j === 2 || documentData.j === 1) {\r\n    var animatorJustifyOffset = 0;\r\n    var animatorFirstCharOffset = 0;\r\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n    var lastIndex = 0;\r\n    var isNewLine = true;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        if (animatorJustifyOffset) {\r\n          animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while (lastIndex < i) {\r\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n          lastIndex += 1;\r\n        }\r\n        animatorJustifyOffset = 0;\r\n        isNewLine = true;\r\n      } else {\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.t.propType) {\r\n            if (isNewLine && documentData.j === 2) {\r\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n            }\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n            } else {\r\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n            }\r\n          }\r\n        }\r\n        isNewLine = false;\r\n      }\r\n    }\r\n    if (animatorJustifyOffset) {\r\n      animatorJustifyOffset += animatorFirstCharOffset;\r\n    }\r\n    while (lastIndex < i) {\r\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n      lastIndex += 1;\r\n    }\r\n  }\r\n  //\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    matrixHelper.reset();\r\n    elemOpacity = 1;\r\n    if (letters[i].n) {\r\n      xPos = 0;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      currentLength = initPathPos;\r\n      firstLine = false;\r\n      if (this._hasMaskedPath) {\r\n        segmentInd = initSegmentInd;\r\n        pointInd = initPointInd;\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n        segmentLength = 0;\r\n      }\r\n      letterM = '';\r\n      letterFc = '';\r\n      letterSw = '';\r\n      letterO = '';\r\n      letterP = this.defaultPropsArray;\r\n    } else {\r\n      if (this._hasMaskedPath) {\r\n        if (currentLine !== letters[i].line) {\r\n          switch (documentData.j) {\r\n            case 1:\r\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n              break;\r\n            case 2:\r\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          currentLine = letters[i].line;\r\n        }\r\n        if (ind !== letters[i].ind) {\r\n          if (letters[ind]) {\r\n            currentLength += letters[ind].extra;\r\n          }\r\n          currentLength += letters[i].an / 2;\r\n          ind = letters[i].ind;\r\n        }\r\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\r\n        var animatorOffset = 0;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.p.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.p.v[0] * mult;\r\n            }\r\n          }\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.a.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.a.v[0] * mult;\r\n            }\r\n          }\r\n        }\r\n        flag = true;\r\n        // Force alignment only works with a single line for now\r\n        if (this._pathData.a.v) {\r\n          currentLength = letters[0].an * 0.5 + ((totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind) / (len - 1);\r\n          currentLength += this._pathData.f.v;\r\n        }\r\n        while (flag) {\r\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\r\n            flag = false;\r\n          } else if (points) {\r\n            segmentLength += currentPoint.partialLength;\r\n            pointInd += 1;\r\n            if (pointInd >= points.length) {\r\n              pointInd = 0;\r\n              segmentInd += 1;\r\n              if (!segments[segmentInd]) {\r\n                if (mask.v.c) {\r\n                  pointInd = 0;\r\n                  segmentInd = 0;\r\n                  points = segments[segmentInd].points;\r\n                } else {\r\n                  segmentLength -= currentPoint.partialLength;\r\n                  points = null;\r\n                }\r\n              } else {\r\n                points = segments[segmentInd].points;\r\n              }\r\n            }\r\n            if (points) {\r\n              prevPoint = currentPoint;\r\n              currentPoint = points[pointInd];\r\n              partialLength = currentPoint.partialLength;\r\n            }\r\n          }\r\n        }\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n      } else {\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n\r\n        // Grouping alignment\r\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.t.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n          if (xPos !== 0 || documentData.j !== 0) {\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                currentLength += animatorProps.t.v * mult[0];\r\n              } else {\r\n                currentLength += animatorProps.t.v * mult;\r\n              }\r\n            } else if (mult.length) {\r\n              xPos += animatorProps.t.v * mult[0];\r\n            } else {\r\n              xPos += animatorProps.t.v * mult;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        sw = documentData.sw || 0;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        if (documentData.sc) {\r\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n        } else {\r\n          sc = [0, 0, 0];\r\n        }\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.a.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (mult.length) {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.s.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (mult.length) {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\r\n          } else {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        animatorSelector = animators[j].s;\r\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n        if (animatorProps.sk.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n          } else {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.r.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n          } else {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.ry.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n          } else {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.rx.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n          } else {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.o.propType) {\r\n          if (mult.length) {\r\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\r\n          } else {\r\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n          if (mult.length) {\r\n            sw += animatorProps.sw.v * mult[0];\r\n          } else {\r\n            sw += animatorProps.sw.v * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n          for (k = 0; k < 3; k += 1) {\r\n            if (mult.length) {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n            } else {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n            }\r\n          }\r\n        }\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          if (animatorProps.fc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n              } else {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n          if (animatorProps.fh.propType) {\r\n            if (mult.length) {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n            } else {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fs.propType) {\r\n            if (mult.length) {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n            } else {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fb.propType) {\r\n            if (mult.length) {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n            } else {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n\r\n        if (animatorProps.p.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (this._hasMaskedPath) {\r\n            if (mult.length) {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n            } else {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          } else if (mult.length) {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        letterSw = sw < 0 ? 0 : sw;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n      }\r\n\r\n      if (this._hasMaskedPath) {\r\n        matrixHelper.translate(0, -documentData.ls);\r\n\r\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\r\n        if (this._pathData.p.v) {\r\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\r\n          if (currentPoint.point[0] < prevPoint.point[0]) {\r\n            rot += 180;\r\n          }\r\n          matrixHelper.rotate((-rot * Math.PI) / 180);\r\n        }\r\n        matrixHelper.translate(xPathPos, yPathPos, 0);\r\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\r\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n          currentLength += letters[i].an / 2;\r\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\r\n        }\r\n      } else {\r\n        matrixHelper.translate(xPos, yPos, 0);\r\n\r\n        if (documentData.ps) {\r\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n        }\r\n        switch (documentData.j) {\r\n          case 1:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n            break;\r\n          case 2:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        matrixHelper.translate(0, -documentData.ls);\r\n        matrixHelper.translate(offf, 0, 0);\r\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\r\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\r\n      }\r\n      if (renderType === 'html') {\r\n        letterM = matrixHelper.toCSS();\r\n      } else if (renderType === 'svg') {\r\n        letterM = matrixHelper.to2dCSS();\r\n      } else {\r\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n      }\r\n      letterO = elemOpacity;\r\n    }\r\n\r\n    if (renderedLettersCount <= i) {\r\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n      this.renderedLetters.push(letterValue);\r\n      renderedLettersCount += 1;\r\n      this.lettersChangedFlag = true;\r\n    } else {\r\n      letterValue = this.renderedLetters[i];\r\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n    }\r\n  }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function () {\r\n  if (this._elem.globalData.frameId === this._frameId) {\r\n    return;\r\n  }\r\n  this._frameId = this._elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n/* global PropertyFactory, degToRads, TextSelectorProp */\r\n/* exported TextAnimatorDataProperty */\r\n\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n  var defaultData = { propType: false };\r\n  var getProp = PropertyFactory.getProp;\r\n  var textAnimatorAnimatables = animatorProps.a;\r\n  this.a = {\r\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\r\n  };\r\n\r\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n  this.s.t = animatorProps.s.t;\r\n}\r\n\r\nfunction LetterProps(o, sw, sc, fc, m, p) {\r\n  this.o = o;\r\n  this.sw = sw;\r\n  this.sc = sc;\r\n  this.fc = fc;\r\n  this.m = m;\r\n  this.p = p;\r\n  this._mdf = {\r\n    o: true,\r\n    sw: !!sw,\r\n    sc: !!sc,\r\n    fc: !!fc,\r\n    m: true,\r\n    p: true,\r\n  };\r\n}\r\n\r\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n  this._mdf.o = false;\r\n  this._mdf.sw = false;\r\n  this._mdf.sc = false;\r\n  this._mdf.fc = false;\r\n  this._mdf.m = false;\r\n  this._mdf.p = false;\r\n  var updated = false;\r\n\r\n  if (this.o !== o) {\r\n    this.o = o;\r\n    this._mdf.o = true;\r\n    updated = true;\r\n  }\r\n  if (this.sw !== sw) {\r\n    this.sw = sw;\r\n    this._mdf.sw = true;\r\n    updated = true;\r\n  }\r\n  if (this.sc !== sc) {\r\n    this.sc = sc;\r\n    this._mdf.sc = true;\r\n    updated = true;\r\n  }\r\n  if (this.fc !== fc) {\r\n    this.fc = fc;\r\n    this._mdf.fc = true;\r\n    updated = true;\r\n  }\r\n  if (this.m !== m) {\r\n    this.m = m;\r\n    this._mdf.m = true;\r\n    updated = true;\r\n  }\r\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n    this.p = p;\r\n    this._mdf.p = true;\r\n    updated = true;\r\n  }\r\n  return updated;\r\n};\r\n\r\n/* global FontManager, initialDefaultFrame, getFontProperties */\r\n/* exported TextProperty */\r\n\r\nfunction TextProperty(elem, data) {\r\n  this._frameId = initialDefaultFrame;\r\n  this.pv = '';\r\n  this.v = '';\r\n  this.kf = false;\r\n  this._isFirstFrame = true;\r\n  this._mdf = false;\r\n  this.data = data;\r\n  this.elem = elem;\r\n  this.comp = this.elem.comp;\r\n  this.keysIndex = 0;\r\n  this.canResize = false;\r\n  this.minimumFontSize = 1;\r\n  this.effectsSequence = [];\r\n  this.currentData = {\r\n    ascent: 0,\r\n    boxWidth: this.defaultBoxWidth,\r\n    f: '',\r\n    fStyle: '',\r\n    fWeight: '',\r\n    fc: '',\r\n    j: '',\r\n    justifyOffset: '',\r\n    l: [],\r\n    lh: 0,\r\n    lineWidths: [],\r\n    ls: '',\r\n    of: '',\r\n    s: '',\r\n    sc: '',\r\n    sw: 0,\r\n    t: 0,\r\n    tr: 0,\r\n    sz: 0,\r\n    ps: null,\r\n    fillColorAnim: false,\r\n    strokeColorAnim: false,\r\n    strokeWidthAnim: false,\r\n    yOffset: 0,\r\n    finalSize: 0,\r\n    finalText: [],\r\n    finalLineHeight: 0,\r\n    __complete: false,\r\n\r\n  };\r\n  this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n  if (!this.searchProperty()) {\r\n    this.completeTextData(this.currentData);\r\n  }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\nTextProperty.prototype.copyData = function (obj, data) {\r\n  for (var s in data) {\r\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n      obj[s] = data[s];\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nTextProperty.prototype.setCurrentData = function (data) {\r\n  if (!data.__complete) {\r\n    this.completeTextData(data);\r\n  }\r\n  this.currentData = data;\r\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n  this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function () {\r\n  return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function () {\r\n  this.kf = this.data.d.k.length > 1;\r\n  if (this.kf) {\r\n    this.addEffect(this.getKeyframeValue.bind(this));\r\n  }\r\n  return this.kf;\r\n};\r\n\r\nTextProperty.prototype.addEffect = function (effectFunction) {\r\n  this.effectsSequence.push(effectFunction);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function (_finalValue) {\r\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n    return;\r\n  }\r\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n  var currentValue = this.currentData;\r\n  var currentIndex = this.keysIndex;\r\n  if (this.lock) {\r\n    this.setCurrentData(this.currentData);\r\n    return;\r\n  }\r\n  this.lock = true;\r\n  this._mdf = false;\r\n  var i; var\r\n    len = this.effectsSequence.length;\r\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n  for (i = 0; i < len; i += 1) {\r\n    // Checking if index changed to prevent creating a new object every time the expression updates.\r\n    if (currentIndex !== this.keysIndex) {\r\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n    } else {\r\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n    }\r\n  }\r\n  if (currentValue !== finalValue) {\r\n    this.setCurrentData(finalValue);\r\n  }\r\n  this.v = this.currentData;\r\n  this.pv = this.v;\r\n  this.lock = false;\r\n  this.frameId = this.elem.globalData.frameId;\r\n};\r\n\r\nTextProperty.prototype.getKeyframeValue = function () {\r\n  var textKeys = this.data.d.k;\r\n  var frameNum = this.elem.comp.renderedFrame;\r\n  var i = 0; var\r\n    len = textKeys.length;\r\n  while (i <= len - 1) {\r\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  if (this.keysIndex !== i) {\r\n    this.keysIndex = i;\r\n  }\r\n  return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function (text) {\r\n  var charactersArray = [];\r\n  var i = 0;\r\n  var len = text.length;\r\n  var charCode;\r\n  var secondCharCode;\r\n  var shouldCombine = false;\r\n  while (i < len) {\r\n    charCode = text.charCodeAt(i);\r\n    if (FontManager.isCombinedCharacter(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n        if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\r\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n          shouldCombine = false;\r\n        } else {\r\n          charactersArray.push(text.substr(i, 2));\r\n        }\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (charCode > 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\r\n        shouldCombine = true;\r\n        charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n      shouldCombine = true;\r\n    } else {\r\n      charactersArray.push(text.charAt(i));\r\n    }\r\n    i += 1;\r\n  }\r\n  return charactersArray;\r\n};\r\n\r\nTextProperty.prototype.completeTextData = function (documentData) {\r\n  documentData.__complete = true;\r\n  var fontManager = this.elem.globalData.fontManager;\r\n  var data = this.data;\r\n  var letters = [];\r\n  var i; var\r\n    len;\r\n  var newLineFlag; var index = 0; var\r\n    val;\r\n  var anchorGrouping = data.m.g;\r\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\r\n    lineWidths = [];\r\n  var lineWidth = 0;\r\n  var maxLineWidth = 0;\r\n  var j; var\r\n    jLen;\r\n  var fontData = fontManager.getFontByName(documentData.f);\r\n  var charData; var\r\n    cLength = 0;\r\n\r\n  var fontProps = getFontProperties(fontData);\r\n  documentData.fWeight = fontProps.weight;\r\n  documentData.fStyle = fontProps.style;\r\n  documentData.finalSize = documentData.s;\r\n  documentData.finalText = this.buildFinalText(documentData.t);\r\n  len = documentData.finalText.length;\r\n  documentData.finalLineHeight = documentData.lh;\r\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n  var charCode;\r\n  if (documentData.sz) {\r\n    var flag = true;\r\n    var boxWidth = documentData.sz[0];\r\n    var boxHeight = documentData.sz[1];\r\n    var currentHeight; var\r\n      finalText;\r\n    while (flag) {\r\n      finalText = this.buildFinalText(documentData.t);\r\n      currentHeight = 0;\r\n      lineWidth = 0;\r\n      len = finalText.length;\r\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n      var lastSpaceIndex = -1;\r\n      for (i = 0; i < len; i += 1) {\r\n        charCode = finalText[i].charCodeAt(0);\r\n        newLineFlag = false;\r\n        if (finalText[i] === ' ') {\r\n          lastSpaceIndex = i;\r\n        } else if (charCode === 13 || charCode === 3) {\r\n          lineWidth = 0;\r\n          newLineFlag = true;\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n        }\r\n        if (fontManager.chars) {\r\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n        } else {\r\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n        }\r\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n          if (lastSpaceIndex === -1) {\r\n            len += 1;\r\n          } else {\r\n            i = lastSpaceIndex;\r\n          }\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\r\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n          lastSpaceIndex = -1;\r\n          lineWidth = 0;\r\n        } else {\r\n          lineWidth += cLength;\r\n          lineWidth += trackingOffset;\r\n        }\r\n      }\r\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\r\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n        documentData.finalSize -= 1;\r\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\r\n      } else {\r\n        documentData.finalText = finalText;\r\n        len = documentData.finalText.length;\r\n        flag = false;\r\n      }\r\n    }\r\n  }\r\n  lineWidth = -trackingOffset;\r\n  cLength = 0;\r\n  var uncollapsedSpaces = 0;\r\n  var currentChar;\r\n  for (i = 0; i < len; i += 1) {\r\n    newLineFlag = false;\r\n    currentChar = documentData.finalText[i];\r\n    charCode = currentChar.charCodeAt(0);\r\n    if (charCode === 13 || charCode === 3) {\r\n      uncollapsedSpaces = 0;\r\n      lineWidths.push(lineWidth);\r\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n      lineWidth = -2 * trackingOffset;\r\n      val = '';\r\n      newLineFlag = true;\r\n      currentLine += 1;\r\n    } else {\r\n      val = currentChar;\r\n    }\r\n    if (fontManager.chars) {\r\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n    } else {\r\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n    }\r\n\r\n    //\r\n    if (currentChar === ' ') {\r\n      uncollapsedSpaces += cLength + trackingOffset;\r\n    } else {\r\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n      uncollapsedSpaces = 0;\r\n    }\r\n    letters.push({\r\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\r\n    });\r\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || val === ' ' || i === len - 1) {\r\n        if (val === '' || val === ' ') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        index += 1;\r\n        currentSize = 0;\r\n      }\r\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || i === len - 1) {\r\n        if (val === '') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        currentSize = 0;\r\n        index += 1;\r\n      }\r\n    } else {\r\n      letters[index].ind = index;\r\n      letters[index].extra = 0;\r\n      index += 1;\r\n    }\r\n  }\r\n  documentData.l = letters;\r\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n  lineWidths.push(lineWidth);\r\n  if (documentData.sz) {\r\n    documentData.boxWidth = documentData.sz[0];\r\n    documentData.justifyOffset = 0;\r\n  } else {\r\n    documentData.boxWidth = maxLineWidth;\r\n    switch (documentData.j) {\r\n      case 1:\r\n        documentData.justifyOffset = -documentData.boxWidth;\r\n        break;\r\n      case 2:\r\n        documentData.justifyOffset = -documentData.boxWidth / 2;\r\n        break;\r\n      default:\r\n        documentData.justifyOffset = 0;\r\n    }\r\n  }\r\n  documentData.lineWidths = lineWidths;\r\n\r\n  var animators = data.a; var animatorData; var\r\n    letterData;\r\n  jLen = animators.length;\r\n  var based; var ind; var\r\n    indexes = [];\r\n  for (j = 0; j < jLen; j += 1) {\r\n    animatorData = animators[j];\r\n    if (animatorData.a.sc) {\r\n      documentData.strokeColorAnim = true;\r\n    }\r\n    if (animatorData.a.sw) {\r\n      documentData.strokeWidthAnim = true;\r\n    }\r\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n      documentData.fillColorAnim = true;\r\n    }\r\n    ind = 0;\r\n    based = animatorData.s.b;\r\n    for (i = 0; i < len; i += 1) {\r\n      letterData = letters[i];\r\n      letterData.anIndexes[j] = ind;\r\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\r\n        if (animatorData.s.rn === 1) {\r\n          indexes.push(ind);\r\n        }\r\n        ind += 1;\r\n      }\r\n    }\r\n    data.a[j].s.totalChars = ind;\r\n    var currentInd = -1; var\r\n      newInd;\r\n    if (animatorData.s.rn === 1) {\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\r\n          currentInd = letterData.anIndexes[j];\r\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n        }\r\n        letterData.anIndexes[j] = newInd;\r\n      }\r\n    }\r\n  }\r\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n  documentData.ls = documentData.ls || 0;\r\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function (newData, index) {\r\n  index = index === undefined ? this.keysIndex : index;\r\n  var dData = this.copyData({}, this.data.d.k[index].s);\r\n  dData = this.copyData(dData, newData);\r\n  this.data.d.k[index].s = dData;\r\n  this.recalculate(index);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function (index) {\r\n  var dData = this.data.d.k[index].s;\r\n  dData.__complete = false;\r\n  this.keysIndex = 0;\r\n  this._isFirstFrame = true;\r\n  this.getValue(dData);\r\n};\r\n\r\nTextProperty.prototype.canResizeFont = function (_canResize) {\r\n  this.canResize = _canResize;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\n/* global extendPrototype, BezierFactory, PropertyFactory, DynamicPropertyContainer */\r\n/* exported TextSelectorProp */\r\n\r\nvar TextSelectorProp = (function () {\r\n  var max = Math.max;\r\n  var min = Math.min;\r\n  var floor = Math.floor;\r\n\r\n  function TextSelectorPropFactory(elem, data) {\r\n    this._currentTextLength = -1;\r\n    this.k = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = elem.comp;\r\n    this.finalS = 0;\r\n    this.finalE = 0;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\r\n    if ('e' in data) {\r\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n    } else {\r\n      this.e = { v: 100 };\r\n    }\r\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\r\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\r\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\r\n    this.sm = PropertyFactory.getProp(elem, data.sm || { k: 100 }, 0, 0, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue();\r\n    }\r\n  }\r\n\r\n  TextSelectorPropFactory.prototype = {\r\n    getMult: function (ind) {\r\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n        this.getValue();\r\n      }\r\n      // var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n      var x1 = 0;\r\n      var y1 = 0;\r\n      var x2 = 1;\r\n      var y2 = 1;\r\n      if (this.ne.v > 0) {\r\n        x1 = this.ne.v / 100.0;\r\n      } else {\r\n        y1 = -this.ne.v / 100.0;\r\n      }\r\n      if (this.xe.v > 0) {\r\n        x2 = 1.0 - this.xe.v / 100.0;\r\n      } else {\r\n        y2 = 1.0 + this.xe.v / 100.0;\r\n      }\r\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n      var mult = 0;\r\n      var s = this.finalS;\r\n      var e = this.finalE;\r\n      var type = this.data.sh;\r\n      if (type === 2) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 1 : 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 3) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 0 : 1;\r\n        } else {\r\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n\r\n        mult = easer(mult);\r\n      } else if (type === 4) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          if (mult < 0.5) {\r\n            mult *= 2;\r\n          } else {\r\n            mult = 1 - 2 * (mult - 0.5);\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 5) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          var tot = e - s;\r\n          /* ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          var x = -tot / 2 + ind;\r\n          var a = tot / 2;\r\n          mult = Math.sqrt(1 - (x * x) / (a * a));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 6) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\r\n        }\r\n        mult = easer(mult);\r\n      } else {\r\n        if (ind >= floor(s)) {\r\n          if (ind - s < 0) {\r\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n          } else {\r\n            mult = max(0, min(e - ind, 1));\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      }\r\n      // Smoothness implementation.\r\n      // The smoothness represents a reduced range of the original [0; 1] range.\r\n      // if smoothness is 25%, the new range will be [0.375; 0.625]\r\n      // Steps are:\r\n      // - find the lower value of the new range (threshold)\r\n      // - if multiplier is smaller than that value, floor it to 0\r\n      // - if it is larger,\r\n      //     - subtract the threshold\r\n      //     - divide it by the smoothness (this will return the range to [0; 1])\r\n      // Note: If it doesn't work on some scenarios, consider applying it before the easer.\r\n      if (this.sm.v !== 100) {\r\n        var smoothness = this.sm.v * 0.01;\r\n        if (smoothness === 0) {\r\n          smoothness = 0.00000001;\r\n        }\r\n        var threshold = 0.5 - smoothness * 0.5;\r\n        if (mult < threshold) {\r\n          mult = 0;\r\n        } else {\r\n          mult = (mult - threshold) / smoothness;\r\n          if (mult > 1) {\r\n            mult = 1;\r\n          }\r\n        }\r\n      }\r\n      return mult * this.a.v;\r\n    },\r\n    getValue: function (newCharsFlag) {\r\n      this.iterateDynamicProperties();\r\n      this._mdf = newCharsFlag || this._mdf;\r\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n      if (newCharsFlag && this.data.r === 2) {\r\n        this.e.v = this._currentTextLength;\r\n      }\r\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n      var o = this.o.v / divisor;\r\n      var s = this.s.v / divisor + o;\r\n      var e = (this.e.v / divisor) + o;\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n      this.finalS = s;\r\n      this.finalE = e;\r\n    },\r\n  };\r\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n  function getTextSelectorProp(elem, data, arr) {\r\n    return new TextSelectorPropFactory(elem, data, arr);\r\n  }\r\n\r\n  return {\r\n    getTextSelectorProp: getTextSelectorProp,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, pooling */\r\n/* exported poolFactory */\r\n\r\nvar poolFactory = (function () {\r\n  return function (initialLength, _create, _release) {\r\n    var _length = 0;\r\n    var _maxLength = initialLength;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    var ob = {\r\n      newElement: newElement,\r\n      release: release,\r\n    };\r\n\r\n    function newElement() {\r\n      var element;\r\n      if (_length) {\r\n        _length -= 1;\r\n        element = pool[_length];\r\n      } else {\r\n        element = _create();\r\n      }\r\n      return element;\r\n    }\r\n\r\n    function release(element) {\r\n      if (_length === _maxLength) {\r\n        pool = pooling.double(pool);\r\n        _maxLength *= 2;\r\n      }\r\n      if (_release) {\r\n        _release(element);\r\n      }\r\n      pool[_length] = element;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  };\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported pooling */\r\n\r\nvar pooling = (function () {\r\n  function double(arr) {\r\n    return arr.concat(createSizedArray(arr.length));\r\n  }\r\n\r\n  return {\r\n    double: double,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, poolFactory */\r\n/* exported pointPool */\r\n\r\nvar pointPool = (function () {\r\n  function create() {\r\n    return createTypedArray('float32', 2);\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global ShapePath, pointPool, poolFactory */\r\n/* exported shapePool */\r\n\r\nvar shapePool = (function () {\r\n  function create() {\r\n    return new ShapePath();\r\n  }\r\n\r\n  function release(shapePath) {\r\n    var len = shapePath._length;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      pointPool.release(shapePath.v[i]);\r\n      pointPool.release(shapePath.i[i]);\r\n      pointPool.release(shapePath.o[i]);\r\n      shapePath.v[i] = null;\r\n      shapePath.i[i] = null;\r\n      shapePath.o[i] = null;\r\n    }\r\n    shapePath._length = 0;\r\n    shapePath.c = false;\r\n  }\r\n\r\n  function clone(shape) {\r\n    var cloned = factory.newElement();\r\n    var i;\r\n    var len = shape._length === undefined ? shape.v.length : shape._length;\r\n    cloned.setLength(len);\r\n    cloned.c = shape.c;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n    }\r\n    return cloned;\r\n  }\r\n\r\n  var factory = poolFactory(4, create, release);\r\n  factory.clone = clone;\r\n\r\n  return factory;\r\n}());\r\n\r\n/* global createSizedArray, ShapeCollection, shapePool, pooling */\r\n/* exported shapeCollectionPool */\r\n\r\nvar shapeCollectionPool = (function () {\r\n  var ob = {\r\n    newShapeCollection: newShapeCollection,\r\n    release: release,\r\n  };\r\n\r\n  var _length = 0;\r\n  var _maxLength = 4;\r\n  var pool = createSizedArray(_maxLength);\r\n\r\n  function newShapeCollection() {\r\n    var shapeCollection;\r\n    if (_length) {\r\n      _length -= 1;\r\n      shapeCollection = pool[_length];\r\n    } else {\r\n      shapeCollection = new ShapeCollection();\r\n    }\r\n    return shapeCollection;\r\n  }\r\n\r\n  function release(shapeCollection) {\r\n    var i;\r\n    var len = shapeCollection._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapePool.release(shapeCollection.shapes[i]);\r\n    }\r\n    shapeCollection._length = 0;\r\n\r\n    if (_length === _maxLength) {\r\n      pool = pooling.double(pool);\r\n      _maxLength *= 2;\r\n    }\r\n    pool[_length] = shapeCollection;\r\n    _length += 1;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global poolFactory, bezierLengthPool */\r\n/* exported segmentsLengthPool */\r\n\r\nvar segmentsLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      lengths: [],\r\n      totalLength: 0,\r\n    };\r\n  }\r\n\r\n  function release(element) {\r\n    var i;\r\n    var len = element.lengths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierLengthPool.release(element.lengths[i]);\r\n    }\r\n    element.lengths.length = 0;\r\n  }\r\n\r\n  return poolFactory(8, create, release);\r\n}());\r\n\r\n/* global createTypedArray, defaultCurveSegments, poolFactory */\r\n/* exported bezierLengthPool */\r\n\r\nvar bezierLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      addedLength: 0,\r\n      percents: createTypedArray('float32', defaultCurveSegments),\r\n      lengths: createTypedArray('float32', defaultCurveSegments),\r\n    };\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* exported markerParser */\r\n\r\nvar markerParser = (\r\n\r\n  function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr,\r\n        };\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i],\r\n            };\r\n          }\r\n        }\r\n        markers.push(markerData);\r\n      }\r\n      return markers;\r\n    };\r\n  }());\r\n\r\n/* global AudioElement, FootageElement, FontManager */\r\n\r\nfunction BaseRenderer() {}\r\nBaseRenderer.prototype.checkLayers = function (num) {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var data;\r\n  this.completeLayers = true;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (!this.elements[i]) {\r\n      data = this.layers[i];\r\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\r\n        this.buildItem(i);\r\n      }\r\n    }\r\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function (layer) {\r\n  switch (layer.ty) {\r\n    case 2:\r\n      return this.createImage(layer);\r\n    case 0:\r\n      return this.createComp(layer);\r\n    case 1:\r\n      return this.createSolid(layer);\r\n    case 3:\r\n      return this.createNull(layer);\r\n    case 4:\r\n      return this.createShape(layer);\r\n    case 5:\r\n      return this.createText(layer);\r\n    case 6:\r\n      return this.createAudio(layer);\r\n    case 13:\r\n      return this.createCamera(layer);\r\n    case 15:\r\n      return this.createFootage(layer);\r\n    default:\r\n      return this.createNull(layer);\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function () {\r\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function (data) {\r\n  return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.createFootage = function (data) {\r\n  return new FootageElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.buildItem(i);\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function (newLayers) {\r\n  this.completeLayers = false;\r\n  var i;\r\n  var len = newLayers.length;\r\n  var j;\r\n  var jLen = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    j = 0;\r\n    while (j < jLen) {\r\n      if (this.layers[j].id === newLayers[i].id) {\r\n        this.layers[j] = newLayers[i];\r\n        break;\r\n      }\r\n      j += 1;\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n  this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function () {\r\n  if (!this.globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n  var elements = this.elements;\r\n  var layers = this.layers;\r\n  var i = 0;\r\n  var len = layers.length;\r\n  while (i < len) {\r\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\r\n      if (!elements[i] || elements[i] === true) {\r\n        this.buildItem(i);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        hierarchy.push(elements[i]);\r\n        elements[i].setAsParent();\r\n        if (layers[i].parent !== undefined) {\r\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n        } else {\r\n          element.setHierarchy(hierarchy);\r\n        }\r\n      }\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function (element) {\r\n  this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i]);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n  this.globalData.fontManager = new FontManager();\r\n  this.globalData.fontManager.addChars(animData.chars);\r\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n  this.globalData.audioController = this.animationItem.audioController;\r\n  this.globalData.frameId = 0;\r\n  this.globalData.frameRate = animData.fr;\r\n  this.globalData.nm = animData.nm;\r\n  this.globalData.compSize = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n  };\r\n};\r\n\r\n/* global createElementID, extendPrototype, BaseRenderer, NullElement, SVGShapeElement, SVGTextLottieElement,\r\nIImageElement, SVGCompElement, ISolidElement, createNS, locationHref, createSizedArray, expressionsPlugin */\r\n\r\nfunction SVGRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.svgElement = createNS('svg');\r\n  var ariaLabel = '';\r\n  if (config && config.title) {\r\n    var titleElement = createNS('title');\r\n    var titleId = createElementID();\r\n    titleElement.setAttribute('id', titleId);\r\n    titleElement.textContent = config.title;\r\n    this.svgElement.appendChild(titleElement);\r\n    ariaLabel += titleId;\r\n  }\r\n  if (config && config.description) {\r\n    var descElement = createNS('desc');\r\n    var descId = createElementID();\r\n    descElement.setAttribute('id', descId);\r\n    descElement.textContent = config.description;\r\n    this.svgElement.appendChild(descElement);\r\n    ariaLabel += ' ' + descId;\r\n  }\r\n  if (ariaLabel) {\r\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n  }\r\n  var defs = createNS('defs');\r\n  this.svgElement.appendChild(defs);\r\n  var maskElement = createNS('g');\r\n  this.svgElement.appendChild(maskElement);\r\n  this.layerElement = maskElement;\r\n  this.renderConfig = {\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    contentVisibility: (config && config.contentVisibility) || 'visible',\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\r\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n    viewBoxSize: (config && config.viewBoxSize) || false,\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n    focusable: config && config.focusable,\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\r\n    },\r\n  };\r\n\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    defs: defs,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.destroyed = false;\r\n  this.rendererType = 'svg';\r\n}\r\n\r\nextendPrototype([BaseRenderer], SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n  return new NullElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n  return new SVGShapeElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n  return new SVGTextLottieElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n  return new IImageElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n  return new SVGCompElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n  return new ISolidElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function (animData) {\r\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n  if (this.renderConfig.viewBoxSize) {\r\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n  } else {\r\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n  }\r\n\r\n  if (!this.renderConfig.viewBoxOnly) {\r\n    this.svgElement.setAttribute('width', animData.w);\r\n    this.svgElement.setAttribute('height', animData.h);\r\n    this.svgElement.style.width = '100%';\r\n    this.svgElement.style.height = '100%';\r\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\r\n  }\r\n  if (this.renderConfig.className) {\r\n    this.svgElement.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  if (this.renderConfig.id) {\r\n    this.svgElement.setAttribute('id', this.renderConfig.id);\r\n  }\r\n  if (this.renderConfig.focusable !== undefined) {\r\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n  }\r\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\r\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n  this.animationItem.wrapper.appendChild(this.svgElement);\r\n  // Mask animation\r\n  var defs = this.globalData.defs;\r\n\r\n  this.setupGlobalData(animData, defs);\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.data = animData;\r\n\r\n  var maskElement = createNS('clipPath');\r\n  var rect = createNS('rect');\r\n  rect.setAttribute('width', animData.w);\r\n  rect.setAttribute('height', animData.h);\r\n  rect.setAttribute('x', 0);\r\n  rect.setAttribute('y', 0);\r\n  var maskId = createElementID();\r\n  maskElement.setAttribute('id', maskId);\r\n  maskElement.appendChild(rect);\r\n  this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + maskId + ')');\r\n\r\n  defs.appendChild(maskElement);\r\n  this.layers = animData.layers;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.layerElement = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  elements[pos] = true;\r\n  var element = this.createItem(this.layers[pos]);\r\n\r\n  elements[pos] = element;\r\n  if (expressionsPlugin) {\r\n    if (this.layers[pos].ty === 0) {\r\n      this.globalData.projectInterface.registerComposition(element);\r\n    }\r\n    element.initExpressions();\r\n  }\r\n  this.appendElementInPos(element, pos);\r\n  if (this.layers[pos].tt) {\r\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\r\n      this.buildItem(pos - 1);\r\n      this.addPendingElement(element);\r\n    } else {\r\n      element.setMatte(elements[pos - 1].layerId);\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n    if (element.data.tt) {\r\n      var i = 0;\r\n      var len = this.elements.length;\r\n      while (i < len) {\r\n        if (this.elements[i] === element) {\r\n          element.setMatte(this.elements[i - 1].layerId);\r\n          break;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function (num) {\r\n  if (this.renderedFrame === num || this.destroyed) {\r\n    return;\r\n  }\r\n  if (num === null) {\r\n    num = this.renderedFrame;\r\n  } else {\r\n    this.renderedFrame = num;\r\n  }\r\n  // console.log('-------');\r\n  // console.log('FRAME ',num);\r\n  this.globalData.frameNum = num;\r\n  this.globalData.frameId += 1;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n  this.globalData._mdf = false;\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newElement = element.getBaseElement();\r\n  if (!newElement) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var nextElement;\r\n  while (i < pos) {\r\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n      nextElement = this.elements[i].getBaseElement();\r\n    }\r\n    i += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(newElement, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(newElement);\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function () {\r\n  this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function () {\r\n  this.layerElement.style.display = 'block';\r\n};\r\n\r\n/* global createSizedArray, createElementID, PropertyFactory, ShapePropertyFactory, createNS, locationHref */\r\n\r\nfunction MaskElement(data, element, globalData) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.globalData = globalData;\r\n  this.storedData = [];\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.maskElement = null;\r\n  var defs = this.globalData.defs;\r\n  var i;\r\n  var len = this.masksProperties ? this.masksProperties.length : 0;\r\n  this.viewData = createSizedArray(len);\r\n  this.solidPath = '';\r\n\r\n  var path;\r\n  var properties = this.masksProperties;\r\n  var count = 0;\r\n  var currentMasks = [];\r\n  var j;\r\n  var jLen;\r\n  var layerId = createElementID();\r\n  var rect;\r\n  var expansor;\r\n  var feMorph;\r\n  var x;\r\n  var maskType = 'clipPath';\r\n  var maskRef = 'clip-path';\r\n  for (i = 0; i < len; i += 1) {\r\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n      maskType = 'mask';\r\n      maskRef = 'mask';\r\n    }\r\n\r\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('fill', '#ffffff');\r\n      rect.setAttribute('width', this.element.comp.data.w || 0);\r\n      rect.setAttribute('height', this.element.comp.data.h || 0);\r\n      currentMasks.push(rect);\r\n    } else {\r\n      rect = null;\r\n    }\r\n\r\n    path = createNS('path');\r\n    if (properties[i].mode === 'n') {\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        elem: path,\r\n        lastPath: '',\r\n      };\r\n      defs.appendChild(path);\r\n    } else {\r\n      count += 1;\r\n\r\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      path.setAttribute('clip-rule', 'nonzero');\r\n      var filterID;\r\n\r\n      if (properties[i].x.k !== 0) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n        filterID = createElementID();\r\n        expansor = createNS('filter');\r\n        expansor.setAttribute('id', filterID);\r\n        feMorph = createNS('feMorphology');\r\n        feMorph.setAttribute('operator', 'erode');\r\n        feMorph.setAttribute('in', 'SourceGraphic');\r\n        feMorph.setAttribute('radius', '0');\r\n        expansor.appendChild(feMorph);\r\n        defs.appendChild(expansor);\r\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      } else {\r\n        feMorph = null;\r\n        x = null;\r\n      }\r\n\r\n      // TODO move this to a factory or to a constructor\r\n      this.storedData[i] = {\r\n        elem: path,\r\n        x: x,\r\n        expan: feMorph,\r\n        lastPath: '',\r\n        lastOperator: '',\r\n        filterId: filterID,\r\n        lastRadius: 0,\r\n      };\r\n      if (properties[i].mode === 'i') {\r\n        jLen = currentMasks.length;\r\n        var g = createNS('g');\r\n        for (j = 0; j < jLen; j += 1) {\r\n          g.appendChild(currentMasks[j]);\r\n        }\r\n        var mask = createNS('mask');\r\n        mask.setAttribute('mask-type', 'alpha');\r\n        mask.setAttribute('id', layerId + '_' + count);\r\n        mask.appendChild(path);\r\n        defs.appendChild(mask);\r\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\r\n\r\n        currentMasks.length = 0;\r\n        currentMasks.push(g);\r\n      } else {\r\n        currentMasks.push(path);\r\n      }\r\n      if (properties[i].inv && !this.solidPath) {\r\n        this.solidPath = this.createLayerSolidPath();\r\n      }\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        elem: path,\r\n        lastPath: '',\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        invRect: rect,\r\n      };\r\n      if (!this.viewData[i].prop.k) {\r\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  this.maskElement = createNS(maskType);\r\n\r\n  len = currentMasks.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.maskElement.appendChild(currentMasks[i]);\r\n  }\r\n\r\n  if (count > 0) {\r\n    this.maskElement.setAttribute('id', layerId);\r\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + locationHref + '#' + layerId + ')');\r\n    defs.appendChild(this.maskElement);\r\n  }\r\n  if (this.viewData.length) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function (pos) {\r\n  return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n  var finalMat = this.element.finalTransform.mat;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n    }\r\n    if (this.viewData[i].op._mdf || isFirstFrame) {\r\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n    }\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n      }\r\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n        var feMorph = this.storedData[i].expan;\r\n        if (this.storedData[i].x.v < 0) {\r\n          if (this.storedData[i].lastOperator !== 'erode') {\r\n            this.storedData[i].lastOperator = 'erode';\r\n            this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\r\n          }\r\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n        } else {\r\n          if (this.storedData[i].lastOperator !== 'dilate') {\r\n            this.storedData[i].lastOperator = 'dilate';\r\n            this.storedData[i].elem.setAttribute('filter', null);\r\n          }\r\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n  return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function () {\r\n  var path = 'M0,0 ';\r\n  path += ' h' + this.globalData.compSize.w;\r\n  path += ' v' + this.globalData.compSize.h;\r\n  path += ' h-' + this.globalData.compSize.w;\r\n  path += ' v-' + this.globalData.compSize.h + ' ';\r\n  return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  var i;\r\n  var len;\r\n  len = pathNodes._length;\r\n  for (i = 1; i < len; i += 1) {\r\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n  }\r\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n  if (pathNodes.c && len > 1) {\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  }\r\n  // pathNodes.__renderedString = pathString;\r\n\r\n  if (viewData.lastPath !== pathString) {\r\n    var pathShapeValue = '';\r\n    if (viewData.elem) {\r\n      if (pathNodes.c) {\r\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n      }\r\n      viewData.elem.setAttribute('d', pathShapeValue);\r\n    }\r\n    viewData.lastPath = pathString;\r\n  }\r\n};\r\n\r\nMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n  this.globalData = null;\r\n  this.maskElement = null;\r\n  this.data = null;\r\n  this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement() {}\r\n\r\nHierarchyElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n  initHierarchy: function () {\r\n    // element's parent list\r\n    this.hierarchy = [];\r\n    // if element is parent of another layer _isParent will be true\r\n    this._isParent = false;\r\n    this.checkParenting();\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */\r\n  setHierarchy: function (hierarchy) {\r\n    this.hierarchy = hierarchy;\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer as parent.\r\n     *\r\n     */\r\n  setAsParent: function () {\r\n    this._isParent = true;\r\n  },\r\n  /**\r\n     * @function\r\n     * Searches layer's parenting chain\r\n     *\r\n     */\r\n  checkParenting: function () {\r\n    if (this.data.parent !== undefined) {\r\n      this.comp.buildElementParenting(this, this.data.parent, []);\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement() {}\r\n\r\nFrameElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n  initFrame: function () {\r\n    // set to true when inpoint is rendered\r\n    this._isFirstFrame = false;\r\n    // list of animated properties\r\n    this.dynamicProperties = [];\r\n    // If layer has been modified in current tick this will be true\r\n    this._mdf = false;\r\n  },\r\n  /**\r\n     * @function\r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     *\r\n     */\r\n  prepareProperties: function (num, isVisible) {\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n        this.dynamicProperties[i].getValue();\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n    }\r\n  },\r\n};\r\n\r\n/* global TransformPropertyFactory, Matrix */\r\n\r\nfunction TransformElement() {}\r\n\r\nTransformElement.prototype = {\r\n  initTransform: function () {\r\n    this.finalTransform = {\r\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\r\n      _matMdf: false,\r\n      _opMdf: false,\r\n      mat: new Matrix(),\r\n    };\r\n    if (this.data.ao) {\r\n      this.finalTransform.mProp.autoOriented = true;\r\n    }\r\n\r\n    // TODO: check TYPE 11: Guided elements\r\n    if (this.data.ty !== 11) {\r\n      // this.createElements();\r\n    }\r\n  },\r\n  renderTransform: function () {\r\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n    if (this.hierarchy) {\r\n      var mat;\r\n      var finalMat = this.finalTransform.mat;\r\n      var i = 0;\r\n      var len = this.hierarchy.length;\r\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n      if (!this.finalTransform._matMdf) {\r\n        while (i < len) {\r\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n            this.finalTransform._matMdf = true;\r\n            break;\r\n          }\r\n          i += 1;\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        mat = this.finalTransform.mProp.v.props;\r\n        finalMat.cloneFromProps(mat);\r\n        for (i = 0; i < len; i += 1) {\r\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  globalToLocal: function (pt) {\r\n    var transforms = [];\r\n    transforms.push(this.finalTransform);\r\n    var flag = true;\r\n    var comp = this.comp;\r\n    while (flag) {\r\n      if (comp.finalTransform) {\r\n        if (comp.data.hasMask) {\r\n          transforms.splice(0, 0, comp.finalTransform);\r\n        }\r\n        comp = comp.comp;\r\n      } else {\r\n        flag = false;\r\n      }\r\n    }\r\n    var i;\r\n    var len = transforms.length;\r\n    var ptNew;\r\n    for (i = 0; i < len; i += 1) {\r\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n    }\r\n    return pt;\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\n\r\nfunction RenderableElement() {\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n  initRenderable: function () {\r\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n    this.isInRange = false;\r\n    // layer's display state\r\n    this.hidden = false;\r\n    // If layer's transparency equals 0, it can be hidden\r\n    this.isTransparent = false;\r\n    // list of animated components\r\n    this.renderableComponents = [];\r\n  },\r\n  addRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) === -1) {\r\n      this.renderableComponents.push(component);\r\n    }\r\n  },\r\n  removeRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) !== -1) {\r\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n    }\r\n  },\r\n  prepareRenderableFrame: function (num) {\r\n    this.checkLayerLimits(num);\r\n  },\r\n  checkTransparency: function () {\r\n    if (this.finalTransform.mProp.o.v <= 0) {\r\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n        this.isTransparent = true;\r\n        this.hide();\r\n      }\r\n    } else if (this.isTransparent) {\r\n      this.isTransparent = false;\r\n      this.show();\r\n    }\r\n  },\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     *\r\n     */\r\n  checkLayerLimits: function (num) {\r\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n      if (this.isInRange !== true) {\r\n        this.globalData._mdf = true;\r\n        this._mdf = true;\r\n        this.isInRange = true;\r\n        this.show();\r\n      }\r\n    } else if (this.isInRange !== false) {\r\n      this.globalData._mdf = true;\r\n      this.isInRange = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  renderRenderable: function () {\r\n    var i;\r\n    var len = this.renderableComponents.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n    }\r\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n  },\r\n  sourceRectAtTime: function () {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      width: 100,\r\n      height: 100,\r\n    };\r\n  },\r\n  getLayerSize: function () {\r\n    if (this.data.ty === 5) {\r\n      return { w: this.data.textData.width, h: this.data.textData.height };\r\n    }\r\n    return { w: this.data.width, h: this.data.height };\r\n  },\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, createProxyFunction */\r\n\r\nfunction RenderableDOMElement() {}\r\n\r\n(function () {\r\n  var _prototype = {\r\n    initElement: function (data, globalData, comp) {\r\n      this.initFrame();\r\n      this.initBaseData(data, globalData, comp);\r\n      this.initTransform(data, globalData, comp);\r\n      this.initHierarchy();\r\n      this.initRenderable();\r\n      this.initRendererElement();\r\n      this.createContainerElements();\r\n      this.createRenderableComponents();\r\n      this.createContent();\r\n      this.hide();\r\n    },\r\n    hide: function () {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        var elem = this.baseElement || this.layerElement;\r\n        elem.style.display = 'none';\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    show: function () {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        if (!this.data.hd) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'block';\r\n        }\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function () {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    renderInnerContent: function () {},\r\n    prepareFrame: function (num) {\r\n      this._mdf = false;\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n      this.checkTransparency();\r\n    },\r\n    destroy: function () {\r\n      this.innerElem = null;\r\n      this.destroyBaseElement();\r\n    },\r\n  };\r\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\n\r\n/* exported ProcessedElement */\r\n\r\nfunction ProcessedElement(element, position) {\r\n  this.elem = element;\r\n  this.pos = position;\r\n}\r\n\r\n/* global createNS */\r\n\r\nfunction SVGStyleData(data, level) {\r\n  this.data = data;\r\n  this.type = data.ty;\r\n  this.d = '';\r\n  this.lvl = level;\r\n  this._mdf = false;\r\n  this.closed = data.hd === true;\r\n  this.pElem = createNS('path');\r\n  this.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function () {\r\n  this.d = '';\r\n  this._mdf = false;\r\n};\r\n\r\nfunction SVGShapeData(transformers, level, shape) {\r\n  this.caches = [];\r\n  this.styles = [];\r\n  this.transformers = transformers;\r\n  this.lStr = '';\r\n  this.sh = shape;\r\n  this.lvl = level;\r\n  // TODO find if there are some cases where _isAnimated can be false.\r\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n  this._isAnimated = !!shape.k;\r\n  // TODO: commenting this for now since all shapes are animated\r\n  var i = 0;\r\n  var len = transformers.length;\r\n  while (i < len) {\r\n    if (transformers[i].mProps.dynamicProperties.length) {\r\n      this._isAnimated = true;\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function () {\r\n  this._isAnimated = true;\r\n};\r\n\r\n/* exported SVGTransformData */\r\n\r\nfunction SVGTransformData(mProps, op, container) {\r\n  this.transform = {\r\n    mProps: mProps,\r\n    op: op,\r\n    container: container,\r\n  };\r\n  this.elements = [];\r\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\n\r\n/* global DashProperty, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n/* global PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n/* global PropertyFactory, degToRads, GradientProperty, createElementID, createNS, locationHref,\r\nextendPrototype, DynamicPropertyContainer, lineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\r\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\r\n  this.g = new GradientProperty(elem, data.g, this);\r\n  this.style = styleOb;\r\n  this.stops = [];\r\n  this.setGradientData(styleOb.pElem, data);\r\n  this.setGradientOpacity(data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n  var gradientId = createElementID();\r\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n  gfill.setAttribute('id', gradientId);\r\n  gfill.setAttribute('spreadMethod', 'pad');\r\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n  var stops = [];\r\n  var stop;\r\n  var j;\r\n  var jLen;\r\n  jLen = data.g.p * 4;\r\n  for (j = 0; j < jLen; j += 4) {\r\n    stop = createNS('stop');\r\n    gfill.appendChild(stop);\r\n    stops.push(stop);\r\n  }\r\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\r\n  this.gf = gfill;\r\n  this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n  if (this.g._hasOpacity && !this.g._collapsable) {\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    var mask = createNS('mask');\r\n    var maskElement = createNS('path');\r\n    mask.appendChild(maskElement);\r\n    var opacityId = createElementID();\r\n    var maskId = createElementID();\r\n    mask.setAttribute('id', maskId);\r\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    opFill.setAttribute('id', opacityId);\r\n    opFill.setAttribute('spreadMethod', 'pad');\r\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n    var stops = this.stops;\r\n    for (j = data.g.p * 4; j < jLen; j += 2) {\r\n      stop = createNS('stop');\r\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n      opFill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\r\n    if (data.ty === 'gs') {\r\n      maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      if (data.lj === 1) {\r\n        maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n    this.of = opFill;\r\n    this.ms = mask;\r\n    this.ost = stops;\r\n    this.maskId = maskId;\r\n    styleOb.msElem = maskElement;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n/* global PropertyFactory, DashProperty, extendPrototype, SVGGradientFillStyleData, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.initGradientData(elem, data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n/* global createNS */\r\n/* exported ShapeGroupData */\r\n\r\nfunction ShapeGroupData() {\r\n  this.it = [];\r\n  this.prevViewData = [];\r\n  this.gr = createNS('g');\r\n}\r\n\r\n/* global Matrix, buildShapeString, bmFloor */\r\n/* exported SVGElementsRenderer */\r\n\r\nvar SVGElementsRenderer = (function () {\r\n  var _identityMatrix = new Matrix();\r\n  var _matrixHelper = new Matrix();\r\n\r\n  var ob = {\r\n    createRenderFunction: createRenderFunction,\r\n  };\r\n\r\n  function createRenderFunction(data) {\r\n    switch (data.ty) {\r\n      case 'fl':\r\n        return renderFill;\r\n      case 'gf':\r\n        return renderGradient;\r\n      case 'gs':\r\n        return renderGradientStroke;\r\n      case 'st':\r\n        return renderStroke;\r\n      case 'sh':\r\n      case 'el':\r\n      case 'rc':\r\n      case 'sr':\r\n        return renderPath;\r\n      case 'tr':\r\n        return renderContentTransform;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n    if (isFirstFrame || itemData.transform.op._mdf) {\r\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n    }\r\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n    }\r\n  }\r\n\r\n  function renderPath(styleData, itemData, isFirstFrame) {\r\n    var j;\r\n    var jLen;\r\n    var pathStringTransformed;\r\n    var redraw;\r\n    var pathNodes;\r\n    var l;\r\n    var lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths;\r\n    var mat;\r\n    var props;\r\n    var iterations;\r\n    var k;\r\n    for (l = 0; l < lLen; l += 1) {\r\n      redraw = itemData.sh._mdf || isFirstFrame;\r\n      if (itemData.styles[l].lvl < lvl) {\r\n        mat = _matrixHelper.reset();\r\n        iterations = lvl - itemData.styles[l].lvl;\r\n        k = itemData.transformers.length - 1;\r\n        while (!redraw && iterations > 0) {\r\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n          iterations -= 1;\r\n          k -= 1;\r\n        }\r\n        if (redraw) {\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n          while (iterations > 0) {\r\n            props = itemData.transformers[k].mProps.v.props;\r\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n        }\r\n      } else {\r\n        mat = _identityMatrix;\r\n      }\r\n      paths = itemData.sh.paths;\r\n      jLen = paths._length;\r\n      if (redraw) {\r\n        pathStringTransformed = '';\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathNodes = paths.shapes[j];\r\n          if (pathNodes && pathNodes._length) {\r\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n          }\r\n        }\r\n        itemData.caches[l] = pathStringTransformed;\r\n      } else {\r\n        pathStringTransformed = itemData.caches[l];\r\n      }\r\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n  }\r\n\r\n  function renderFill(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n    }\r\n  }\r\n\r\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n    renderGradient(styleData, itemData, isFirstFrame);\r\n    renderStroke(styleData, itemData, isFirstFrame);\r\n  }\r\n\r\n  function renderGradient(styleData, itemData, isFirstFrame) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || isFirstFrame) {\r\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n      gfill.setAttribute(attr1, pt1[0]);\r\n      gfill.setAttribute(attr2, pt1[1]);\r\n      if (hasOpacity && !itemData.g._collapsable) {\r\n        itemData.of.setAttribute(attr1, pt1[0]);\r\n        itemData.of.setAttribute(attr2, pt1[1]);\r\n      }\r\n    }\r\n    var stops;\r\n    var i;\r\n    var len;\r\n    var stop;\r\n    if (itemData.g._cmdf || isFirstFrame) {\r\n      stops = itemData.cst;\r\n      var cValues = itemData.g.c;\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        stop.setAttribute('offset', cValues[i * 4] + '%');\r\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n      }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n      var oValues = itemData.g.o;\r\n      if (itemData.g._collapsable) {\r\n        stops = itemData.cst;\r\n      } else {\r\n        stops = itemData.ost;\r\n      }\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        if (!itemData.g._collapsable) {\r\n          stop.setAttribute('offset', oValues[i * 2] + '%');\r\n        }\r\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n      }\r\n    }\r\n    if (styleData.t === 1) {\r\n      if (itemData.e._mdf || isFirstFrame) {\r\n        gfill.setAttribute('x2', pt2[0]);\r\n        gfill.setAttribute('y2', pt2[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('x2', pt2[0]);\r\n          itemData.of.setAttribute('y2', pt2[1]);\r\n        }\r\n      }\r\n    } else {\r\n      var rad;\r\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        gfill.setAttribute('r', rad);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('r', rad);\r\n        }\r\n      }\r\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n        if (!rad) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        }\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n        var percent = itemData.h.v;\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        gfill.setAttribute('fx', x);\r\n        gfill.setAttribute('fy', y);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('fx', x);\r\n          itemData.of.setAttribute('fy', y);\r\n        }\r\n      }\r\n      // gfill.setAttribute('fy','200');\r\n    }\r\n  }\r\n\r\n  function renderStroke(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if (itemData.w._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n      if (styleElem.msElem) {\r\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix */\r\n\r\nfunction ShapeTransformManager() {\r\n  this.sequences = {};\r\n  this.sequenceList = [];\r\n  this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n  addTransformSequence: function (transforms) {\r\n    var i;\r\n    var len = transforms.length;\r\n    var key = '_';\r\n    for (i = 0; i < len; i += 1) {\r\n      key += transforms[i].transform.key + '_';\r\n    }\r\n    var sequence = this.sequences[key];\r\n    if (!sequence) {\r\n      sequence = {\r\n        transforms: [].concat(transforms),\r\n        finalTransform: new Matrix(),\r\n        _mdf: false,\r\n      };\r\n      this.sequences[key] = sequence;\r\n      this.sequenceList.push(sequence);\r\n    }\r\n    return sequence;\r\n  },\r\n  processSequence: function (sequence, isFirstFrame) {\r\n    var i = 0;\r\n    var len = sequence.transforms.length;\r\n    var _mdf = isFirstFrame;\r\n    while (i < len && !isFirstFrame) {\r\n      if (sequence.transforms[i].transform.mProps._mdf) {\r\n        _mdf = true;\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (_mdf) {\r\n      var props;\r\n      sequence.finalTransform.reset();\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        props = sequence.transforms[i].transform.mProps.v.props;\r\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n      }\r\n    }\r\n    sequence._mdf = _mdf;\r\n  },\r\n  processSequences: function (isFirstFrame) {\r\n    var i;\r\n    var len = this.sequenceList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.processSequence(this.sequenceList[i], isFirstFrame);\r\n    }\r\n  },\r\n  getNewKey: function () {\r\n    this.transform_key_count += 1;\r\n    return '_' + this.transform_key_count;\r\n  },\r\n};\r\n\r\n/* global LayerExpressionInterface, EffectsExpressionInterface, CompExpressionInterface, ShapeExpressionInterface,\r\nTextExpressionInterface, getBlendMode,createElementID, EffectsManager */\r\n\r\nfunction BaseElement() {\r\n}\r\n\r\nBaseElement.prototype = {\r\n  checkMasks: function () {\r\n    if (!this.data.hasMask) {\r\n      return false;\r\n    }\r\n    var i = 0;\r\n    var len = this.data.masksProperties.length;\r\n    while (i < len) {\r\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n        return true;\r\n      }\r\n      i += 1;\r\n    }\r\n    return false;\r\n  },\r\n  initExpressions: function () {\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if (this.data.hasMask && this.maskManager) {\r\n      this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if (this.data.ty === 0 || this.data.xt) {\r\n      this.compInterface = CompExpressionInterface(this);\r\n    } else if (this.data.ty === 4) {\r\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n      this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if (this.data.ty === 5) {\r\n      this.layerInterface.textInterface = TextExpressionInterface(this);\r\n      this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n  },\r\n  setBlendMode: function () {\r\n    var blendModeValue = getBlendMode(this.data.bm);\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n  },\r\n  initBaseData: function (data, globalData, comp) {\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = createElementID();\r\n\r\n    // Stretch factor for old animations missing this property.\r\n    if (!this.data.sr) {\r\n      this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n  },\r\n  getType: function () {\r\n    return this.type;\r\n  },\r\n  sourceRectAtTime: function () {},\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement */\r\n\r\nfunction NullElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initFrame();\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function () {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nNullElement.prototype.destroy = function () {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nNullElement.prototype.hide = function () {\r\n};\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n/* global filtersFactory, featureSupport, filtersFactory, createElementID, createNS, MaskElement, SVGEffects, locationHref */\r\n\r\nfunction SVGBaseElement() {\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n  initRendererElement: function () {\r\n    this.layerElement = createNS('g');\r\n  },\r\n  createContainerElements: function () {\r\n    this.matteElement = createNS('g');\r\n    this.transformedElement = this.layerElement;\r\n    this.maskedElement = this.layerElement;\r\n    this._sizeChanged = false;\r\n    var layerElementParent = null;\r\n    // If this layer acts as a mask for the following layer\r\n    var filId;\r\n    var fil;\r\n    var gg;\r\n    if (this.data.td) {\r\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', this.layerId);\r\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\r\n        masker.appendChild(this.layerElement);\r\n        layerElementParent = masker;\r\n        this.globalData.defs.appendChild(masker);\r\n        // This is only for IE and Edge when mask if of type alpha\r\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\r\n          masker.setAttribute('mask-type', 'luminance');\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId);\r\n          this.globalData.defs.appendChild(fil);\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          masker.appendChild(gg);\r\n          gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        }\r\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\r\n        var maskGroup = createNS('mask');\r\n        maskGroup.setAttribute('id', this.layerId);\r\n        maskGroup.setAttribute('mask-type', 'alpha');\r\n        var maskGrouper = createNS('g');\r\n        maskGroup.appendChild(maskGrouper);\r\n        filId = createElementID();\r\n        fil = filtersFactory.createFilter(filId);\r\n        /// /\r\n\r\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n        /* var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix); */\r\n        /// /\r\n        var feCTr = createNS('feComponentTransfer');\r\n        feCTr.setAttribute('in', 'SourceGraphic');\r\n        fil.appendChild(feCTr);\r\n        var feFunc = createNS('feFuncA');\r\n        feFunc.setAttribute('type', 'table');\r\n        feFunc.setAttribute('tableValues', '1.0 0.0');\r\n        feCTr.appendChild(feFunc);\r\n        /// /\r\n        this.globalData.defs.appendChild(fil);\r\n        var alphaRect = createNS('rect');\r\n        alphaRect.setAttribute('width', this.comp.data.w);\r\n        alphaRect.setAttribute('height', this.comp.data.h);\r\n        alphaRect.setAttribute('x', '0');\r\n        alphaRect.setAttribute('y', '0');\r\n        alphaRect.setAttribute('fill', '#ffffff');\r\n        alphaRect.setAttribute('opacity', '0');\r\n        maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        maskGrouper.appendChild(alphaRect);\r\n        maskGrouper.appendChild(this.layerElement);\r\n        layerElementParent = maskGrouper;\r\n        if (!featureSupport.maskType) {\r\n          maskGroup.setAttribute('mask-type', 'luminance');\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          maskGrouper.appendChild(alphaRect);\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          maskGrouper.appendChild(gg);\r\n        }\r\n        this.globalData.defs.appendChild(maskGroup);\r\n      }\r\n    } else if (this.data.tt) {\r\n      this.matteElement.appendChild(this.layerElement);\r\n      layerElementParent = this.matteElement;\r\n      this.baseElement = this.matteElement;\r\n    } else {\r\n      this.baseElement = this.layerElement;\r\n    }\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n    if (this.data.ty === 0 && !this.data.hd) {\r\n      var cp = createNS('clipPath');\r\n      var pt = createNS('path');\r\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n      var clipId = createElementID();\r\n      cp.setAttribute('id', clipId);\r\n      cp.appendChild(pt);\r\n      this.globalData.defs.appendChild(cp);\r\n\r\n      if (this.checkMasks()) {\r\n        var cpGroup = createNS('g');\r\n        cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n        cpGroup.appendChild(this.layerElement);\r\n        this.transformedElement = cpGroup;\r\n        if (layerElementParent) {\r\n          layerElementParent.appendChild(this.transformedElement);\r\n        } else {\r\n          this.baseElement = this.transformedElement;\r\n        }\r\n      } else {\r\n        this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n      }\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    if (this.finalTransform._matMdf) {\r\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n    }\r\n  },\r\n  destroyBaseElement: function () {\r\n    this.layerElement = null;\r\n    this.matteElement = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  getBaseElement: function () {\r\n    if (this.data.hd) {\r\n      return null;\r\n    }\r\n    return this.baseElement;\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    this.renderableEffectsManager = new SVGEffects(this);\r\n  },\r\n  setMatte: function (id) {\r\n    if (!this.matteElement) {\r\n      return;\r\n    }\r\n    this.matteElement.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n  },\r\n};\r\n\r\n/* global ProcessedElement */\r\n\r\nfunction IShapeElement() {\r\n}\r\n\r\nIShapeElement.prototype = {\r\n  addShapeToModifiers: function (data) {\r\n    var i;\r\n    var len = this.shapeModifiers.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapeModifiers[i].addShape(data);\r\n    }\r\n  },\r\n  isShapeInAnimatedModifiers: function (data) {\r\n    var i = 0;\r\n    var len = this.shapeModifiers.length;\r\n    while (i < len) {\r\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  renderModifiers: function () {\r\n    if (!this.shapeModifiers.length) {\r\n      return;\r\n    }\r\n    var i;\r\n    var len = this.shapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].sh.reset();\r\n    }\r\n\r\n    len = this.shapeModifiers.length;\r\n    var shouldBreakProcess;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n      // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n      // TODO: find a better solution for this\r\n      if (shouldBreakProcess) {\r\n        break;\r\n      }\r\n    }\r\n  },\r\n\r\n  searchProcessedElement: function (elem) {\r\n    var elements = this.processedElements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n    while (i < len) {\r\n      if (elements[i].elem === elem) {\r\n        return elements[i].pos;\r\n      }\r\n      i += 1;\r\n    }\r\n    return 0;\r\n  },\r\n  addProcessedElement: function (elem, pos) {\r\n    var elements = this.processedElements;\r\n    var i = elements.length;\r\n    while (i) {\r\n      i -= 1;\r\n      if (elements[i].elem === elem) {\r\n        elements[i].pos = pos;\r\n        return;\r\n      }\r\n    }\r\n    elements.push(new ProcessedElement(elem, pos));\r\n  },\r\n  prepareFrame: function (num) {\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  },\r\n};\r\n\r\n/* global TextProperty, TextAnimatorProperty, buildShapeString, LetterProps */\r\n\r\nfunction ITextElement() {\r\n}\r\n\r\nITextElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.lettersChangedFlag = true;\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n  this.initRenderable();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  this.createContent();\r\n  this.hide();\r\n  this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n    this.buildNewText();\r\n    this.textProperty._isFirstFrame = false;\r\n    this.textProperty._mdf = false;\r\n  }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n  var j;\r\n  var jLen = shapes.length;\r\n  var pathNodes;\r\n  var shapeStr = '';\r\n  for (j = 0; j < jLen; j += 1) {\r\n    pathNodes = shapes[j].ks.k;\r\n    shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n  }\r\n  return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function (newData, index) {\r\n  this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function (_canResize) {\r\n  this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n  this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n  if (documentData.ps) {\r\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n  }\r\n  matrixHelper.translate(0, -documentData.ls, 0);\r\n  switch (documentData.j) {\r\n    case 1:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n      break;\r\n    case 2:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function (colorData) {\r\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function () {\r\n\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement */\r\n\r\nfunction ICompElement() {}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initRenderable();\r\n  this.initHierarchy();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  if (this.data.xt || !globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n  this.hide();\r\n};\r\n\r\n/* ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n}; */\r\n\r\nICompElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (!this.isInRange && !this.data.xt) {\r\n    return;\r\n  }\r\n\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    if (timeRemapped === this.data.op) {\r\n      timeRemapped = this.data.op - 1;\r\n    }\r\n    this.renderedFrame = timeRemapped;\r\n  } else {\r\n    this.renderedFrame = num / this.data.sr;\r\n  }\r\n  var i;\r\n  var len = this.elements.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(this.renderedFrame);\r\n  }\r\n  // This iteration needs to be backwards because of how expressions connect between each other\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n      if (this.elements[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.setElements = function (elems) {\r\n  this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function () {\r\n  return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.destroy = function () {\r\n  this.destroyElements();\r\n  this.destroyBaseElement();\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, createNS */\r\n\r\nfunction IImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n  this.sourceRect = {\r\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\r\n  };\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n  this.innerElem = createNS('image');\r\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n\r\n  this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function () {\r\n  return this.sourceRect;\r\n};\r\n\r\n/* global extendPrototype, IImageElement, createNS */\r\n\r\nfunction ISolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function () {\r\n  var rect = createNS('rect');\r\n  /// /rect.style.width = this.data.sw;\r\n  /// /rect.style.height = this.data.sh;\r\n  /// /rect.style.fill = this.data.sc;\r\n  rect.setAttribute('width', this.data.sw);\r\n  rect.setAttribute('height', this.data.sh);\r\n  rect.setAttribute('fill', this.data.sc);\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global PropertyFactory, extendPrototype, RenderableElement, BaseElement, FrameElement */\r\n\r\nfunction AudioElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initBaseData(data, globalData, comp);\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  this.audio = this.globalData.audioController.createAudio(assetPath);\r\n  this._currentTime = 0;\r\n  this.globalData.audioController.addAudio(this);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function (num) {\r\n  this.prepareRenderableFrame(num, true);\r\n  this.prepareProperties(num, true);\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    this._currentTime = timeRemapped;\r\n  } else {\r\n    this._currentTime = num / this.data.sr;\r\n  }\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function () {\r\n  if (this.isInRange && this._canPlay) {\r\n    if (!this._isPlaying) {\r\n      this.audio.play();\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      this._isPlaying = true;\r\n    } else if (!this.audio.playing()\r\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n    ) {\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n    }\r\n  }\r\n};\r\n\r\nAudioElement.prototype.show = function () {\r\n  // this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function () {\r\n  this._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function (rateValue) {\r\n  this.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function (volumeValue) {\r\n  this.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function () {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function () {\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, SVGRenderer, ICompElement, SVGBaseElement */\r\n\r\nfunction SVGCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = true;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  // this.layerElement = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createNS */\r\n\r\nfunction SVGTextLottieElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.renderType = 'svg';\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\nSVGTextLottieElement.prototype.createContent = function () {\r\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n    this.textContainer = createNS('text');\r\n  }\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n  var i = 0;\r\n  var len = textArray.length;\r\n  var textContents = [];\r\n  var currentTextContent = '';\r\n  while (i < len) {\r\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n      textContents.push(currentTextContent);\r\n      currentTextContent = '';\r\n    } else {\r\n      currentTextContent += textArray[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  textContents.push(currentTextContent);\r\n  return textContents;\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildNewText = function () {\r\n  var i;\r\n  var len;\r\n\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n  if (documentData.fc) {\r\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n  } else {\r\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n  }\r\n  if (documentData.sc) {\r\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n  }\r\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (fontData.fClass) {\r\n    this.layerElement.setAttribute('class', fontData.fClass);\r\n  } else {\r\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n    var fWeight = documentData.fWeight;\r\n    var fStyle = documentData.fStyle;\r\n    this.layerElement.setAttribute('font-style', fStyle);\r\n    this.layerElement.setAttribute('font-weight', fWeight);\r\n  }\r\n  this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n  var letters = documentData.l || [];\r\n  var usesGlyphs = !!this.globalData.fontManager.chars;\r\n  len = letters.length;\r\n\r\n  var tSpan;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var singleShape = this.data.singleShape;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  if (singleShape && !usesGlyphs && !documentData.sz) {\r\n    var tElement = this.textContainer;\r\n    var justify = 'start';\r\n    switch (documentData.j) {\r\n      case 1:\r\n        justify = 'end';\r\n        break;\r\n      case 2:\r\n        justify = 'middle';\r\n        break;\r\n      default:\r\n        justify = 'start';\r\n        break;\r\n    }\r\n    tElement.setAttribute('text-anchor', justify);\r\n    tElement.setAttribute('letter-spacing', trackingOffset);\r\n    var textContent = this.buildTextContents(documentData.finalText);\r\n    len = textContent.length;\r\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      tSpan = this.textSpans[i] || createNS('tspan');\r\n      tSpan.textContent = textContent[i];\r\n      tSpan.setAttribute('x', 0);\r\n      tSpan.setAttribute('y', yPos);\r\n      tSpan.style.display = 'inherit';\r\n      tElement.appendChild(tSpan);\r\n      this.textSpans[i] = tSpan;\r\n      yPos += documentData.finalLineHeight;\r\n    }\r\n\r\n    this.layerElement.appendChild(tElement);\r\n  } else {\r\n    var cachedSpansLength = this.textSpans.length;\r\n    var shapeData;\r\n    var charData;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!usesGlyphs || !singleShape || i === 0) {\r\n        tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\r\n        if (cachedSpansLength <= i) {\r\n          tSpan.setAttribute('stroke-linecap', 'butt');\r\n          tSpan.setAttribute('stroke-linejoin', 'round');\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n          this.textSpans[i] = tSpan;\r\n          this.layerElement.appendChild(tSpan);\r\n        }\r\n        tSpan.style.display = 'inherit';\r\n      }\r\n\r\n      matrixHelper.reset();\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n      if (singleShape) {\r\n        if (letters[i].n) {\r\n          xPos = -trackingOffset;\r\n          yPos += documentData.yOffset;\r\n          yPos += firstLine ? 1 : 0;\r\n          firstLine = false;\r\n        }\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        xPos += letters[i].l || 0;\r\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n        xPos += trackingOffset;\r\n      }\r\n      if (usesGlyphs) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = (charData && charData.data) || {};\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        if (!singleShape) {\r\n          tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\r\n        } else {\r\n          shapeStr += this.createPathShape(matrixHelper, shapes);\r\n        }\r\n      } else {\r\n        if (singleShape) {\r\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n        }\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      }\r\n      //\r\n    }\r\n    if (singleShape && tSpan) {\r\n      tSpan.setAttribute('d', shapeStr);\r\n    }\r\n  }\r\n  while (i < this.textSpans.length) {\r\n    this.textSpans[i].style.display = 'none';\r\n    i += 1;\r\n  }\r\n\r\n  this._sizeChanged = true;\r\n};\r\n\r\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n  this.renderInnerContent();\r\n  if (this._sizeChanged) {\r\n    this._sizeChanged = false;\r\n    var textBox = this.layerElement.getBBox();\r\n    this.bbox = {\r\n      top: textBox.y,\r\n      left: textBox.x,\r\n      width: textBox.width,\r\n      height: textBox.height,\r\n    };\r\n  }\r\n  return this.bbox;\r\n};\r\n\r\nSVGTextLottieElement.prototype.renderInnerContent = function () {\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n      this._sizeChanged = true;\r\n      var i;\r\n      var len;\r\n      var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n      var letters = this.textProperty.currentData.l;\r\n\r\n      len = letters.length;\r\n      var renderedLetter;\r\n      var textSpan;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!letters[i].n) {\r\n          renderedLetter = renderedLetters[i];\r\n          textSpan = this.textSpans[i];\r\n          if (renderedLetter._mdf.m) {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n          if (renderedLetter._mdf.o) {\r\n            textSpan.setAttribute('opacity', renderedLetter.o);\r\n          }\r\n          if (renderedLetter._mdf.sw) {\r\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n          }\r\n          if (renderedLetter._mdf.sc) {\r\n            textSpan.setAttribute('stroke', renderedLetter.sc);\r\n          }\r\n          if (renderedLetter._mdf.fc) {\r\n            textSpan.setAttribute('fill', renderedLetter.fc);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement,\r\nFrameElement, RenderableDOMElement, Matrix, SVGStyleData, SVGStrokeStyleData, SVGFillStyleData,\r\nSVGGradientFillStyleData, SVGGradientStrokeStyleData, locationHref, getBlendMode, ShapeGroupData,\r\nTransformPropertyFactory, SVGTransformData, ShapePropertyFactory, SVGShapeData, SVGElementsRenderer, ShapeModifiers,\r\nlineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function () {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\nSVGShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function () {\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var shape;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  var style;\r\n  var tempShapes = [];\r\n  var areAnimated = false;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    style = this.stylesList[j];\r\n    areAnimated = false;\r\n    tempShapes.length = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      shape = this.shapes[i];\r\n      if (shape.styles.indexOf(style) !== -1) {\r\n        tempShapes.push(shape);\r\n        areAnimated = shape._isAnimated || areAnimated;\r\n      }\r\n    }\r\n    if (tempShapes.length > 1 && areAnimated) {\r\n      this.setShapesAsAnimated(tempShapes);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n  var i;\r\n  var len = shapes.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    shapes[i].setAsAnimated();\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n  // TODO: prevent drawing of hidden styles\r\n  var elementData;\r\n  var styleOb = new SVGStyleData(data, level);\r\n\r\n  var pathElement = styleOb.pElem;\r\n  if (data.ty === 'st') {\r\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'fl') {\r\n    elementData = new SVGFillStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n    elementData = new GradientConstructor(this, data, styleOb);\r\n    this.globalData.defs.appendChild(elementData.gf);\r\n    if (elementData.maskId) {\r\n      this.globalData.defs.appendChild(elementData.ms);\r\n      this.globalData.defs.appendChild(elementData.of);\r\n      pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\r\n    }\r\n  }\r\n\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n    pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n    pathElement.setAttribute('fill-opacity', '0');\r\n    if (data.lj === 1) {\r\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n    }\r\n  }\r\n\r\n  if (data.r === 2) {\r\n    pathElement.setAttribute('fill-rule', 'evenodd');\r\n  }\r\n\r\n  if (data.ln) {\r\n    pathElement.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    pathElement.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  this.stylesList.push(styleOb);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function (data) {\r\n  var elementData = new ShapeGroupData();\r\n  if (data.ln) {\r\n    elementData.gr.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    elementData.gr.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n  var i = 0;\r\n  var len = this.animatedContents.length;\r\n  while (i < len) {\r\n    if (this.animatedContents[i].element === element) {\r\n      return;\r\n    }\r\n    i += 1;\r\n  }\r\n  this.animatedContents.push({\r\n    fn: SVGElementsRenderer.createRenderFunction(data),\r\n    element: element,\r\n    data: data,\r\n  });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n  var arr = elementData.styles;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    if (!this.stylesList[j].closed) {\r\n      arr.push(this.stylesList[j]);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n  var ownTransformers = [].concat(transformers);\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var currentTransform;\r\n  var modifier;\r\n  var processedPos;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._render = render;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], level);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].style.pElem.parentNode !== container) {\r\n          container.appendChild(itemsData[i].style.pElem);\r\n        }\r\n      }\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].gr.parentNode !== container) {\r\n          container.appendChild(itemsData[i].gr);\r\n        }\r\n      }\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createTransformElement(arr[i], container);\r\n      }\r\n      currentTransform = itemsData[i].transform;\r\n      ownTransformers.push(currentTransform);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n      }\r\n      this.setElementStyles(itemsData[i]);\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        render = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  len = ownStyles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownStyles[i].closed = true;\r\n  }\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function () {\r\n  this.renderModifiers();\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.stylesList[i].reset();\r\n  }\r\n  this.renderShape();\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n      if (this.stylesList[i].msElem) {\r\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n        // Adding M0 0 fixes same mask bug on all browsers\r\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n      }\r\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function () {\r\n  var i;\r\n  var len = this.animatedContents.length;\r\n  var animatedContent;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatedContent = this.animatedContents[i];\r\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function () {\r\n  this.destroyBaseElement();\r\n  this.shapesData = null;\r\n  this.itemsData = null;\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTintFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f2');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n  if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'SourceGraphic');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'f2');\r\n    feMerge.appendChild(feMergeNode);\r\n  }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var colorBlack = this.filterManager.effectElements[0].p.v;\r\n    var colorWhite = this.filterManager.effectElements[1].p.v;\r\n    var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n    this.matrixFilter.setAttribute('values', (colorWhite[0] - colorBlack[0]) + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGFillFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color = this.filterManager.effectElements[2].p.v;\r\n    var opacity = this.filterManager.effectElements[6].p.v;\r\n    this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGGaussianBlurEffect(filter, filterManager) {\r\n  // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n  filter.setAttribute('x', '-100%');\r\n  filter.setAttribute('y', '-100%');\r\n  filter.setAttribute('width', '300%');\r\n  filter.setAttribute('height', '300%');\r\n\r\n  this.filterManager = filterManager;\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  filter.appendChild(feGaussianBlur);\r\n  this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    // Empirical value, matching AE's blur appearance.\r\n    var kBlurrinessToSigma = 0.3;\r\n    var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n    // Dimensions mapping:\r\n    //\r\n    //   1 -> horizontal & vertical\r\n    //   2 -> horizontal only\r\n    //   3 -> vertical only\r\n    //\r\n    var dimensions = this.filterManager.effectElements[1].p.v;\r\n    var sigmaX = (dimensions == 3) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n    var sigmaY = (dimensions == 2) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n    this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\r\n\r\n    // Repeat edges mapping:\r\n    //\r\n    //   0 -> off -> duplicate\r\n    //   1 -> on  -> wrap\r\n    var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n    this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n  }\r\n};\r\n\r\n/* global createNS, createElementID, locationHref, bmFloor */\r\n\r\nfunction SVGStrokeEffect(elem, filterManager) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.elem = elem;\r\n  this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function () {\r\n  var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n  var path;\r\n  var groupPath;\r\n  var i;\r\n  var len;\r\n  if (this.filterManager.effectElements[1].p.v === 1) {\r\n    len = this.elem.maskManager.masksProperties.length;\r\n    i = 0;\r\n  } else {\r\n    i = this.filterManager.effectElements[0].p.v - 1;\r\n    len = i + 1;\r\n  }\r\n  groupPath = createNS('g');\r\n  groupPath.setAttribute('fill', 'none');\r\n  groupPath.setAttribute('stroke-linecap', 'round');\r\n  groupPath.setAttribute('stroke-dashoffset', 1);\r\n  for (i; i < len; i += 1) {\r\n    path = createNS('path');\r\n    groupPath.appendChild(path);\r\n    this.paths.push({ p: path, m: i });\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 3) {\r\n    var mask = createNS('mask');\r\n    var id = createElementID();\r\n    mask.setAttribute('id', id);\r\n    mask.setAttribute('mask-type', 'alpha');\r\n    mask.appendChild(groupPath);\r\n    this.elem.globalData.defs.appendChild(mask);\r\n    var g = createNS('g');\r\n    g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n    while (elemChildren[0]) {\r\n      g.appendChild(elemChildren[0]);\r\n    }\r\n    this.elem.layerElement.appendChild(g);\r\n    this.masker = mask;\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (this.filterManager.effectElements[10].p.v === 2) {\r\n      elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n      while (elemChildren.length) {\r\n        this.elem.layerElement.removeChild(elemChildren[0]);\r\n      }\r\n    }\r\n    this.elem.layerElement.appendChild(groupPath);\r\n    this.elem.layerElement.removeAttribute('mask');\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  }\r\n  this.initialized = true;\r\n  this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n  var i;\r\n  var len = this.paths.length;\r\n  var mask;\r\n  var path;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.paths[i].m !== -1) {\r\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n      path = this.paths[i].p;\r\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n        path.setAttribute('d', mask.lastPath);\r\n      }\r\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n        var dasharrayValue;\r\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var l = path.getTotalLength();\r\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n          var lineLength = l * (e - s);\r\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          var units = Math.floor(lineLength / segment);\r\n          var j;\r\n          for (j = 0; j < units; j += 1) {\r\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n          }\r\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n        } else {\r\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n        }\r\n        path.setAttribute('stroke-dasharray', dasharrayValue);\r\n      }\r\n    }\r\n  }\r\n  if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n    this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n  }\r\n\r\n  if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n    this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n      var color = this.filterManager.effectElements[3].p.v;\r\n      this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTritoneFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n  feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n  filter.appendChild(feComponentTransfer);\r\n  this.matrixFilter = feComponentTransfer;\r\n  var feFuncR = createNS('feFuncR');\r\n  feFuncR.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncR);\r\n  this.feFuncR = feFuncR;\r\n  var feFuncG = createNS('feFuncG');\r\n  feFuncG.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncG);\r\n  this.feFuncG = feFuncG;\r\n  var feFuncB = createNS('feFuncB');\r\n  feFuncB.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncB);\r\n  this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color1 = this.filterManager.effectElements[0].p.v;\r\n    var color2 = this.filterManager.effectElements[1].p.v;\r\n    var color3 = this.filterManager.effectElements[2].p.v;\r\n    var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n    var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n    var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n    this.feFuncR.setAttribute('tableValues', tableR);\r\n    this.feFuncG.setAttribute('tableValues', tableG);\r\n    this.feFuncB.setAttribute('tableValues', tableB);\r\n    // var opacity = this.filterManager.effectElements[2].p.v/100;\r\n    // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGProLevelsFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var effectElements = this.filterManager.effectElements;\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n\r\n  if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n    this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n  }\r\n  if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n    this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n  }\r\n  if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n    this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n  if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n    this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n  }\r\n\r\n  if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    feComponentTransfer = createNS('feComponentTransfer');\r\n  }\r\n\r\n  if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n  var feFunc = createNS(type);\r\n  feFunc.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFunc);\r\n  return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n  var cnt = 0;\r\n  var segments = 256;\r\n  var perc;\r\n  var min = Math.min(inputBlack, inputWhite);\r\n  var max = Math.max(inputBlack, inputWhite);\r\n  var table = Array.call(null, { length: segments });\r\n  var colorValue;\r\n  var pos = 0;\r\n  var outputDelta = outputWhite - outputBlack;\r\n  var inputDelta = inputWhite - inputBlack;\r\n  while (cnt <= 256) {\r\n    perc = cnt / 256;\r\n    if (perc <= min) {\r\n      colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n    } else if (perc >= max) {\r\n      colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n    } else {\r\n      colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n    }\r\n    table[pos] = colorValue;\r\n    pos += 1;\r\n    cnt += 256 / (segments - 1);\r\n  }\r\n  return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var val;\r\n    var effectElements = this.filterManager.effectElements;\r\n    if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n      val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n      this.feFuncRComposed.setAttribute('tableValues', val);\r\n      this.feFuncGComposed.setAttribute('tableValues', val);\r\n      this.feFuncBComposed.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n      val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n      this.feFuncR.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n      val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n      this.feFuncG.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n      val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n      this.feFuncB.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n      val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n      this.feFuncA.setAttribute('tableValues', val);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS, rgbToHex, degToRads */\r\n\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n  var filterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n  filter.setAttribute('x', filterSize.x);\r\n  filter.setAttribute('y', filterSize.y);\r\n  filter.setAttribute('width', filterSize.width);\r\n  filter.setAttribute('height', filterSize.height);\r\n  this.filterManager = filterManager;\r\n\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n  feGaussianBlur.setAttribute('result', 'drop_shadow_1');\r\n  feGaussianBlur.setAttribute('stdDeviation', '0');\r\n  this.feGaussianBlur = feGaussianBlur;\r\n  filter.appendChild(feGaussianBlur);\r\n\r\n  var feOffset = createNS('feOffset');\r\n  feOffset.setAttribute('dx', '25');\r\n  feOffset.setAttribute('dy', '0');\r\n  feOffset.setAttribute('in', 'drop_shadow_1');\r\n  feOffset.setAttribute('result', 'drop_shadow_2');\r\n  this.feOffset = feOffset;\r\n  filter.appendChild(feOffset);\r\n  var feFlood = createNS('feFlood');\r\n  feFlood.setAttribute('flood-color', '#00ff00');\r\n  feFlood.setAttribute('flood-opacity', '1');\r\n  feFlood.setAttribute('result', 'drop_shadow_3');\r\n  this.feFlood = feFlood;\r\n  filter.appendChild(feFlood);\r\n\r\n  var feComposite = createNS('feComposite');\r\n  feComposite.setAttribute('in', 'drop_shadow_3');\r\n  feComposite.setAttribute('in2', 'drop_shadow_2');\r\n  feComposite.setAttribute('operator', 'in');\r\n  feComposite.setAttribute('result', 'drop_shadow_4');\r\n  filter.appendChild(feComposite);\r\n\r\n  var feMerge = createNS('feMerge');\r\n  filter.appendChild(feMerge);\r\n  var feMergeNode;\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMerge.appendChild(feMergeNode);\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMergeNode.setAttribute('in', 'SourceGraphic');\r\n  this.feMergeNode = feMergeNode;\r\n  this.feMerge = feMerge;\r\n  this.originalNodeAdded = false;\r\n  feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n      var col = this.filterManager.effectElements[0].p.v;\r\n      this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n      this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n      var distance = this.filterManager.effectElements[3].p.v;\r\n      var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n      var x = distance * Math.cos(angle);\r\n      var y = distance * Math.sin(angle);\r\n      this.feOffset.setAttribute('dx', x);\r\n      this.feOffset.setAttribute('dy', y);\r\n    }\r\n    /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        } */\r\n  }\r\n};\r\n\r\n/* global createElementID, createNS */\r\n\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.filterElem = filterElem;\r\n  this.elem = elem;\r\n  elem.matteElement = createNS('g');\r\n  elem.matteElement.appendChild(elem.layerElement);\r\n  elem.matteElement.appendChild(elem.transformedElement);\r\n  elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n  var i = 0;\r\n  var len = _svgMatteSymbols.length;\r\n  while (i < len) {\r\n    if (_svgMatteSymbols[i] === mask) {\r\n      return _svgMatteSymbols[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n  var parentNode = mask.layerElement.parentNode;\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n  var children = parentNode.children;\r\n  var i = 0;\r\n  var len = children.length;\r\n  while (i < len) {\r\n    if (children[i] === mask.layerElement) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  var nextChild;\r\n  if (i <= len - 2) {\r\n    nextChild = children[i + 1];\r\n  }\r\n  var useElem = createNS('use');\r\n  useElem.setAttribute('href', '#' + symbolId);\r\n  if (nextChild) {\r\n    parentNode.insertBefore(useElem, nextChild);\r\n  } else {\r\n    parentNode.appendChild(useElem);\r\n  }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n  if (!this.findSymbol(mask)) {\r\n    var symbolId = createElementID();\r\n    var masker = createNS('mask');\r\n    masker.setAttribute('id', mask.layerId);\r\n    masker.setAttribute('mask-type', 'alpha');\r\n    _svgMatteSymbols.push(mask);\r\n    var defs = elem.globalData.defs;\r\n    defs.appendChild(masker);\r\n    var symbol = createNS('symbol');\r\n    symbol.setAttribute('id', symbolId);\r\n    this.replaceInParent(mask, symbolId);\r\n    symbol.appendChild(mask.layerElement);\r\n    defs.appendChild(symbol);\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    masker.appendChild(useElem);\r\n    mask.data.hd = false;\r\n    mask.show();\r\n  }\r\n  elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function () {\r\n  var ind = this.filterManager.effectElements[0].p.v;\r\n  var elements = this.elem.comp.elements;\r\n  var i = 0;\r\n  var len = elements.length;\r\n  while (i < len) {\r\n    if (elements[i] && elements[i].data.ind === ind) {\r\n      this.setElementAsMask(this.elem, elements[i]);\r\n    }\r\n    i += 1;\r\n  }\r\n  this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function () {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n};\r\n\r\n/* exported SVGEffects */\r\n\r\nfunction SVGEffects() {}\r\n\r\n/* global createTag, AnimationItem */\r\n/* exported animationManager */\r\n\r\nvar animationManager = (function () {\r\n  var moduleOb = {};\r\n  var registeredAnimations = [];\r\n  var initTime = 0;\r\n  var len = 0;\r\n  var playingAnimationsNum = 0;\r\n  var _stopped = true;\r\n  var _isFrozen = false;\r\n\r\n  function removeElement(ev) {\r\n    var i = 0;\r\n    var animItem = ev.target;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].animation === animItem) {\r\n        registeredAnimations.splice(i, 1);\r\n        i -= 1;\r\n        len -= 1;\r\n        if (!animItem.isPaused) {\r\n          subtractPlayingCount();\r\n        }\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  function registerAnimation(element, animationData) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    var i = 0;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n        return registeredAnimations[i].animation;\r\n      }\r\n      i += 1;\r\n    }\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, element);\r\n    animItem.setData(element, animationData);\r\n    return animItem;\r\n  }\r\n\r\n  function getRegisteredAnimations() {\r\n    var i;\r\n    var lenAnims = registeredAnimations.length;\r\n    var animations = [];\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      animations.push(registeredAnimations[i].animation);\r\n    }\r\n    return animations;\r\n  }\r\n\r\n  function addPlayingCount() {\r\n    playingAnimationsNum += 1;\r\n    activate();\r\n  }\r\n\r\n  function subtractPlayingCount() {\r\n    playingAnimationsNum -= 1;\r\n  }\r\n\r\n  function setupAnimation(animItem, element) {\r\n    animItem.addEventListener('destroy', removeElement);\r\n    animItem.addEventListener('_active', addPlayingCount);\r\n    animItem.addEventListener('_idle', subtractPlayingCount);\r\n    registeredAnimations.push({ elem: element, animation: animItem });\r\n    len += 1;\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, null);\r\n    animItem.setParams(params);\r\n    return animItem;\r\n  }\r\n\r\n  function setSpeed(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setSpeed(val, animation);\r\n    }\r\n  }\r\n\r\n  function setDirection(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setDirection(val, animation);\r\n    }\r\n  }\r\n\r\n  function play(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.play(animation);\r\n    }\r\n  }\r\n  function resume(nowTime) {\r\n    var elapsedTime = nowTime - initTime;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n    }\r\n    initTime = nowTime;\r\n    if (playingAnimationsNum && !_isFrozen) {\r\n      window.requestAnimationFrame(resume);\r\n    } else {\r\n      _stopped = true;\r\n    }\r\n  }\r\n\r\n  function first(nowTime) {\r\n    initTime = nowTime;\r\n    window.requestAnimationFrame(resume);\r\n  }\r\n\r\n  function pause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.pause(animation);\r\n    }\r\n  }\r\n\r\n  function goToAndStop(value, isFrame, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n    }\r\n  }\r\n\r\n  function stop(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.stop(animation);\r\n    }\r\n  }\r\n\r\n  function togglePause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.togglePause(animation);\r\n    }\r\n  }\r\n\r\n  function destroy(animation) {\r\n    var i;\r\n    for (i = (len - 1); i >= 0; i -= 1) {\r\n      registeredAnimations[i].animation.destroy(animation);\r\n    }\r\n  }\r\n\r\n  function searchAnimations(animationData, standalone, renderer) {\r\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n      [].slice.call(document.getElementsByClassName('bodymovin')));\r\n    var i;\r\n    var lenAnims = animElements.length;\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      if (renderer) {\r\n        animElements[i].setAttribute('data-bm-type', renderer);\r\n      }\r\n      registerAnimation(animElements[i], animationData);\r\n    }\r\n    if (standalone && lenAnims === 0) {\r\n      if (!renderer) {\r\n        renderer = 'svg';\r\n      }\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.innerText = '';\r\n      var div = createTag('div');\r\n      div.style.width = '100%';\r\n      div.style.height = '100%';\r\n      div.setAttribute('data-bm-type', renderer);\r\n      body.appendChild(div);\r\n      registerAnimation(div, animationData);\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.resize();\r\n    }\r\n  }\r\n\r\n  function activate() {\r\n    if (!_isFrozen && playingAnimationsNum) {\r\n      if (_stopped) {\r\n        window.requestAnimationFrame(first);\r\n        _stopped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function freeze() {\r\n    _isFrozen = true;\r\n  }\r\n\r\n  function unfreeze() {\r\n    _isFrozen = false;\r\n    activate();\r\n  }\r\n\r\n  function setVolume(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setVolume(val, animation);\r\n    }\r\n  }\r\n\r\n  function mute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.mute(animation);\r\n    }\r\n  }\r\n\r\n  function unmute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.unmute(animation);\r\n    }\r\n  }\r\n\r\n  moduleOb.registerAnimation = registerAnimation;\r\n  moduleOb.loadAnimation = loadAnimation;\r\n  moduleOb.setSpeed = setSpeed;\r\n  moduleOb.setDirection = setDirection;\r\n  moduleOb.play = play;\r\n  moduleOb.pause = pause;\r\n  moduleOb.stop = stop;\r\n  moduleOb.togglePause = togglePause;\r\n  moduleOb.searchAnimations = searchAnimations;\r\n  moduleOb.resize = resize;\r\n  // moduleOb.start = start;\r\n  moduleOb.goToAndStop = goToAndStop;\r\n  moduleOb.destroy = destroy;\r\n  moduleOb.freeze = freeze;\r\n  moduleOb.unfreeze = unfreeze;\r\n  moduleOb.setVolume = setVolume;\r\n  moduleOb.mute = mute;\r\n  moduleOb.unmute = unmute;\r\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n  return moduleOb;\r\n}());\r\n\r\n/* global createElementID, subframeEnabled, ProjectInterface, ImagePreloader, audioControllerFactory, extendPrototype, BaseEvent,\r\nCanvasRenderer, SVGRenderer, HybridRenderer, dataManager, expressionsPlugin, BMEnterFrameEvent, BMCompleteLoopEvent,\r\nBMCompleteEvent, BMSegmentStartEvent, BMDestroyEvent, BMEnterFrameEvent, BMCompleteLoopEvent, BMCompleteEvent, BMSegmentStartEvent,\r\nBMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, markerParser */\r\n\r\nvar AnimationItem = function () {\r\n  this._cbs = [];\r\n  this.name = '';\r\n  this.path = '';\r\n  this.isLoaded = false;\r\n  this.currentFrame = 0;\r\n  this.currentRawFrame = 0;\r\n  this.firstFrame = 0;\r\n  this.totalFrames = 0;\r\n  this.frameRate = 0;\r\n  this.frameMult = 0;\r\n  this.playSpeed = 1;\r\n  this.playDirection = 1;\r\n  this.playCount = 0;\r\n  this.animationData = {};\r\n  this.assets = [];\r\n  this.isPaused = true;\r\n  this.autoplay = false;\r\n  this.loop = true;\r\n  this.renderer = null;\r\n  this.animationID = createElementID();\r\n  this.assetsPath = '';\r\n  this.timeCompleted = 0;\r\n  this.segmentPos = 0;\r\n  this.isSubframeEnabled = subframeEnabled;\r\n  this.segments = [];\r\n  this._idle = true;\r\n  this._completedLoop = false;\r\n  this.projectInterface = ProjectInterface();\r\n  this.imagePreloader = new ImagePreloader();\r\n  this.audioController = audioControllerFactory();\r\n  this.markers = [];\r\n  this.configAnimation = this.configAnimation.bind(this);\r\n  this.onSetupError = this.onSetupError.bind(this);\r\n  this.onSegmentComplete = this.onSegmentComplete.bind(this);\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function (params) {\r\n  if (params.wrapper || params.container) {\r\n    this.wrapper = params.wrapper || params.container;\r\n  }\r\n  var animType = 'svg';\r\n  if (params.animType) {\r\n    animType = params.animType;\r\n  } else if (params.renderer) {\r\n    animType = params.renderer;\r\n  }\r\n  switch (animType) {\r\n    case 'canvas':\r\n      this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n      break;\r\n    case 'svg':\r\n      this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n      break;\r\n    default:\r\n      this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n      break;\r\n  }\r\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n  this.renderer.setProjectInterface(this.projectInterface);\r\n  this.animType = animType;\r\n  if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true) {\r\n    this.loop = true;\r\n  } else if (params.loop === false) {\r\n    this.loop = false;\r\n  } else {\r\n    this.loop = parseInt(params.loop, 10);\r\n  }\r\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n  this.name = params.name ? params.name : '';\r\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n  this.assetsPath = params.assetsPath;\r\n  this.initialSegment = params.initialSegment;\r\n  if (params.audioFactory) {\r\n    this.audioController.setAudioFactory(params.audioFactory);\r\n  }\r\n  if (params.animationData) {\r\n    this.setupAnimation(params.animationData);\r\n  } else if (params.path) {\r\n    if (params.path.lastIndexOf('\\\\') !== -1) {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n    } else {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n    }\r\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n    dataManager.loadAnimation(\r\n      params.path,\r\n      this.configAnimation,\r\n      this.onSetupError\r\n    );\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.onSetupError = function () {\r\n  this.trigger('data_failed');\r\n};\r\n\r\nAnimationItem.prototype.setupAnimation = function (data) {\r\n  dataManager.completeAnimation(\r\n    data,\r\n    this.configAnimation\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n  if (animationData) {\r\n    if (typeof animationData !== 'object') {\r\n      animationData = JSON.parse(animationData);\r\n    }\r\n  }\r\n  var params = {\r\n    wrapper: wrapper,\r\n    animationData: animationData,\r\n  };\r\n  var wrapperAttributes = wrapper.attributes;\r\n\r\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\r\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\r\n      : wrapperAttributes.getNamedItem('bm-path')\r\n        ? wrapperAttributes.getNamedItem('bm-path').value\r\n        : '';\r\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\r\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\r\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n        ? wrapperAttributes.getNamedItem('bm-type').value\r\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\r\n          : wrapperAttributes.getNamedItem('bm-renderer')\r\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\r\n            : 'canvas';\r\n\r\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\r\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\r\n      : wrapperAttributes.getNamedItem('bm-loop')\r\n        ? wrapperAttributes.getNamedItem('bm-loop').value\r\n        : '';\r\n  if (loop === 'false') {\r\n    params.loop = false;\r\n  } else if (loop === 'true') {\r\n    params.loop = true;\r\n  } else if (loop !== '') {\r\n    params.loop = parseInt(loop, 10);\r\n  }\r\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\r\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\r\n      : wrapperAttributes.getNamedItem('bm-autoplay')\r\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\r\n        : true;\r\n  params.autoplay = autoplay !== 'false';\r\n\r\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value\r\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\r\n      : wrapperAttributes.getNamedItem('bm-name')\r\n        ? wrapperAttributes.getNamedItem('bm-name').value\r\n        : '';\r\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\r\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\r\n      : wrapperAttributes.getNamedItem('bm-prerender')\r\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\r\n        : '';\r\n\r\n  if (prerender === 'false') {\r\n    params.prerender = false;\r\n  }\r\n  this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function (data) {\r\n  if (data.op > this.animationData.op) {\r\n    this.animationData.op = data.op;\r\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n  }\r\n  var layers = this.animationData.layers;\r\n  var i;\r\n  var len = layers.length;\r\n  var newLayers = data.layers;\r\n  var j;\r\n  var jLen = newLayers.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    i = 0;\r\n    while (i < len) {\r\n      if (layers[i].id === newLayers[j].id) {\r\n        layers[i] = newLayers[j];\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n  if (data.chars || data.fonts) {\r\n    this.renderer.globalData.fontManager.addChars(data.chars);\r\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n  }\r\n  if (data.assets) {\r\n    len = data.assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.animationData.assets.push(data.assets[i]);\r\n    }\r\n  }\r\n  this.animationData.__complete = false;\r\n  dataManager.completeAnimation(\r\n    this.animationData,\r\n    this.onSegmentComplete\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.onSegmentComplete = function (data) {\r\n  this.animationData = data;\r\n  if (expressionsPlugin) {\r\n    expressionsPlugin.initExpressions(this);\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n    this.trigger('data_ready');\r\n    this.timeCompleted = this.totalFrames;\r\n    return;\r\n  }\r\n  var segment = segments.shift();\r\n  this.timeCompleted = segment.time * this.frameRate;\r\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n  this.segmentPos += 1;\r\n  dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\r\n    this.trigger('data_failed');\r\n  }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments) {\r\n    this.timeCompleted = this.totalFrames;\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function () {\r\n  this.trigger('loaded_images');\r\n  this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.preloadImages = function () {\r\n  this.imagePreloader.setAssetsPath(this.assetsPath);\r\n  this.imagePreloader.setPath(this.path);\r\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.animationData = animData;\r\n    if (this.initialSegment) {\r\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n      this.firstFrame = Math.round(this.initialSegment[0]);\r\n    } else {\r\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n      this.firstFrame = Math.round(this.animationData.ip);\r\n    }\r\n    this.renderer.configAnimation(animData);\r\n    if (!animData.assets) {\r\n      animData.assets = [];\r\n    }\r\n\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n    this.markers = markerParser(animData.markers || []);\r\n    this.trigger('config_ready');\r\n    this.preloadImages();\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    this.waitForFontsLoaded();\r\n    if (this.isPaused) {\r\n      this.audioController.pause();\r\n    }\r\n  } catch (error) {\r\n    this.triggerConfigError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function () {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  if (this.renderer.globalData.fontManager.isLoaded) {\r\n    this.checkLoaded();\r\n  } else {\r\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n  if (!this.isLoaded\r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas')\r\n        && (this.imagePreloader.loadedFootages())\r\n  ) {\r\n    this.isLoaded = true;\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.initItems();\r\n    setTimeout(function () {\r\n      this.trigger('DOMLoaded');\r\n    }.bind(this), 0);\r\n    this.gotoFrame();\r\n    if (this.autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n  this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function (flag) {\r\n  this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n    this.currentFrame = this.timeCompleted;\r\n  }\r\n  this.trigger('enterFrame');\r\n  this.renderFrame();\r\n  this.trigger('drawnFrame');\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n  if (this.isLoaded === false || !this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n  } catch (error) {\r\n    this.triggerRenderFrameError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.isPaused = false;\r\n    this.audioController.resume();\r\n    if (this._idle) {\r\n      this._idle = false;\r\n      this.trigger('_active');\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === false) {\r\n    this.isPaused = true;\r\n    this._idle = true;\r\n    this.trigger('_idle');\r\n    this.audioController.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.play();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.pause();\r\n  this.playCount = 0;\r\n  this._completedLoop = false;\r\n  this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.getMarkerData = function (markerName) {\r\n  var marker;\r\n  for (var i = 0; i < this.markers.length; i += 1) {\r\n    marker = this.markers[i];\r\n    if (marker.payload && marker.payload.name === markerName) {\r\n      return marker;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      this.goToAndStop(marker.time, true);\r\n    }\r\n  } else if (isFrame) {\r\n    this.setCurrentRawFrameValue(value);\r\n  } else {\r\n    this.setCurrentRawFrameValue(value * this.frameModifier);\r\n  }\r\n  this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      if (!marker.duration) {\r\n        this.goToAndStop(marker.time, true);\r\n      } else {\r\n        this.playSegments([marker.time, marker.time + marker.duration], true);\r\n      }\r\n    }\r\n  } else {\r\n    this.goToAndStop(numValue, isFrame, name);\r\n  }\r\n  this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n  if (this.isPaused === true || this.isLoaded === false) {\r\n    return;\r\n  }\r\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n  var _isComplete = false;\r\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n    if (!this.loop || this.playCount === this.loop) {\r\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n        _isComplete = true;\r\n        nextValue = this.totalFrames - 1;\r\n      }\r\n    } else if (nextValue >= this.totalFrames) {\r\n      this.playCount += 1;\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n        this._completedLoop = true;\r\n        this.trigger('loopComplete');\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n  } else if (nextValue < 0) {\r\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\r\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n        if (!this._completedLoop) {\r\n          this._completedLoop = true;\r\n        } else {\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        _isComplete = true;\r\n        nextValue = 0;\r\n      }\r\n    }\r\n  } else {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n  }\r\n  if (_isComplete) {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n    this.pause();\r\n    this.trigger('complete');\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n  this.playCount = 0;\r\n  if (arr[1] < arr[0]) {\r\n    if (this.frameModifier > 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(-1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[0] - arr[1];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[1];\r\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n  } else if (arr[1] > arr[0]) {\r\n    if (this.frameModifier < 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[1] - arr[0];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[0];\r\n    this.setCurrentRawFrameValue(0.001 + offset);\r\n  }\r\n  this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init, end) {\r\n  var pendingFrame = -1;\r\n  if (this.isPaused) {\r\n    if (this.currentRawFrame + this.firstFrame < init) {\r\n      pendingFrame = init;\r\n    } else if (this.currentRawFrame + this.firstFrame > end) {\r\n      pendingFrame = end - init;\r\n    }\r\n  }\r\n\r\n  this.firstFrame = init;\r\n  this.totalFrames = end - init;\r\n  this.timeCompleted = this.totalFrames;\r\n  if (pendingFrame !== -1) {\r\n    this.goToAndStop(pendingFrame, true);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n  if (forceFlag) {\r\n    this.segments.length = 0;\r\n  }\r\n  if (typeof arr[0] === 'object') {\r\n    var i;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.segments.push(arr[i]);\r\n    }\r\n  } else {\r\n    this.segments.push(arr);\r\n  }\r\n  if (this.segments.length && forceFlag) {\r\n    this.adjustSegment(this.segments.shift(), 0);\r\n  }\r\n  if (this.isPaused) {\r\n    this.play();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n  this.segments.length = 0;\r\n  this.segments.push([this.animationData.ip, this.animationData.op]);\r\n  if (forceFlag) {\r\n    this.checkSegments(0);\r\n  }\r\n};\r\nAnimationItem.prototype.checkSegments = function (offset) {\r\n  if (this.segments.length) {\r\n    this.adjustSegment(this.segments.shift(), offset);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n  if ((name && this.name !== name) || !this.renderer) {\r\n    return;\r\n  }\r\n  this.renderer.destroy();\r\n  this.imagePreloader.destroy();\r\n  this.trigger('destroy');\r\n  this._cbs = null;\r\n  this.onEnterFrame = null;\r\n  this.onLoopComplete = null;\r\n  this.onComplete = null;\r\n  this.onSegmentStart = null;\r\n  this.onDestroy = null;\r\n  this.renderer = null;\r\n  this.renderer = null;\r\n  this.imagePreloader = null;\r\n  this.projectInterface = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n  this.currentRawFrame = value;\r\n  this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n  this.playSpeed = val;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n  this.playDirection = val < 0 ? -1 : 1;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n  return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n  this.audioController.setRate(this.playSpeed * this.playDirection);\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n  return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n  var path = '';\r\n  if (assetData.e) {\r\n    path = assetData.p;\r\n  } else if (this.assetsPath) {\r\n    var imagePath = assetData.p;\r\n    if (imagePath.indexOf('images/') !== -1) {\r\n      imagePath = imagePath.split('/')[1];\r\n    }\r\n    path = this.assetsPath + imagePath;\r\n  } else {\r\n    path = this.path;\r\n    path += assetData.u ? assetData.u : '';\r\n    path += assetData.p;\r\n  }\r\n  return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n  var i = 0;\r\n  var len = this.assets.length;\r\n  while (i < len) {\r\n    if (id === this.assets[i].id) {\r\n      return this.assets[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n  this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n  this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function (name) {\r\n  if (this._cbs && this._cbs[name]) {\r\n    switch (name) {\r\n      case 'enterFrame':\r\n      case 'drawnFrame':\r\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n        break;\r\n      case 'loopComplete':\r\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n        break;\r\n      case 'complete':\r\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n        break;\r\n      case 'segmentStart':\r\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n        break;\r\n      case 'destroy':\r\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n        break;\r\n      default:\r\n        this.triggerEvent(name);\r\n    }\r\n  }\r\n  if (name === 'enterFrame' && this.onEnterFrame) {\r\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n  }\r\n  if (name === 'loopComplete' && this.onLoopComplete) {\r\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n  }\r\n  if (name === 'complete' && this.onComplete) {\r\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n  }\r\n  if (name === 'segmentStart' && this.onSegmentStart) {\r\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n  }\r\n  if (name === 'destroy' && this.onDestroy) {\r\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\n/* exported EffectsManager */\r\n\r\nfunction EffectsManager() {\r\n  this.effectElements = [];\r\n}\r\n\r\n\r\nvar lottie = {};\r\n\r\nfunction setLocationHref(href) {\r\n  locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n  if (standalone === true) {\r\n    animationManager.searchAnimations(animationData, standalone, renderer);\r\n  } else {\r\n    animationManager.searchAnimations();\r\n  }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n  subframeEnabled = flag;\r\n}\r\n\r\nfunction setIDPrefix(prefix) {\r\n  idPrefix = prefix;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n  if (standalone === true) {\r\n    params.animationData = JSON.parse(animationData);\r\n  }\r\n  return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n  if (typeof value === 'string') {\r\n    switch (value) {\r\n      case 'high':\r\n        defaultCurveSegments = 200;\r\n        break;\r\n      default:\r\n      case 'medium':\r\n        defaultCurveSegments = 50;\r\n        break;\r\n      case 'low':\r\n        defaultCurveSegments = 10;\r\n        break;\r\n    }\r\n  } else if (!isNaN(value) && value > 1) {\r\n    defaultCurveSegments = value;\r\n  }\r\n  if (defaultCurveSegments >= 50) {\r\n    roundValues(false);\r\n  } else {\r\n    roundValues(true);\r\n  }\r\n}\r\n\r\nfunction inBrowser() {\r\n  return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n  if (type === 'expressions') {\r\n    expressionsPlugin = plugin;\r\n  }\r\n}\r\n\r\nfunction getFactory(name) {\r\n  switch (name) {\r\n    case 'propertyFactory':\r\n      return PropertyFactory;\r\n    case 'shapePropertyFactory':\r\n      return ShapePropertyFactory;\r\n    case 'matrix':\r\n      return Matrix;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n// lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.useWebWorker = function (flag) {\r\n  _useWebWorker = flag;\r\n};\r\nlottie.setIDPrefix = setIDPrefix;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.8.1';\r\n\r\nfunction checkReady() {\r\n  if (document.readyState === 'complete') {\r\n    clearInterval(readyStateCheckInterval);\r\n    searchAnimations();\r\n  }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n  var vars = queryString.split('&');\r\n  for (var i = 0; i < vars.length; i += 1) {\r\n    var pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nvar queryString;\r\nif (standalone) {\r\n  var scripts = document.getElementsByTagName('script');\r\n  var index = scripts.length - 1;\r\n  var myScript = scripts[index] || {\r\n    src: '',\r\n  };\r\n  queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\r\n  renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"QRCodeStyling\"] = factory();\n\telse\n\t\troot[\"QRCodeStyling\"] = factory();\n})(self, function() {\nreturn ","//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\nvar qrcode = function() {\n\n  //---------------------------------------------------------------------\n  // qrcode\n  //---------------------------------------------------------------------\n\n  /**\n   * qrcode\n   * @param typeNumber 1 to 40\n   * @param errorCorrectionLevel 'L','M','Q','H'\n   */\n  var qrcode = function(typeNumber, errorCorrectionLevel) {\n\n    var PAD0 = 0xEC;\n    var PAD1 = 0x11;\n\n    var _typeNumber = typeNumber;\n    var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n    var _modules = null;\n    var _moduleCount = 0;\n    var _dataCache = null;\n    var _dataList = [];\n\n    var _this = {};\n\n    var makeImpl = function(test, maskPattern) {\n\n      _moduleCount = _typeNumber * 4 + 17;\n      _modules = function(moduleCount) {\n        var modules = new Array(moduleCount);\n        for (var row = 0; row < moduleCount; row += 1) {\n          modules[row] = new Array(moduleCount);\n          for (var col = 0; col < moduleCount; col += 1) {\n            modules[row][col] = null;\n          }\n        }\n        return modules;\n      }(_moduleCount);\n\n      setupPositionProbePattern(0, 0);\n      setupPositionProbePattern(_moduleCount - 7, 0);\n      setupPositionProbePattern(0, _moduleCount - 7);\n      setupPositionAdjustPattern();\n      setupTimingPattern();\n      setupTypeInfo(test, maskPattern);\n\n      if (_typeNumber >= 7) {\n        setupTypeNumber(test);\n      }\n\n      if (_dataCache == null) {\n        _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n      }\n\n      mapData(_dataCache, maskPattern);\n    };\n\n    var setupPositionProbePattern = function(row, col) {\n\n      for (var r = -1; r <= 7; r += 1) {\n\n        if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n        for (var c = -1; c <= 7; c += 1) {\n\n          if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n          if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n              || (0 <= c && c <= 6 && (r == 0 || r == 6) )\n              || (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n            _modules[row + r][col + c] = true;\n          } else {\n            _modules[row + r][col + c] = false;\n          }\n        }\n      }\n    };\n\n    var getBestMaskPattern = function() {\n\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i < 8; i += 1) {\n\n        makeImpl(true, i);\n\n        var lostPoint = QRUtil.getLostPoint(_this);\n\n        if (i == 0 || minLostPoint > lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    };\n\n    var setupTimingPattern = function() {\n\n      for (var r = 8; r < _moduleCount - 8; r += 1) {\n        if (_modules[r][6] != null) {\n          continue;\n        }\n        _modules[r][6] = (r % 2 == 0);\n      }\n\n      for (var c = 8; c < _moduleCount - 8; c += 1) {\n        if (_modules[6][c] != null) {\n          continue;\n        }\n        _modules[6][c] = (c % 2 == 0);\n      }\n    };\n\n    var setupPositionAdjustPattern = function() {\n\n      var pos = QRUtil.getPatternPosition(_typeNumber);\n\n      for (var i = 0; i < pos.length; i += 1) {\n\n        for (var j = 0; j < pos.length; j += 1) {\n\n          var row = pos[i];\n          var col = pos[j];\n\n          if (_modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r <= 2; r += 1) {\n\n            for (var c = -2; c <= 2; c += 1) {\n\n              if (r == -2 || r == 2 || c == -2 || c == 2\n                  || (r == 0 && c == 0) ) {\n                _modules[row + r][col + c] = true;\n              } else {\n                _modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var setupTypeNumber = function(test) {\n\n      var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    };\n\n    var setupTypeInfo = function(test, maskPattern) {\n\n      var data = (_errorCorrectionLevel << 3) | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      // vertical\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 6) {\n          _modules[i][8] = mod;\n        } else if (i < 8) {\n          _modules[i + 1][8] = mod;\n        } else {\n          _modules[_moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      // horizontal\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 8) {\n          _modules[8][_moduleCount - i - 1] = mod;\n        } else if (i < 9) {\n          _modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          _modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      // fixed module\n      _modules[_moduleCount - 8][8] = (!test);\n    };\n\n    var mapData = function(data, maskPattern) {\n\n      var inc = -1;\n      var row = _moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n      var maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n      for (var col = _moduleCount - 1; col > 0; col -= 2) {\n\n        if (col == 6) col -= 1;\n\n        while (true) {\n\n          for (var c = 0; c < 2; c += 1) {\n\n            if (_modules[row][col - c] == null) {\n\n              var dark = false;\n\n              if (byteIndex < data.length) {\n                dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n              }\n\n              var mask = maskFunc(row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              _modules[row][col - c] = dark;\n              bitIndex -= 1;\n\n              if (bitIndex == -1) {\n                byteIndex += 1;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row < 0 || _moduleCount <= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    };\n\n    var createBytes = function(buffer, rsBlocks) {\n\n      var offset = 0;\n\n      var maxDcCount = 0;\n      var maxEcCount = 0;\n\n      var dcdata = new Array(rsBlocks.length);\n      var ecdata = new Array(rsBlocks.length);\n\n      for (var r = 0; r < rsBlocks.length; r += 1) {\n\n        var dcCount = rsBlocks[r].dataCount;\n        var ecCount = rsBlocks[r].totalCount - dcCount;\n\n        maxDcCount = Math.max(maxDcCount, dcCount);\n        maxEcCount = Math.max(maxEcCount, ecCount);\n\n        dcdata[r] = new Array(dcCount);\n\n        for (var i = 0; i < dcdata[r].length; i += 1) {\n          dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n        }\n        offset += dcCount;\n\n        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n        var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n        var modPoly = rawPoly.mod(rsPoly);\n        ecdata[r] = new Array(rsPoly.getLength() - 1);\n        for (var i = 0; i < ecdata[r].length; i += 1) {\n          var modIndex = i + modPoly.getLength() - ecdata[r].length;\n          ecdata[r][i] = (modIndex >= 0)? modPoly.getAt(modIndex) : 0;\n        }\n      }\n\n      var totalCodeCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalCodeCount += rsBlocks[i].totalCount;\n      }\n\n      var data = new Array(totalCodeCount);\n      var index = 0;\n\n      for (var i = 0; i < maxDcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < dcdata[r].length) {\n            data[index] = dcdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      for (var i = 0; i < maxEcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < ecdata[r].length) {\n            data[index] = ecdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n      var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n      var buffer = qrBitBuffer();\n\n      for (var i = 0; i < dataList.length; i += 1) {\n        var data = dataList[i];\n        buffer.put(data.getMode(), 4);\n        buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n        data.write(buffer);\n      }\n\n      // calc num max data.\n      var totalDataCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      if (buffer.getLengthInBits() > totalDataCount * 8) {\n        throw 'code length overflow. ('\n          + buffer.getLengthInBits()\n          + '>'\n          + totalDataCount * 8\n          + ')';\n      }\n\n      // end code\n      if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n        buffer.put(0, 4);\n      }\n\n      // padding\n      while (buffer.getLengthInBits() % 8 != 0) {\n        buffer.putBit(false);\n      }\n\n      // padding\n      while (true) {\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD0, 8);\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD1, 8);\n      }\n\n      return createBytes(buffer, rsBlocks);\n    };\n\n    _this.addData = function(data, mode) {\n\n      mode = mode || 'Byte';\n\n      var newData = null;\n\n      switch(mode) {\n      case 'Numeric' :\n        newData = qrNumber(data);\n        break;\n      case 'Alphanumeric' :\n        newData = qrAlphaNum(data);\n        break;\n      case 'Byte' :\n        newData = qr8BitByte(data);\n        break;\n      case 'Kanji' :\n        newData = qrKanji(data);\n        break;\n      default :\n        throw 'mode:' + mode;\n      }\n\n      _dataList.push(newData);\n      _dataCache = null;\n    };\n\n    _this.isDark = function(row, col) {\n      if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n        throw row + ',' + col;\n      }\n      return _modules[row][col];\n    };\n\n    _this.getModuleCount = function() {\n      return _moduleCount;\n    };\n\n    _this.make = function() {\n      if (_typeNumber < 1) {\n        var typeNumber = 1;\n\n        for (; typeNumber < 40; typeNumber++) {\n          var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n          var buffer = qrBitBuffer();\n\n          for (var i = 0; i < _dataList.length; i++) {\n            var data = _dataList[i];\n            buffer.put(data.getMode(), 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n            data.write(buffer);\n          }\n\n          var totalDataCount = 0;\n          for (var i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n          }\n\n          if (buffer.getLengthInBits() <= totalDataCount * 8) {\n            break;\n          }\n        }\n\n        _typeNumber = typeNumber;\n      }\n\n      makeImpl(false, getBestMaskPattern() );\n    };\n\n    _this.createTableTag = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var qrHtml = '';\n\n      qrHtml += '<table style=\"';\n      qrHtml += ' border-width: 0px; border-style: none;';\n      qrHtml += ' border-collapse: collapse;';\n      qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n      qrHtml += '\">';\n      qrHtml += '<tbody>';\n\n      for (var r = 0; r < _this.getModuleCount(); r += 1) {\n\n        qrHtml += '<tr>';\n\n        for (var c = 0; c < _this.getModuleCount(); c += 1) {\n          qrHtml += '<td style=\"';\n          qrHtml += ' border-width: 0px; border-style: none;';\n          qrHtml += ' border-collapse: collapse;';\n          qrHtml += ' padding: 0px; margin: 0px;';\n          qrHtml += ' width: ' + cellSize + 'px;';\n          qrHtml += ' height: ' + cellSize + 'px;';\n          qrHtml += ' background-color: ';\n          qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n          qrHtml += ';';\n          qrHtml += '\"/>';\n        }\n\n        qrHtml += '</tr>';\n      }\n\n      qrHtml += '</tbody>';\n      qrHtml += '</table>';\n\n      return qrHtml;\n    };\n\n    _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n      var opts = {};\n      if (typeof arguments[0] == 'object') {\n        // Called by options.\n        opts = arguments[0];\n        // overwrite cellSize and margin.\n        cellSize = opts.cellSize;\n        margin = opts.margin;\n        alt = opts.alt;\n        title = opts.title;\n      }\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      // Compose alt property surrogate\n      alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n      alt.text = alt.text || null;\n      alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n      // Compose title property surrogate\n      title = (typeof title === 'string') ? {text: title} : title || {};\n      title.text = title.text || null;\n      title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var c, mc, r, mr, qrSvg='', rect;\n\n      rect = 'l' + cellSize + ',0 0,' + cellSize +\n        ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n      qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n      qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n      qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n      qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n      qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n          escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n      qrSvg += '>';\n      qrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\n          escapeXml(title.text) + '</title>' : '';\n      qrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\n          escapeXml(alt.text) + '</description>' : '';\n      qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n      qrSvg += '<path d=\"';\n\n      for (r = 0; r < _this.getModuleCount(); r += 1) {\n        mr = r * cellSize + margin;\n        for (c = 0; c < _this.getModuleCount(); c += 1) {\n          if (_this.isDark(r, c) ) {\n            mc = c*cellSize+margin;\n            qrSvg += 'M' + mc + ',' + mr + rect;\n          }\n        }\n      }\n\n      qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n      qrSvg += '</svg>';\n\n      return qrSvg;\n    };\n\n    _this.createDataURL = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      return createDataURL(size, size, function(x, y) {\n        if (min <= x && x < max && min <= y && y < max) {\n          var c = Math.floor( (x - min) / cellSize);\n          var r = Math.floor( (y - min) / cellSize);\n          return _this.isDark(r, c)? 0 : 1;\n        } else {\n          return 1;\n        }\n      } );\n    };\n\n    _this.createImgTag = function(cellSize, margin, alt) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n\n      var img = '';\n      img += '<img';\n      img += '\\u0020src=\"';\n      img += _this.createDataURL(cellSize, margin);\n      img += '\"';\n      img += '\\u0020width=\"';\n      img += size;\n      img += '\"';\n      img += '\\u0020height=\"';\n      img += size;\n      img += '\"';\n      if (alt) {\n        img += '\\u0020alt=\"';\n        img += escapeXml(alt);\n        img += '\"';\n      }\n      img += '/>';\n\n      return img;\n    };\n\n    var escapeXml = function(s) {\n      var escaped = '';\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charAt(i);\n        switch(c) {\n        case '<': escaped += '&lt;'; break;\n        case '>': escaped += '&gt;'; break;\n        case '&': escaped += '&amp;'; break;\n        case '\"': escaped += '&quot;'; break;\n        default : escaped += c; break;\n        }\n      }\n      return escaped;\n    };\n\n    var _createHalfASCII = function(margin) {\n      var cellSize = 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r1, r2, p;\n\n      var blocks = {\n        '': '',\n        ' ': '',\n        ' ': '',\n        '  ': ' '\n      };\n\n      var blocksLastLineNoMargin = {\n        '': '',\n        ' ': '',\n        ' ': ' ',\n        '  ': ' '\n      };\n\n      var ascii = '';\n      for (y = 0; y < size; y += 2) {\n        r1 = Math.floor((y - min) / cellSize);\n        r2 = Math.floor((y + 1 - min) / cellSize);\n        for (x = 0; x < size; x += 1) {\n          p = '';\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n            p = ' ';\n          }\n\n          if (min <= x && x < max && min <= y+1 && y+1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n            p += ' ';\n          }\n          else {\n            p += '';\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          ascii += (margin < 1 && y+1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\n        }\n\n        ascii += '\\n';\n      }\n\n      if (size % 2 && margin > 0) {\n        return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('');\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.createASCII = function(cellSize, margin) {\n      cellSize = cellSize || 1;\n\n      if (cellSize < 2) {\n        return _createHalfASCII(margin);\n      }\n\n      cellSize -= 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r, p;\n\n      var white = Array(cellSize+1).join('');\n      var black = Array(cellSize+1).join('  ');\n\n      var ascii = '';\n      var line = '';\n      for (y = 0; y < size; y += 1) {\n        r = Math.floor( (y - min) / cellSize);\n        line = '';\n        for (x = 0; x < size; x += 1) {\n          p = 1;\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\n            p = 0;\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          line += p ? white : black;\n        }\n\n        for (r = 0; r < cellSize; r += 1) {\n          ascii += line + '\\n';\n        }\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.renderTo2dContext = function(context, cellSize) {\n      cellSize = cellSize || 2;\n      var length = _this.getModuleCount();\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n          context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n        }\n      }\n    }\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrcode.stringToBytes\n  //---------------------------------------------------------------------\n\n  qrcode.stringToBytesFuncs = {\n    'default' : function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        bytes.push(c & 0xff);\n      }\n      return bytes;\n    }\n  };\n\n  qrcode.stringToBytes = qrcode.stringToBytesFuncs['default'];\n\n  //---------------------------------------------------------------------\n  // qrcode.createStringToBytes\n  //---------------------------------------------------------------------\n\n  /**\n   * @param unicodeData base64 string of byte array.\n   * [16bit Unicode],[16bit Bytes], ...\n   * @param numChars\n   */\n  qrcode.createStringToBytes = function(unicodeData, numChars) {\n\n    // create conversion map.\n\n    var unicodeMap = function() {\n\n      var bin = base64DecodeInputStream(unicodeData);\n      var read = function() {\n        var b = bin.read();\n        if (b == -1) throw 'eof';\n        return b;\n      };\n\n      var count = 0;\n      var unicodeMap = {};\n      while (true) {\n        var b0 = bin.read();\n        if (b0 == -1) break;\n        var b1 = read();\n        var b2 = read();\n        var b3 = read();\n        var k = String.fromCharCode( (b0 << 8) | b1);\n        var v = (b2 << 8) | b3;\n        unicodeMap[k] = v;\n        count += 1;\n      }\n      if (count != numChars) {\n        throw count + ' != ' + numChars;\n      }\n\n      return unicodeMap;\n    }();\n\n    var unknownChar = '?'.charCodeAt(0);\n\n    return function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        if (c < 128) {\n          bytes.push(c);\n        } else {\n          var b = unicodeMap[s.charAt(i)];\n          if (typeof b == 'number') {\n            if ( (b & 0xff) == b) {\n              // 1byte\n              bytes.push(b);\n            } else {\n              // 2bytes\n              bytes.push(b >>> 8);\n              bytes.push(b & 0xff);\n            }\n          } else {\n            bytes.push(unknownChar);\n          }\n        }\n      }\n      return bytes;\n    };\n  };\n\n  //---------------------------------------------------------------------\n  // QRMode\n  //---------------------------------------------------------------------\n\n  var QRMode = {\n    MODE_NUMBER :    1 << 0,\n    MODE_ALPHA_NUM : 1 << 1,\n    MODE_8BIT_BYTE : 1 << 2,\n    MODE_KANJI :     1 << 3\n  };\n\n  //---------------------------------------------------------------------\n  // QRErrorCorrectionLevel\n  //---------------------------------------------------------------------\n\n  var QRErrorCorrectionLevel = {\n    L : 1,\n    M : 0,\n    Q : 3,\n    H : 2\n  };\n\n  //---------------------------------------------------------------------\n  // QRMaskPattern\n  //---------------------------------------------------------------------\n\n  var QRMaskPattern = {\n    PATTERN000 : 0,\n    PATTERN001 : 1,\n    PATTERN010 : 2,\n    PATTERN011 : 3,\n    PATTERN100 : 4,\n    PATTERN101 : 5,\n    PATTERN110 : 6,\n    PATTERN111 : 7\n  };\n\n  //---------------------------------------------------------------------\n  // QRUtil\n  //---------------------------------------------------------------------\n\n  var QRUtil = function() {\n\n    var PATTERN_POSITION_TABLE = [\n      [],\n      [6, 18],\n      [6, 22],\n      [6, 26],\n      [6, 30],\n      [6, 34],\n      [6, 22, 38],\n      [6, 24, 42],\n      [6, 26, 46],\n      [6, 28, 50],\n      [6, 30, 54],\n      [6, 32, 58],\n      [6, 34, 62],\n      [6, 26, 46, 66],\n      [6, 26, 48, 70],\n      [6, 26, 50, 74],\n      [6, 30, 54, 78],\n      [6, 30, 56, 82],\n      [6, 30, 58, 86],\n      [6, 34, 62, 90],\n      [6, 28, 50, 72, 94],\n      [6, 26, 50, 74, 98],\n      [6, 30, 54, 78, 102],\n      [6, 28, 54, 80, 106],\n      [6, 32, 58, 84, 110],\n      [6, 30, 58, 86, 114],\n      [6, 34, 62, 90, 118],\n      [6, 26, 50, 74, 98, 122],\n      [6, 30, 54, 78, 102, 126],\n      [6, 26, 52, 78, 104, 130],\n      [6, 30, 56, 82, 108, 134],\n      [6, 34, 60, 86, 112, 138],\n      [6, 30, 58, 86, 114, 142],\n      [6, 34, 62, 90, 118, 146],\n      [6, 30, 54, 78, 102, 126, 150],\n      [6, 24, 50, 76, 102, 128, 154],\n      [6, 28, 54, 80, 106, 132, 158],\n      [6, 32, 58, 84, 110, 136, 162],\n      [6, 26, 54, 82, 110, 138, 166],\n      [6, 30, 58, 86, 114, 142, 170]\n    ];\n    var G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\n    var G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n    var G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n    var _this = {};\n\n    var getBCHDigit = function(data) {\n      var digit = 0;\n      while (data != 0) {\n        digit += 1;\n        data >>>= 1;\n      }\n      return digit;\n    };\n\n    _this.getBCHTypeInfo = function(data) {\n      var d = data << 10;\n      while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n        d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15) ) );\n      }\n      return ( (data << 10) | d) ^ G15_MASK;\n    };\n\n    _this.getBCHTypeNumber = function(data) {\n      var d = data << 12;\n      while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n        d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18) ) );\n      }\n      return (data << 12) | d;\n    };\n\n    _this.getPatternPosition = function(typeNumber) {\n      return PATTERN_POSITION_TABLE[typeNumber - 1];\n    };\n\n    _this.getMaskFunction = function(maskPattern) {\n\n      switch (maskPattern) {\n\n      case QRMaskPattern.PATTERN000 :\n        return function(i, j) { return (i + j) % 2 == 0; };\n      case QRMaskPattern.PATTERN001 :\n        return function(i, j) { return i % 2 == 0; };\n      case QRMaskPattern.PATTERN010 :\n        return function(i, j) { return j % 3 == 0; };\n      case QRMaskPattern.PATTERN011 :\n        return function(i, j) { return (i + j) % 3 == 0; };\n      case QRMaskPattern.PATTERN100 :\n        return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n      case QRMaskPattern.PATTERN101 :\n        return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n      case QRMaskPattern.PATTERN110 :\n        return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n      case QRMaskPattern.PATTERN111 :\n        return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n      default :\n        throw 'bad maskPattern:' + maskPattern;\n      }\n    };\n\n    _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n      var a = qrPolynomial([1], 0);\n      for (var i = 0; i < errorCorrectLength; i += 1) {\n        a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n      }\n      return a;\n    };\n\n    _this.getLengthInBits = function(mode, type) {\n\n      if (1 <= type && type < 10) {\n\n        // 1 - 9\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 10;\n        case QRMode.MODE_ALPHA_NUM : return 9;\n        case QRMode.MODE_8BIT_BYTE : return 8;\n        case QRMode.MODE_KANJI     : return 8;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 27) {\n\n        // 10 - 26\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 12;\n        case QRMode.MODE_ALPHA_NUM : return 11;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 10;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 41) {\n\n        // 27 - 40\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 14;\n        case QRMode.MODE_ALPHA_NUM : return 13;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 12;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else {\n        throw 'type:' + type;\n      }\n    };\n\n    _this.getLostPoint = function(qrcode) {\n\n      var moduleCount = qrcode.getModuleCount();\n\n      var lostPoint = 0;\n\n      // LEVEL1\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount; col += 1) {\n\n          var sameCount = 0;\n          var dark = qrcode.isDark(row, col);\n\n          for (var r = -1; r <= 1; r += 1) {\n\n            if (row + r < 0 || moduleCount <= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c <= 1; c += 1) {\n\n              if (col + c < 0 || moduleCount <= col + c) {\n                continue;\n              }\n\n              if (r == 0 && c == 0) {\n                continue;\n              }\n\n              if (dark == qrcode.isDark(row + r, col + c) ) {\n                sameCount += 1;\n              }\n            }\n          }\n\n          if (sameCount > 5) {\n            lostPoint += (3 + sameCount - 5);\n          }\n        }\n      };\n\n      // LEVEL2\n\n      for (var row = 0; row < moduleCount - 1; row += 1) {\n        for (var col = 0; col < moduleCount - 1; col += 1) {\n          var count = 0;\n          if (qrcode.isDark(row, col) ) count += 1;\n          if (qrcode.isDark(row + 1, col) ) count += 1;\n          if (qrcode.isDark(row, col + 1) ) count += 1;\n          if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      // LEVEL3\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount - 6; col += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row, col + 1)\n              &&  qrcode.isDark(row, col + 2)\n              &&  qrcode.isDark(row, col + 3)\n              &&  qrcode.isDark(row, col + 4)\n              && !qrcode.isDark(row, col + 5)\n              &&  qrcode.isDark(row, col + 6) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount - 6; row += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row + 1, col)\n              &&  qrcode.isDark(row + 2, col)\n              &&  qrcode.isDark(row + 3, col)\n              &&  qrcode.isDark(row + 4, col)\n              && !qrcode.isDark(row + 5, col)\n              &&  qrcode.isDark(row + 6, col) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      // LEVEL4\n\n      var darkCount = 0;\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount; row += 1) {\n          if (qrcode.isDark(row, col) ) {\n            darkCount += 1;\n          }\n        }\n      }\n\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n\n      return lostPoint;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // QRMath\n  //---------------------------------------------------------------------\n\n  var QRMath = function() {\n\n    var EXP_TABLE = new Array(256);\n    var LOG_TABLE = new Array(256);\n\n    // initialize tables\n    for (var i = 0; i < 8; i += 1) {\n      EXP_TABLE[i] = 1 << i;\n    }\n    for (var i = 8; i < 256; i += 1) {\n      EXP_TABLE[i] = EXP_TABLE[i - 4]\n        ^ EXP_TABLE[i - 5]\n        ^ EXP_TABLE[i - 6]\n        ^ EXP_TABLE[i - 8];\n    }\n    for (var i = 0; i < 255; i += 1) {\n      LOG_TABLE[EXP_TABLE[i] ] = i;\n    }\n\n    var _this = {};\n\n    _this.glog = function(n) {\n\n      if (n < 1) {\n        throw 'glog(' + n + ')';\n      }\n\n      return LOG_TABLE[n];\n    };\n\n    _this.gexp = function(n) {\n\n      while (n < 0) {\n        n += 255;\n      }\n\n      while (n >= 256) {\n        n -= 255;\n      }\n\n      return EXP_TABLE[n];\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrPolynomial\n  //---------------------------------------------------------------------\n\n  function qrPolynomial(num, shift) {\n\n    if (typeof num.length == 'undefined') {\n      throw num.length + '/' + shift;\n    }\n\n    var _num = function() {\n      var offset = 0;\n      while (offset < num.length && num[offset] == 0) {\n        offset += 1;\n      }\n      var _num = new Array(num.length - offset + shift);\n      for (var i = 0; i < num.length - offset; i += 1) {\n        _num[i] = num[i + offset];\n      }\n      return _num;\n    }();\n\n    var _this = {};\n\n    _this.getAt = function(index) {\n      return _num[index];\n    };\n\n    _this.getLength = function() {\n      return _num.length;\n    };\n\n    _this.multiply = function(e) {\n\n      var num = new Array(_this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        for (var j = 0; j < e.getLength(); j += 1) {\n          num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n        }\n      }\n\n      return qrPolynomial(num, 0);\n    };\n\n    _this.mod = function(e) {\n\n      if (_this.getLength() - e.getLength() < 0) {\n        return _this;\n      }\n\n      var ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n      var num = new Array(_this.getLength() );\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        num[i] = _this.getAt(i);\n      }\n\n      for (var i = 0; i < e.getLength(); i += 1) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n      }\n\n      // recursive call\n      return qrPolynomial(num, 0).mod(e);\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // QRRSBlock\n  //---------------------------------------------------------------------\n\n  var QRRSBlock = function() {\n\n    var RS_BLOCK_TABLE = [\n\n      // L\n      // M\n      // Q\n      // H\n\n      // 1\n      [1, 26, 19],\n      [1, 26, 16],\n      [1, 26, 13],\n      [1, 26, 9],\n\n      // 2\n      [1, 44, 34],\n      [1, 44, 28],\n      [1, 44, 22],\n      [1, 44, 16],\n\n      // 3\n      [1, 70, 55],\n      [1, 70, 44],\n      [2, 35, 17],\n      [2, 35, 13],\n\n      // 4\n      [1, 100, 80],\n      [2, 50, 32],\n      [2, 50, 24],\n      [4, 25, 9],\n\n      // 5\n      [1, 134, 108],\n      [2, 67, 43],\n      [2, 33, 15, 2, 34, 16],\n      [2, 33, 11, 2, 34, 12],\n\n      // 6\n      [2, 86, 68],\n      [4, 43, 27],\n      [4, 43, 19],\n      [4, 43, 15],\n\n      // 7\n      [2, 98, 78],\n      [4, 49, 31],\n      [2, 32, 14, 4, 33, 15],\n      [4, 39, 13, 1, 40, 14],\n\n      // 8\n      [2, 121, 97],\n      [2, 60, 38, 2, 61, 39],\n      [4, 40, 18, 2, 41, 19],\n      [4, 40, 14, 2, 41, 15],\n\n      // 9\n      [2, 146, 116],\n      [3, 58, 36, 2, 59, 37],\n      [4, 36, 16, 4, 37, 17],\n      [4, 36, 12, 4, 37, 13],\n\n      // 10\n      [2, 86, 68, 2, 87, 69],\n      [4, 69, 43, 1, 70, 44],\n      [6, 43, 19, 2, 44, 20],\n      [6, 43, 15, 2, 44, 16],\n\n      // 11\n      [4, 101, 81],\n      [1, 80, 50, 4, 81, 51],\n      [4, 50, 22, 4, 51, 23],\n      [3, 36, 12, 8, 37, 13],\n\n      // 12\n      [2, 116, 92, 2, 117, 93],\n      [6, 58, 36, 2, 59, 37],\n      [4, 46, 20, 6, 47, 21],\n      [7, 42, 14, 4, 43, 15],\n\n      // 13\n      [4, 133, 107],\n      [8, 59, 37, 1, 60, 38],\n      [8, 44, 20, 4, 45, 21],\n      [12, 33, 11, 4, 34, 12],\n\n      // 14\n      [3, 145, 115, 1, 146, 116],\n      [4, 64, 40, 5, 65, 41],\n      [11, 36, 16, 5, 37, 17],\n      [11, 36, 12, 5, 37, 13],\n\n      // 15\n      [5, 109, 87, 1, 110, 88],\n      [5, 65, 41, 5, 66, 42],\n      [5, 54, 24, 7, 55, 25],\n      [11, 36, 12, 7, 37, 13],\n\n      // 16\n      [5, 122, 98, 1, 123, 99],\n      [7, 73, 45, 3, 74, 46],\n      [15, 43, 19, 2, 44, 20],\n      [3, 45, 15, 13, 46, 16],\n\n      // 17\n      [1, 135, 107, 5, 136, 108],\n      [10, 74, 46, 1, 75, 47],\n      [1, 50, 22, 15, 51, 23],\n      [2, 42, 14, 17, 43, 15],\n\n      // 18\n      [5, 150, 120, 1, 151, 121],\n      [9, 69, 43, 4, 70, 44],\n      [17, 50, 22, 1, 51, 23],\n      [2, 42, 14, 19, 43, 15],\n\n      // 19\n      [3, 141, 113, 4, 142, 114],\n      [3, 70, 44, 11, 71, 45],\n      [17, 47, 21, 4, 48, 22],\n      [9, 39, 13, 16, 40, 14],\n\n      // 20\n      [3, 135, 107, 5, 136, 108],\n      [3, 67, 41, 13, 68, 42],\n      [15, 54, 24, 5, 55, 25],\n      [15, 43, 15, 10, 44, 16],\n\n      // 21\n      [4, 144, 116, 4, 145, 117],\n      [17, 68, 42],\n      [17, 50, 22, 6, 51, 23],\n      [19, 46, 16, 6, 47, 17],\n\n      // 22\n      [2, 139, 111, 7, 140, 112],\n      [17, 74, 46],\n      [7, 54, 24, 16, 55, 25],\n      [34, 37, 13],\n\n      // 23\n      [4, 151, 121, 5, 152, 122],\n      [4, 75, 47, 14, 76, 48],\n      [11, 54, 24, 14, 55, 25],\n      [16, 45, 15, 14, 46, 16],\n\n      // 24\n      [6, 147, 117, 4, 148, 118],\n      [6, 73, 45, 14, 74, 46],\n      [11, 54, 24, 16, 55, 25],\n      [30, 46, 16, 2, 47, 17],\n\n      // 25\n      [8, 132, 106, 4, 133, 107],\n      [8, 75, 47, 13, 76, 48],\n      [7, 54, 24, 22, 55, 25],\n      [22, 45, 15, 13, 46, 16],\n\n      // 26\n      [10, 142, 114, 2, 143, 115],\n      [19, 74, 46, 4, 75, 47],\n      [28, 50, 22, 6, 51, 23],\n      [33, 46, 16, 4, 47, 17],\n\n      // 27\n      [8, 152, 122, 4, 153, 123],\n      [22, 73, 45, 3, 74, 46],\n      [8, 53, 23, 26, 54, 24],\n      [12, 45, 15, 28, 46, 16],\n\n      // 28\n      [3, 147, 117, 10, 148, 118],\n      [3, 73, 45, 23, 74, 46],\n      [4, 54, 24, 31, 55, 25],\n      [11, 45, 15, 31, 46, 16],\n\n      // 29\n      [7, 146, 116, 7, 147, 117],\n      [21, 73, 45, 7, 74, 46],\n      [1, 53, 23, 37, 54, 24],\n      [19, 45, 15, 26, 46, 16],\n\n      // 30\n      [5, 145, 115, 10, 146, 116],\n      [19, 75, 47, 10, 76, 48],\n      [15, 54, 24, 25, 55, 25],\n      [23, 45, 15, 25, 46, 16],\n\n      // 31\n      [13, 145, 115, 3, 146, 116],\n      [2, 74, 46, 29, 75, 47],\n      [42, 54, 24, 1, 55, 25],\n      [23, 45, 15, 28, 46, 16],\n\n      // 32\n      [17, 145, 115],\n      [10, 74, 46, 23, 75, 47],\n      [10, 54, 24, 35, 55, 25],\n      [19, 45, 15, 35, 46, 16],\n\n      // 33\n      [17, 145, 115, 1, 146, 116],\n      [14, 74, 46, 21, 75, 47],\n      [29, 54, 24, 19, 55, 25],\n      [11, 45, 15, 46, 46, 16],\n\n      // 34\n      [13, 145, 115, 6, 146, 116],\n      [14, 74, 46, 23, 75, 47],\n      [44, 54, 24, 7, 55, 25],\n      [59, 46, 16, 1, 47, 17],\n\n      // 35\n      [12, 151, 121, 7, 152, 122],\n      [12, 75, 47, 26, 76, 48],\n      [39, 54, 24, 14, 55, 25],\n      [22, 45, 15, 41, 46, 16],\n\n      // 36\n      [6, 151, 121, 14, 152, 122],\n      [6, 75, 47, 34, 76, 48],\n      [46, 54, 24, 10, 55, 25],\n      [2, 45, 15, 64, 46, 16],\n\n      // 37\n      [17, 152, 122, 4, 153, 123],\n      [29, 74, 46, 14, 75, 47],\n      [49, 54, 24, 10, 55, 25],\n      [24, 45, 15, 46, 46, 16],\n\n      // 38\n      [4, 152, 122, 18, 153, 123],\n      [13, 74, 46, 32, 75, 47],\n      [48, 54, 24, 14, 55, 25],\n      [42, 45, 15, 32, 46, 16],\n\n      // 39\n      [20, 147, 117, 4, 148, 118],\n      [40, 75, 47, 7, 76, 48],\n      [43, 54, 24, 22, 55, 25],\n      [10, 45, 15, 67, 46, 16],\n\n      // 40\n      [19, 148, 118, 6, 149, 119],\n      [18, 75, 47, 31, 76, 48],\n      [34, 54, 24, 34, 55, 25],\n      [20, 45, 15, 61, 46, 16]\n    ];\n\n    var qrRSBlock = function(totalCount, dataCount) {\n      var _this = {};\n      _this.totalCount = totalCount;\n      _this.dataCount = dataCount;\n      return _this;\n    };\n\n    var _this = {};\n\n    var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n      switch(errorCorrectionLevel) {\n      case QRErrorCorrectionLevel.L :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n      case QRErrorCorrectionLevel.M :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n      case QRErrorCorrectionLevel.Q :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n      case QRErrorCorrectionLevel.H :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n      default :\n        return undefined;\n      }\n    };\n\n    _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n      var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n      if (typeof rsBlock == 'undefined') {\n        throw 'bad rs block @ typeNumber:' + typeNumber +\n            '/errorCorrectionLevel:' + errorCorrectionLevel;\n      }\n\n      var length = rsBlock.length / 3;\n\n      var list = [];\n\n      for (var i = 0; i < length; i += 1) {\n\n        var count = rsBlock[i * 3 + 0];\n        var totalCount = rsBlock[i * 3 + 1];\n        var dataCount = rsBlock[i * 3 + 2];\n\n        for (var j = 0; j < count; j += 1) {\n          list.push(qrRSBlock(totalCount, dataCount) );\n        }\n      }\n\n      return list;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrBitBuffer\n  //---------------------------------------------------------------------\n\n  var qrBitBuffer = function() {\n\n    var _buffer = [];\n    var _length = 0;\n\n    var _this = {};\n\n    _this.getBuffer = function() {\n      return _buffer;\n    };\n\n    _this.getAt = function(index) {\n      var bufIndex = Math.floor(index / 8);\n      return ( (_buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n    };\n\n    _this.put = function(num, length) {\n      for (var i = 0; i < length; i += 1) {\n        _this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n      }\n    };\n\n    _this.getLengthInBits = function() {\n      return _length;\n    };\n\n    _this.putBit = function(bit) {\n\n      var bufIndex = Math.floor(_length / 8);\n      if (_buffer.length <= bufIndex) {\n        _buffer.push(0);\n      }\n\n      if (bit) {\n        _buffer[bufIndex] |= (0x80 >>> (_length % 8) );\n      }\n\n      _length += 1;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrNumber\n  //---------------------------------------------------------------------\n\n  var qrNumber = function(data) {\n\n    var _mode = QRMode.MODE_NUMBER;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _data;\n\n      var i = 0;\n\n      while (i + 2 < data.length) {\n        buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n        i += 3;\n      }\n\n      if (i < data.length) {\n        if (data.length - i == 1) {\n          buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n        } else if (data.length - i == 2) {\n          buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n        }\n      }\n    };\n\n    var strToNum = function(s) {\n      var num = 0;\n      for (var i = 0; i < s.length; i += 1) {\n        num = num * 10 + chatToNum(s.charAt(i) );\n      }\n      return num;\n    };\n\n    var chatToNum = function(c) {\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      }\n      throw 'illegal char :' + c;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrAlphaNum\n  //---------------------------------------------------------------------\n\n  var qrAlphaNum = function(data) {\n\n    var _mode = QRMode.MODE_ALPHA_NUM;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var s = _data;\n\n      var i = 0;\n\n      while (i + 1 < s.length) {\n        buffer.put(\n          getCode(s.charAt(i) ) * 45 +\n          getCode(s.charAt(i + 1) ), 11);\n        i += 2;\n      }\n\n      if (i < s.length) {\n        buffer.put(getCode(s.charAt(i) ), 6);\n      }\n    };\n\n    var getCode = function(c) {\n\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      } else if ('A' <= c && c <= 'Z') {\n        return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n      } else {\n        switch (c) {\n        case ' ' : return 36;\n        case '$' : return 37;\n        case '%' : return 38;\n        case '*' : return 39;\n        case '+' : return 40;\n        case '-' : return 41;\n        case '.' : return 42;\n        case '/' : return 43;\n        case ':' : return 44;\n        default :\n          throw 'illegal char :' + c;\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qr8BitByte\n  //---------------------------------------------------------------------\n\n  var qr8BitByte = function(data) {\n\n    var _mode = QRMode.MODE_8BIT_BYTE;\n    var _data = data;\n    var _bytes = qrcode.stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _bytes.length;\n    };\n\n    _this.write = function(buffer) {\n      for (var i = 0; i < _bytes.length; i += 1) {\n        buffer.put(_bytes[i], 8);\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrKanji\n  //---------------------------------------------------------------------\n\n  var qrKanji = function(data) {\n\n    var _mode = QRMode.MODE_KANJI;\n    var _data = data;\n\n    var stringToBytes = qrcode.stringToBytesFuncs['SJIS'];\n    if (!stringToBytes) {\n      throw 'sjis not supported.';\n    }\n    !function(c, code) {\n      // self test for sjis support.\n      var test = stringToBytes(c);\n      if (test.length != 2 || ( (test[0] << 8) | test[1]) != code) {\n        throw 'sjis not supported.';\n      }\n    }('\\u53cb', 0x9746);\n\n    var _bytes = stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return ~~(_bytes.length / 2);\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _bytes;\n\n      var i = 0;\n\n      while (i + 1 < data.length) {\n\n        var c = ( (0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n        if (0x8140 <= c && c <= 0x9FFC) {\n          c -= 0x8140;\n        } else if (0xE040 <= c && c <= 0xEBBF) {\n          c -= 0xC140;\n        } else {\n          throw 'illegal char at ' + (i + 1) + '/' + c;\n        }\n\n        c = ( (c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\n\n        buffer.put(c, 13);\n\n        i += 2;\n      }\n\n      if (i < data.length) {\n        throw 'illegal char at ' + (i + 1);\n      }\n    };\n\n    return _this;\n  };\n\n  //=====================================================================\n  // GIF Support etc.\n  //\n\n  //---------------------------------------------------------------------\n  // byteArrayOutputStream\n  //---------------------------------------------------------------------\n\n  var byteArrayOutputStream = function() {\n\n    var _bytes = [];\n\n    var _this = {};\n\n    _this.writeByte = function(b) {\n      _bytes.push(b & 0xff);\n    };\n\n    _this.writeShort = function(i) {\n      _this.writeByte(i);\n      _this.writeByte(i >>> 8);\n    };\n\n    _this.writeBytes = function(b, off, len) {\n      off = off || 0;\n      len = len || b.length;\n      for (var i = 0; i < len; i += 1) {\n        _this.writeByte(b[i + off]);\n      }\n    };\n\n    _this.writeString = function(s) {\n      for (var i = 0; i < s.length; i += 1) {\n        _this.writeByte(s.charCodeAt(i) );\n      }\n    };\n\n    _this.toByteArray = function() {\n      return _bytes;\n    };\n\n    _this.toString = function() {\n      var s = '';\n      s += '[';\n      for (var i = 0; i < _bytes.length; i += 1) {\n        if (i > 0) {\n          s += ',';\n        }\n        s += _bytes[i];\n      }\n      s += ']';\n      return s;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64EncodeOutputStream\n  //---------------------------------------------------------------------\n\n  var base64EncodeOutputStream = function() {\n\n    var _buffer = 0;\n    var _buflen = 0;\n    var _length = 0;\n    var _base64 = '';\n\n    var _this = {};\n\n    var writeEncoded = function(b) {\n      _base64 += String.fromCharCode(encode(b & 0x3f) );\n    };\n\n    var encode = function(n) {\n      if (n < 0) {\n        // error.\n      } else if (n < 26) {\n        return 0x41 + n;\n      } else if (n < 52) {\n        return 0x61 + (n - 26);\n      } else if (n < 62) {\n        return 0x30 + (n - 52);\n      } else if (n == 62) {\n        return 0x2b;\n      } else if (n == 63) {\n        return 0x2f;\n      }\n      throw 'n:' + n;\n    };\n\n    _this.writeByte = function(n) {\n\n      _buffer = (_buffer << 8) | (n & 0xff);\n      _buflen += 8;\n      _length += 1;\n\n      while (_buflen >= 6) {\n        writeEncoded(_buffer >>> (_buflen - 6) );\n        _buflen -= 6;\n      }\n    };\n\n    _this.flush = function() {\n\n      if (_buflen > 0) {\n        writeEncoded(_buffer << (6 - _buflen) );\n        _buffer = 0;\n        _buflen = 0;\n      }\n\n      if (_length % 3 != 0) {\n        // padding\n        var padlen = 3 - _length % 3;\n        for (var i = 0; i < padlen; i += 1) {\n          _base64 += '=';\n        }\n      }\n    };\n\n    _this.toString = function() {\n      return _base64;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64DecodeInputStream\n  //---------------------------------------------------------------------\n\n  var base64DecodeInputStream = function(str) {\n\n    var _str = str;\n    var _pos = 0;\n    var _buffer = 0;\n    var _buflen = 0;\n\n    var _this = {};\n\n    _this.read = function() {\n\n      while (_buflen < 8) {\n\n        if (_pos >= _str.length) {\n          if (_buflen == 0) {\n            return -1;\n          }\n          throw 'unexpected end of file./' + _buflen;\n        }\n\n        var c = _str.charAt(_pos);\n        _pos += 1;\n\n        if (c == '=') {\n          _buflen = 0;\n          return -1;\n        } else if (c.match(/^\\s$/) ) {\n          // ignore if whitespace.\n          continue;\n        }\n\n        _buffer = (_buffer << 6) | decode(c.charCodeAt(0) );\n        _buflen += 6;\n      }\n\n      var n = (_buffer >>> (_buflen - 8) ) & 0xff;\n      _buflen -= 8;\n      return n;\n    };\n\n    var decode = function(c) {\n      if (0x41 <= c && c <= 0x5a) {\n        return c - 0x41;\n      } else if (0x61 <= c && c <= 0x7a) {\n        return c - 0x61 + 26;\n      } else if (0x30 <= c && c <= 0x39) {\n        return c - 0x30 + 52;\n      } else if (c == 0x2b) {\n        return 62;\n      } else if (c == 0x2f) {\n        return 63;\n      } else {\n        throw 'c:' + c;\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // gifImage (B/W)\n  //---------------------------------------------------------------------\n\n  var gifImage = function(width, height) {\n\n    var _width = width;\n    var _height = height;\n    var _data = new Array(width * height);\n\n    var _this = {};\n\n    _this.setPixel = function(x, y, pixel) {\n      _data[y * _width + x] = pixel;\n    };\n\n    _this.write = function(out) {\n\n      //---------------------------------\n      // GIF Signature\n\n      out.writeString('GIF87a');\n\n      //---------------------------------\n      // Screen Descriptor\n\n      out.writeShort(_width);\n      out.writeShort(_height);\n\n      out.writeByte(0x80); // 2bit\n      out.writeByte(0);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Global Color Map\n\n      // black\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n\n      // white\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n\n      //---------------------------------\n      // Image Descriptor\n\n      out.writeString(',');\n      out.writeShort(0);\n      out.writeShort(0);\n      out.writeShort(_width);\n      out.writeShort(_height);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Local Color Map\n\n      //---------------------------------\n      // Raster Data\n\n      var lzwMinCodeSize = 2;\n      var raster = getLZWRaster(lzwMinCodeSize);\n\n      out.writeByte(lzwMinCodeSize);\n\n      var offset = 0;\n\n      while (raster.length - offset > 255) {\n        out.writeByte(255);\n        out.writeBytes(raster, offset, 255);\n        offset += 255;\n      }\n\n      out.writeByte(raster.length - offset);\n      out.writeBytes(raster, offset, raster.length - offset);\n      out.writeByte(0x00);\n\n      //---------------------------------\n      // GIF Terminator\n      out.writeString(';');\n    };\n\n    var bitOutputStream = function(out) {\n\n      var _out = out;\n      var _bitLength = 0;\n      var _bitBuffer = 0;\n\n      var _this = {};\n\n      _this.write = function(data, length) {\n\n        if ( (data >>> length) != 0) {\n          throw 'length over';\n        }\n\n        while (_bitLength + length >= 8) {\n          _out.writeByte(0xff & ( (data << _bitLength) | _bitBuffer) );\n          length -= (8 - _bitLength);\n          data >>>= (8 - _bitLength);\n          _bitBuffer = 0;\n          _bitLength = 0;\n        }\n\n        _bitBuffer = (data << _bitLength) | _bitBuffer;\n        _bitLength = _bitLength + length;\n      };\n\n      _this.flush = function() {\n        if (_bitLength > 0) {\n          _out.writeByte(_bitBuffer);\n        }\n      };\n\n      return _this;\n    };\n\n    var getLZWRaster = function(lzwMinCodeSize) {\n\n      var clearCode = 1 << lzwMinCodeSize;\n      var endCode = (1 << lzwMinCodeSize) + 1;\n      var bitLength = lzwMinCodeSize + 1;\n\n      // Setup LZWTable\n      var table = lzwTable();\n\n      for (var i = 0; i < clearCode; i += 1) {\n        table.add(String.fromCharCode(i) );\n      }\n      table.add(String.fromCharCode(clearCode) );\n      table.add(String.fromCharCode(endCode) );\n\n      var byteOut = byteArrayOutputStream();\n      var bitOut = bitOutputStream(byteOut);\n\n      // clear code\n      bitOut.write(clearCode, bitLength);\n\n      var dataIndex = 0;\n\n      var s = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      while (dataIndex < _data.length) {\n\n        var c = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n\n        if (table.contains(s + c) ) {\n\n          s = s + c;\n\n        } else {\n\n          bitOut.write(table.indexOf(s), bitLength);\n\n          if (table.size() < 0xfff) {\n\n            if (table.size() == (1 << bitLength) ) {\n              bitLength += 1;\n            }\n\n            table.add(s + c);\n          }\n\n          s = c;\n        }\n      }\n\n      bitOut.write(table.indexOf(s), bitLength);\n\n      // end code\n      bitOut.write(endCode, bitLength);\n\n      bitOut.flush();\n\n      return byteOut.toByteArray();\n    };\n\n    var lzwTable = function() {\n\n      var _map = {};\n      var _size = 0;\n\n      var _this = {};\n\n      _this.add = function(key) {\n        if (_this.contains(key) ) {\n          throw 'dup key:' + key;\n        }\n        _map[key] = _size;\n        _size += 1;\n      };\n\n      _this.size = function() {\n        return _size;\n      };\n\n      _this.indexOf = function(key) {\n        return _map[key];\n      };\n\n      _this.contains = function(key) {\n        return typeof _map[key] != 'undefined';\n      };\n\n      return _this;\n    };\n\n    return _this;\n  };\n\n  var createDataURL = function(width, height, getPixel) {\n    var gif = gifImage(width, height);\n    for (var y = 0; y < height; y += 1) {\n      for (var x = 0; x < width; x += 1) {\n        gif.setPixel(x, y, getPixel(x, y) );\n      }\n    }\n\n    var b = byteArrayOutputStream();\n    gif.write(b);\n\n    var base64 = base64EncodeOutputStream();\n    var bytes = b.toByteArray();\n    for (var i = 0; i < bytes.length; i += 1) {\n      base64.writeByte(bytes[i]);\n    }\n    base64.flush();\n\n    return 'data:image/gif;base64,' + base64;\n  };\n\n  //---------------------------------------------------------------------\n  // returns qrcode function.\n\n  return qrcode;\n}();\n\n// multibyte support\n!function() {\n\n  qrcode.stringToBytesFuncs['UTF-8'] = function(s) {\n    // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n    function toUTF8Array(str) {\n      var utf8 = [];\n      for (var i=0; i < str.length; i++) {\n        var charcode = str.charCodeAt(i);\n        if (charcode < 0x80) utf8.push(charcode);\n        else if (charcode < 0x800) {\n          utf8.push(0xc0 | (charcode >> 6),\n              0x80 | (charcode & 0x3f));\n        }\n        else if (charcode < 0xd800 || charcode >= 0xe000) {\n          utf8.push(0xe0 | (charcode >> 12),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n        // surrogate pair\n        else {\n          i++;\n          // UTF-16 encodes 0x10000-0x10FFFF by\n          // subtracting 0x10000 and splitting the\n          // 20 bits of 0x0-0xFFFFF into two halves\n          charcode = 0x10000 + (((charcode & 0x3ff)<<10)\n            | (str.charCodeAt(i) & 0x3ff));\n          utf8.push(0xf0 | (charcode >>18),\n              0x80 | ((charcode>>12) & 0x3f),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n      }\n      return utf8;\n    }\n    return toUTF8Array(s);\n  };\n\n}();\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n      define([], factory);\n  } else if (typeof exports === 'object') {\n      module.exports = factory();\n  }\n}(function () {\n    return qrcode;\n}));\n","import { UnknownObject } from \"../types\";\n\nconst isObject = (obj: Record<string, unknown>): boolean => !!obj && typeof obj === \"object\" && !Array.isArray(obj);\n\nexport default function mergeDeep(target: UnknownObject, ...sources: UnknownObject[]): UnknownObject {\n  if (!sources.length) return target;\n  const source = sources.shift();\n  if (source === undefined || !isObject(target) || !isObject(source)) return target;\n  target = { ...target };\n  Object.keys(source).forEach((key: string): void => {\n    const targetValue = target[key];\n    const sourceValue = source[key];\n\n    if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\n      target[key] = sourceValue;\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\n      target[key] = mergeDeep(Object.assign({}, targetValue), sourceValue);\n    } else {\n      target[key] = sourceValue;\n    }\n  });\n\n  return mergeDeep(target, ...sources);\n}\n","export default function downloadURI(uri: string, name: string): void {\n  const link = document.createElement(\"a\");\n  link.download = name;\n  link.href = uri;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n","export default async function toDataURL(url: string): Promise<string> {\n  return new Promise((resolve) => {\n    const xhr = new XMLHttpRequest();\n    xhr.onload = function () {\n      const reader = new FileReader();\n      reader.onloadend = function () {\n        resolve(reader.result as string);\n      };\n      reader.readAsDataURL(xhr.response);\n    };\n    xhr.open(\"GET\", url);\n    xhr.responseType = \"blob\";\n    xhr.send();\n  });\n}\n","interface ErrorCorrectionPercents {\n  [key: string]: number;\n}\n\nexport default {\n  L: 0.07,\n  M: 0.15,\n  Q: 0.25,\n  H: 0.3\n} as ErrorCorrectionPercents;\n","import dotTypes from \"../../constants/dotTypes\";\nimport { DotType, GetNeighbor, DrawArgs, BasicFigureDrawArgs, RotateFigureArgs } from \"../../types\";\n\nexport default class QRDot {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: DotType;\n\n  constructor({ svg, type }: { svg: SVGElement; type: DotType }) {\n    this._svg = svg;\n    this._type = type;\n  }\n\n  draw(x: number, y: number, size: number, getNeighbor: GetNeighbor): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case dotTypes.dots:\n        drawFunction = this._drawDot;\n        break;\n      case dotTypes.classy:\n        drawFunction = this._drawClassy;\n        break;\n      case dotTypes.classyRounded:\n        drawFunction = this._drawClassyRounded;\n        break;\n      case dotTypes.rounded:\n        drawFunction = this._drawRounded;\n        break;\n      case dotTypes.extraRounded:\n        drawFunction = this._drawExtraRounded;\n        break;\n      case dotTypes.square:\n      default:\n        drawFunction = this._drawSquare;\n    }\n\n    drawFunction.call(this, { x, y, size, getNeighbor });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        this._element.setAttribute(\"cx\", String(x + size / 2));\n        this._element.setAttribute(\"cy\", String(y + size / 2));\n        this._element.setAttribute(\"r\", String(size / 2));\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._element.setAttribute(\"x\", String(x));\n        this._element.setAttribute(\"y\", String(y));\n        this._element.setAttribute(\"width\", String(size));\n        this._element.setAttribute(\"height\", String(size));\n      }\n    });\n  }\n\n  //if rotation === 0 - right side is rounded\n  _basicSideRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size / 2}` + //draw line to left bottom corner + half of size right\n            `a ${size / 2} ${size / 2}, 0, 0, 0, 0 ${-size}` // draw rounded corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - top right corner is rounded\n  _basicCornerRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size}` + //draw line to right bottom corner\n            `v ${-size / 2}` + //draw line to right bottom corner + half of size top\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${-size / 2} ${-size / 2}` // draw rounded corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - top right corner is rounded\n  _basicCornerExtraRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size}` + //draw line to right bottom corner\n            `a ${size} ${size}, 0, 0, 0, ${-size} ${-size}` // draw rounded top right corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - left bottom and right top corners are rounded\n  _basicCornersRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to left top position\n            `v ${size / 2}` + //draw line to left top corner + half of size bottom\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${size / 2} ${size / 2}` + // draw rounded left bottom corner\n            `h ${size / 2}` + //draw line to right bottom corner\n            `v ${-size / 2}` + //draw line to right bottom corner + half of size top\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${-size / 2} ${-size / 2}` // draw rounded right top corner\n        );\n      }\n    });\n  }\n\n  _drawDot({ x, y, size }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation: 0 });\n  }\n\n  _drawSquare({ x, y, size }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n\n  _drawRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicDot({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount > 2 || (leftNeighbor && rightNeighbor) || (topNeighbor && bottomNeighbor)) {\n      this._basicSquare({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount === 2) {\n      let rotation = 0;\n\n      if (leftNeighbor && topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (topNeighbor && rightNeighbor) {\n        rotation = Math.PI;\n      } else if (rightNeighbor && bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicCornerRounded({ x, y, size, rotation });\n      return;\n    }\n\n    if (neighborsCount === 1) {\n      let rotation = 0;\n\n      if (topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (rightNeighbor) {\n        rotation = Math.PI;\n      } else if (bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicSideRounded({ x, y, size, rotation });\n      return;\n    }\n  }\n\n  _drawExtraRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicDot({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount > 2 || (leftNeighbor && rightNeighbor) || (topNeighbor && bottomNeighbor)) {\n      this._basicSquare({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount === 2) {\n      let rotation = 0;\n\n      if (leftNeighbor && topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (topNeighbor && rightNeighbor) {\n        rotation = Math.PI;\n      } else if (rightNeighbor && bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicCornerExtraRounded({ x, y, size, rotation });\n      return;\n    }\n\n    if (neighborsCount === 1) {\n      let rotation = 0;\n\n      if (topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (rightNeighbor) {\n        rotation = Math.PI;\n      } else if (bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicSideRounded({ x, y, size, rotation });\n      return;\n    }\n  }\n\n  _drawClassy({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicCornersRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    if (!leftNeighbor && !topNeighbor) {\n      this._basicCornerRounded({ x, y, size, rotation: -Math.PI / 2 });\n      return;\n    }\n\n    if (!rightNeighbor && !bottomNeighbor) {\n      this._basicCornerRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n\n  _drawClassyRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicCornersRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    if (!leftNeighbor && !topNeighbor) {\n      this._basicCornerExtraRounded({ x, y, size, rotation: -Math.PI / 2 });\n      return;\n    }\n\n    if (!rightNeighbor && !bottomNeighbor) {\n      this._basicCornerExtraRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n}\n","import { DotTypes } from \"../types\";\n\nexport default {\n  dots: \"dots\",\n  rounded: \"rounded\",\n  classy: \"classy\",\n  classyRounded: \"classy-rounded\",\n  square: \"square\",\n  extraRounded: \"extra-rounded\"\n} as DotTypes;\n","import cornerSquareTypes from \"../../constants/cornerSquareTypes\";\nimport { CornerSquareType, DrawArgs, BasicFigureDrawArgs, RotateFigureArgs } from \"../../types\";\n\nexport default class QRCornerSquare {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: CornerSquareType;\n\n  constructor({ svg, type }: { svg: SVGElement; type: CornerSquareType }) {\n    this._svg = svg;\n    this._type = type;\n  }\n\n  draw(x: number, y: number, size: number, rotation: number): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case cornerSquareTypes.square:\n        drawFunction = this._drawSquare;\n        break;\n      case cornerSquareTypes.extraRounded:\n        drawFunction = this._drawExtraRounded;\n        break;\n      case cornerSquareTypes.dot:\n      default:\n        drawFunction = this._drawDot;\n    }\n\n    drawFunction.call(this, { x, y, size, rotation });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x + size / 2} ${y}` + // M cx, y //  Move to top of ring\n            `a ${size / 2} ${size / 2} 0 1 0 0.1 0` + // a outerRadius, outerRadius, 0, 1, 0, 1, 0 // Draw outer arc, but don't close it\n            `z` + // Z // Close the outer shape\n            `m 0 ${dotSize}` + // m -1 outerRadius-innerRadius // Move to top point of inner radius\n            `a ${size / 2 - dotSize} ${size / 2 - dotSize} 0 1 1 -0.1 0` + // a innerRadius, innerRadius, 0, 1, 1, -1, 0 // Draw inner arc, but don't close it\n            `Z` // Z // Close the inner ring. Actually will still work without, but inner ring will have one unit missing in stroke\n        );\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` +\n            `v ${size}` +\n            `h ${size}` +\n            `v ${-size}` +\n            `z` +\n            `M ${x + dotSize} ${y + dotSize}` +\n            `h ${size - 2 * dotSize}` +\n            `v ${size - 2 * dotSize}` +\n            `h ${-size + 2 * dotSize}` +\n            `z`\n        );\n      }\n    });\n  }\n\n  _basicExtraRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y + 2.5 * dotSize}` +\n            `v ${2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${dotSize * 2.5} ${dotSize * 2.5}` +\n            `h ${2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${dotSize * 2.5} ${-dotSize * 2.5}` +\n            `v ${-2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${-dotSize * 2.5} ${-dotSize * 2.5}` +\n            `h ${-2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${-dotSize * 2.5} ${dotSize * 2.5}` +\n            `M ${x + 2.5 * dotSize} ${y + dotSize}` +\n            `h ${2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${dotSize * 1.5} ${dotSize * 1.5}` +\n            `v ${2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${-dotSize * 1.5} ${dotSize * 1.5}` +\n            `h ${-2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${-dotSize * 1.5} ${-dotSize * 1.5}` +\n            `v ${-2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${dotSize * 1.5} ${-dotSize * 1.5}`\n        );\n      }\n    });\n  }\n\n  _drawDot({ x, y, size, rotation }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation });\n  }\n\n  _drawSquare({ x, y, size, rotation }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation });\n  }\n\n  _drawExtraRounded({ x, y, size, rotation }: DrawArgs): void {\n    this._basicExtraRounded({ x, y, size, rotation });\n  }\n}\n","import { CornerSquareTypes } from \"../types\";\n\nexport default {\n  dot: \"dot\",\n  square: \"square\",\n  extraRounded: \"extra-rounded\"\n} as CornerSquareTypes;\n","import cornerDotTypes from \"../../constants/cornerDotTypes\";\nimport { CornerDotType, RotateFigureArgs, BasicFigureDrawArgs, DrawArgs } from \"../../types\";\n\nexport default class QRCornerDot {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: CornerDotType;\n\n  constructor({ svg, type }: { svg: SVGElement; type: CornerDotType }) {\n    this._svg = svg;\n    this._type = type;\n  }\n\n  draw(x: number, y: number, size: number, rotation: number): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case cornerDotTypes.square:\n        drawFunction = this._drawSquare;\n        break;\n      case cornerDotTypes.dot:\n      default:\n        drawFunction = this._drawDot;\n    }\n\n    drawFunction.call(this, { x, y, size, rotation });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        this._element.setAttribute(\"cx\", String(x + size / 2));\n        this._element.setAttribute(\"cy\", String(y + size / 2));\n        this._element.setAttribute(\"r\", String(size / 2));\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._element.setAttribute(\"x\", String(x));\n        this._element.setAttribute(\"y\", String(y));\n        this._element.setAttribute(\"width\", String(size));\n        this._element.setAttribute(\"height\", String(size));\n      }\n    });\n  }\n\n  _drawDot({ x, y, size, rotation }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation });\n  }\n\n  _drawSquare({ x, y, size, rotation }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation });\n  }\n}\n","import { CornerDotTypes } from \"../types\";\n\nexport default {\n  dot: \"dot\",\n  square: \"square\"\n} as CornerDotTypes;\n","import { ShapeTypes } from \"../types\";\n\nexport default {\n  square: \"square\",\n  circle: \"circle\"\n} as ShapeTypes;\n","import calculateImageSize from \"../tools/calculateImageSize\";\nimport toDataUrl from \"../tools/toDataUrl\";\nimport errorCorrectionPercents from \"../constants/errorCorrectionPercents\";\nimport QRDot from \"../figures/dot/QRDot\";\nimport QRCornerSquare from \"../figures/cornerSquare/QRCornerSquare\";\nimport QRCornerDot from \"../figures/cornerDot/QRCornerDot\";\nimport { RequiredOptions } from \"./QROptions\";\nimport gradientTypes from \"../constants/gradientTypes\";\nimport shapeTypes from \"../constants/shapeTypes\";\nimport { QRCode, FilterFunction, Gradient } from \"../types\";\n\nconst squareMask = [\n  [1, 1, 1, 1, 1, 1, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 1, 1, 1, 1, 1, 1]\n];\n\nconst dotMask = [\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0]\n];\n\nexport default class QRSVG {\n  _element: SVGElement;\n  _defs: SVGElement;\n  _backgroundClipPath?: SVGElement;\n  _dotsClipPath?: SVGElement;\n  _cornersSquareClipPath?: SVGElement;\n  _cornersDotClipPath?: SVGElement;\n  _options: RequiredOptions;\n  _qr?: QRCode;\n  _image?: HTMLImageElement;\n\n  //TODO don't pass all options to this class\n  constructor(options: RequiredOptions) {\n    this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    this._element.setAttribute(\"width\", String(options.width));\n    this._element.setAttribute(\"height\", String(options.height));\n    this._defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n    this._element.appendChild(this._defs);\n\n    this._options = options;\n  }\n\n  get width(): number {\n    return this._options.width;\n  }\n\n  get height(): number {\n    return this._options.height;\n  }\n\n  getElement(): SVGElement {\n    return this._element;\n  }\n\n  async drawQR(qr: QRCode): Promise<void> {\n    const count = qr.getModuleCount();\n    const minSize = Math.min(this._options.width, this._options.height) - this._options.margin * 2;\n    const realQRSize = this._options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = Math.floor(realQRSize / count);\n    let drawImageSize = {\n      hideXDots: 0,\n      hideYDots: 0,\n      width: 0,\n      height: 0\n    };\n\n    this._qr = qr;\n\n    if (this._options.image) {\n      //We need it to get image size\n      await this.loadImage();\n      if (!this._image) return;\n      const { imageOptions, qrOptions } = this._options;\n      const coverLevel = imageOptions.imageSize * errorCorrectionPercents[qrOptions.errorCorrectionLevel];\n      const maxHiddenDots = Math.floor(coverLevel * count * count);\n\n      drawImageSize = calculateImageSize({\n        originalWidth: this._image.width,\n        originalHeight: this._image.height,\n        maxHiddenDots,\n        maxHiddenAxisDots: count - 14,\n        dotSize\n      });\n    }\n\n    this.drawBackground();\n    this.drawDots((i: number, j: number): boolean => {\n      if (this._options.imageOptions.hideBackgroundDots) {\n        if (\n          i >= (count - drawImageSize.hideXDots) / 2 &&\n          i < (count + drawImageSize.hideXDots) / 2 &&\n          j >= (count - drawImageSize.hideYDots) / 2 &&\n          j < (count + drawImageSize.hideYDots) / 2\n        ) {\n          return false;\n        }\n      }\n\n      if (squareMask[i]?.[j] || squareMask[i - count + 7]?.[j] || squareMask[i]?.[j - count + 7]) {\n        return false;\n      }\n\n      if (dotMask[i]?.[j] || dotMask[i - count + 7]?.[j] || dotMask[i]?.[j - count + 7]) {\n        return false;\n      }\n\n      return true;\n    });\n    this.drawCorners();\n\n    if (this._options.image) {\n      await this.drawImage({ width: drawImageSize.width, height: drawImageSize.height, count, dotSize });\n    }\n  }\n\n  drawBackground(): void {\n    const element = this._element;\n    const options = this._options;\n\n    if (element) {\n      const gradientOptions = options.backgroundOptions?.gradient;\n      const color = options.backgroundOptions?.color;\n\n      if (gradientOptions || color) {\n        this._createColor({\n          options: gradientOptions,\n          color: color,\n          additionalRotation: 0,\n          x: 0,\n          y: 0,\n          height: options.height,\n          width: options.width,\n          name: \"background-color\"\n        });\n      }\n\n      if (options.backgroundOptions?.round) {\n        const size = Math.min(options.width, options.height);\n        const element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._backgroundClipPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        this._backgroundClipPath.setAttribute(\"id\", \"clip-path-background-color\");\n        this._defs.appendChild(this._backgroundClipPath);\n\n        element.setAttribute(\"x\", String((options.width - size) / 2));\n        element.setAttribute(\"y\", String((options.height - size) / 2));\n        element.setAttribute(\"width\", String(size));\n        element.setAttribute(\"height\", String(size));\n        element.setAttribute(\"rx\", String((size / 2) * options.backgroundOptions.round));\n\n        this._backgroundClipPath.appendChild(element);\n      }\n    }\n  }\n\n  drawDots(filter?: FilterFunction): void {\n    if (!this._qr) {\n      throw \"QR code is not defined\";\n    }\n\n    const options = this._options;\n    const count = this._qr.getModuleCount();\n\n    if (count > options.width || count > options.height) {\n      throw \"The canvas is too small.\";\n    }\n\n    const minSize = Math.min(options.width, options.height) - options.margin * 2;\n    const realQRSize = options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = Math.floor(realQRSize / count);\n    const xBeginning = Math.floor((options.width - count * dotSize) / 2);\n    const yBeginning = Math.floor((options.height - count * dotSize) / 2);\n    const dot = new QRDot({ svg: this._element, type: options.dotsOptions.type });\n\n    this._dotsClipPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n    this._dotsClipPath.setAttribute(\"id\", \"clip-path-dot-color\");\n    this._defs.appendChild(this._dotsClipPath);\n\n    this._createColor({\n      options: options.dotsOptions?.gradient,\n      color: options.dotsOptions.color,\n      additionalRotation: 0,\n      x: 0,\n      y: 0,\n      height: options.height,\n      width: options.width,\n      name: \"dot-color\"\n    });\n\n    for (let i = 0; i < count; i++) {\n      for (let j = 0; j < count; j++) {\n        if (filter && !filter(i, j)) {\n          continue;\n        }\n        if (!this._qr?.isDark(i, j)) {\n          continue;\n        }\n\n        dot.draw(\n          xBeginning + i * dotSize,\n          yBeginning + j * dotSize,\n          dotSize,\n          (xOffset: number, yOffset: number): boolean => {\n            if (i + xOffset < 0 || j + yOffset < 0 || i + xOffset >= count || j + yOffset >= count) return false;\n            if (filter && !filter(i + xOffset, j + yOffset)) return false;\n            return !!this._qr && this._qr.isDark(i + xOffset, j + yOffset);\n          }\n        );\n\n        if (dot._element && this._dotsClipPath) {\n          this._dotsClipPath.appendChild(dot._element);\n        }\n      }\n    }\n\n    if (options.shape === shapeTypes.circle) {\n      const additionalDots = Math.floor((minSize / dotSize - count) / 2);\n      const fakeCount = count + additionalDots * 2;\n      const xFakeBeginning = xBeginning - additionalDots * dotSize;\n      const yFakeBeginning = yBeginning - additionalDots * dotSize;\n      const fakeMatrix: number[][] = [];\n      const center = Math.floor(fakeCount / 2);\n\n      for (let i = 0; i < fakeCount; i++) {\n        fakeMatrix[i] = [];\n        for (let j = 0; j < fakeCount; j++) {\n          if (\n            i >= additionalDots - 1 &&\n            i <= fakeCount - additionalDots &&\n            j >= additionalDots - 1 &&\n            j <= fakeCount - additionalDots\n          ) {\n            fakeMatrix[i][j] = 0;\n            continue;\n          }\n\n          if (Math.sqrt((i - center) * (i - center) + (j - center) * (j - center)) > center) {\n            fakeMatrix[i][j] = 0;\n            continue;\n          }\n\n          //Get random dots from QR code to show it outside of QR code\n          fakeMatrix[i][j] = this._qr.isDark(\n            j - 2 * additionalDots < 0 ? j : j >= count ? j - 2 * additionalDots : j - additionalDots,\n            i - 2 * additionalDots < 0 ? i : i >= count ? i - 2 * additionalDots : i - additionalDots\n          )\n            ? 1\n            : 0;\n        }\n      }\n\n      for (let i = 0; i < fakeCount; i++) {\n        for (let j = 0; j < fakeCount; j++) {\n          if (!fakeMatrix[i][j]) continue;\n\n          dot.draw(\n            xFakeBeginning + i * dotSize,\n            yFakeBeginning + j * dotSize,\n            dotSize,\n            (xOffset: number, yOffset: number): boolean => {\n              return !!fakeMatrix[i + xOffset]?.[j + yOffset];\n            }\n          );\n          if (dot._element && this._dotsClipPath) {\n            this._dotsClipPath.appendChild(dot._element);\n          }\n        }\n      }\n    }\n  }\n\n  drawCorners(): void {\n    if (!this._qr) {\n      throw \"QR code is not defined\";\n    }\n\n    const element = this._element;\n    const options = this._options;\n\n    if (!element) {\n      throw \"Element code is not defined\";\n    }\n\n    const count = this._qr.getModuleCount();\n    const minSize = Math.min(options.width, options.height) - options.margin * 2;\n    const realQRSize = options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = Math.floor(realQRSize / count);\n    const cornersSquareSize = dotSize * 7;\n    const cornersDotSize = dotSize * 3;\n    const xBeginning = Math.floor((options.width - count * dotSize) / 2);\n    const yBeginning = Math.floor((options.height - count * dotSize) / 2);\n\n    [\n      [0, 0, 0],\n      [1, 0, Math.PI / 2],\n      [0, 1, -Math.PI / 2]\n    ].forEach(([column, row, rotation]) => {\n      const x = xBeginning + column * dotSize * (count - 7);\n      const y = yBeginning + row * dotSize * (count - 7);\n      let cornersSquareClipPath = this._dotsClipPath;\n      let cornersDotClipPath = this._dotsClipPath;\n\n      if (options.cornersSquareOptions?.gradient || options.cornersSquareOptions?.color) {\n        cornersSquareClipPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        cornersSquareClipPath.setAttribute(\"id\", `clip-path-corners-square-color-${column}-${row}`);\n        this._defs.appendChild(cornersSquareClipPath);\n        this._cornersSquareClipPath = this._cornersDotClipPath = cornersDotClipPath = cornersSquareClipPath;\n\n        this._createColor({\n          options: options.cornersSquareOptions?.gradient,\n          color: options.cornersSquareOptions?.color,\n          additionalRotation: rotation,\n          x,\n          y,\n          height: cornersSquareSize,\n          width: cornersSquareSize,\n          name: `corners-square-color-${column}-${row}`\n        });\n      }\n\n      if (options.cornersSquareOptions?.type) {\n        const cornersSquare = new QRCornerSquare({ svg: this._element, type: options.cornersSquareOptions.type });\n\n        cornersSquare.draw(x, y, cornersSquareSize, rotation);\n\n        if (cornersSquare._element && cornersSquareClipPath) {\n          cornersSquareClipPath.appendChild(cornersSquare._element);\n        }\n      } else {\n        const dot = new QRDot({ svg: this._element, type: options.dotsOptions.type });\n\n        for (let i = 0; i < squareMask.length; i++) {\n          for (let j = 0; j < squareMask[i].length; j++) {\n            if (!squareMask[i]?.[j]) {\n              continue;\n            }\n\n            dot.draw(\n              x + i * dotSize,\n              y + j * dotSize,\n              dotSize,\n              (xOffset: number, yOffset: number): boolean => !!squareMask[i + xOffset]?.[j + yOffset]\n            );\n\n            if (dot._element && cornersSquareClipPath) {\n              cornersSquareClipPath.appendChild(dot._element);\n            }\n          }\n        }\n      }\n\n      if (options.cornersDotOptions?.gradient || options.cornersDotOptions?.color) {\n        cornersDotClipPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        cornersDotClipPath.setAttribute(\"id\", `clip-path-corners-dot-color-${column}-${row}`);\n        this._defs.appendChild(cornersDotClipPath);\n        this._cornersDotClipPath = cornersDotClipPath;\n\n        this._createColor({\n          options: options.cornersDotOptions?.gradient,\n          color: options.cornersDotOptions?.color,\n          additionalRotation: rotation,\n          x: x + dotSize * 2,\n          y: y + dotSize * 2,\n          height: cornersDotSize,\n          width: cornersDotSize,\n          name: `corners-dot-color-${column}-${row}`\n        });\n      }\n\n      if (options.cornersDotOptions?.type) {\n        const cornersDot = new QRCornerDot({ svg: this._element, type: options.cornersDotOptions.type });\n\n        cornersDot.draw(x + dotSize * 2, y + dotSize * 2, cornersDotSize, rotation);\n\n        if (cornersDot._element && cornersDotClipPath) {\n          cornersDotClipPath.appendChild(cornersDot._element);\n        }\n      } else {\n        const dot = new QRDot({ svg: this._element, type: options.dotsOptions.type });\n\n        for (let i = 0; i < dotMask.length; i++) {\n          for (let j = 0; j < dotMask[i].length; j++) {\n            if (!dotMask[i]?.[j]) {\n              continue;\n            }\n\n            dot.draw(\n              x + i * dotSize,\n              y + j * dotSize,\n              dotSize,\n              (xOffset: number, yOffset: number): boolean => !!dotMask[i + xOffset]?.[j + yOffset]\n            );\n\n            if (dot._element && cornersDotClipPath) {\n              cornersDotClipPath.appendChild(dot._element);\n            }\n          }\n        }\n      }\n    });\n  }\n\n  loadImage(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const options = this._options;\n      const image = new Image();\n\n      if (!options.image) {\n        return reject(\"Image is not defined\");\n      }\n\n      if (typeof options.imageOptions.crossOrigin === \"string\") {\n        image.crossOrigin = options.imageOptions.crossOrigin;\n      }\n\n      this._image = image;\n      image.onload = (): void => {\n        resolve();\n      };\n      image.src = options.image;\n    });\n  }\n\n  async drawImage({\n    width,\n    height,\n    count,\n    dotSize\n  }: {\n    width: number;\n    height: number;\n    count: number;\n    dotSize: number;\n  }): Promise<void> {\n    const options = this._options;\n    const xBeginning = Math.floor((options.width - count * dotSize) / 2);\n    const yBeginning = Math.floor((options.height - count * dotSize) / 2);\n    const dx = xBeginning + options.imageOptions.margin + (count * dotSize - width) / 2;\n    const dy = yBeginning + options.imageOptions.margin + (count * dotSize - height) / 2;\n    const dw = width - options.imageOptions.margin * 2;\n    const dh = height - options.imageOptions.margin * 2;\n\n    const image = document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\");\n    image.setAttribute(\"x\", String(dx));\n    image.setAttribute(\"y\", String(dy));\n    image.setAttribute(\"width\", `${dw}px`);\n    image.setAttribute(\"height\", `${dh}px`);\n\n    const imageUrl = await toDataUrl(options.image || \"\");\n\n    image.setAttribute(\"href\", imageUrl || \"\");\n\n    this._element.appendChild(image);\n  }\n\n  _createColor({\n    options,\n    color,\n    additionalRotation,\n    x,\n    y,\n    height,\n    width,\n    name\n  }: {\n    options?: Gradient;\n    color?: string;\n    additionalRotation: number;\n    x: number;\n    y: number;\n    height: number;\n    width: number;\n    name: string;\n  }): void {\n    const size = width > height ? width : height;\n    const rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n    rect.setAttribute(\"x\", String(x));\n    rect.setAttribute(\"y\", String(y));\n    rect.setAttribute(\"height\", String(height));\n    rect.setAttribute(\"width\", String(width));\n    rect.setAttribute(\"clip-path\", `url('#clip-path-${name}')`);\n\n    if (options) {\n      let gradient: SVGElement;\n      if (options.type === gradientTypes.radial) {\n        gradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\");\n        gradient.setAttribute(\"id\", name);\n        gradient.setAttribute(\"gradientUnits\", \"userSpaceOnUse\");\n        gradient.setAttribute(\"fx\", String(x + width / 2));\n        gradient.setAttribute(\"fy\", String(y + height / 2));\n        gradient.setAttribute(\"cx\", String(x + width / 2));\n        gradient.setAttribute(\"cy\", String(y + height / 2));\n        gradient.setAttribute(\"r\", String(size / 2));\n      } else {\n        const rotation = ((options.rotation || 0) + additionalRotation) % (2 * Math.PI);\n        const positiveRotation = (rotation + 2 * Math.PI) % (2 * Math.PI);\n        let x0 = x + width / 2;\n        let y0 = y + height / 2;\n        let x1 = x + width / 2;\n        let y1 = y + height / 2;\n\n        if (\n          (positiveRotation >= 0 && positiveRotation <= 0.25 * Math.PI) ||\n          (positiveRotation > 1.75 * Math.PI && positiveRotation <= 2 * Math.PI)\n        ) {\n          x0 = x0 - width / 2;\n          y0 = y0 - (height / 2) * Math.tan(rotation);\n          x1 = x1 + width / 2;\n          y1 = y1 + (height / 2) * Math.tan(rotation);\n        } else if (positiveRotation > 0.25 * Math.PI && positiveRotation <= 0.75 * Math.PI) {\n          y0 = y0 - height / 2;\n          x0 = x0 - width / 2 / Math.tan(rotation);\n          y1 = y1 + height / 2;\n          x1 = x1 + width / 2 / Math.tan(rotation);\n        } else if (positiveRotation > 0.75 * Math.PI && positiveRotation <= 1.25 * Math.PI) {\n          x0 = x0 + width / 2;\n          y0 = y0 + (height / 2) * Math.tan(rotation);\n          x1 = x1 - width / 2;\n          y1 = y1 - (height / 2) * Math.tan(rotation);\n        } else if (positiveRotation > 1.25 * Math.PI && positiveRotation <= 1.75 * Math.PI) {\n          y0 = y0 + height / 2;\n          x0 = x0 + width / 2 / Math.tan(rotation);\n          y1 = y1 - height / 2;\n          x1 = x1 - width / 2 / Math.tan(rotation);\n        }\n\n        gradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\");\n        gradient.setAttribute(\"id\", name);\n        gradient.setAttribute(\"gradientUnits\", \"userSpaceOnUse\");\n        gradient.setAttribute(\"x1\", String(Math.round(x0)));\n        gradient.setAttribute(\"y1\", String(Math.round(y0)));\n        gradient.setAttribute(\"x2\", String(Math.round(x1)));\n        gradient.setAttribute(\"y2\", String(Math.round(y1)));\n      }\n\n      options.colorStops.forEach(({ offset, color }: { offset: number; color: string }) => {\n        const stop = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n        stop.setAttribute(\"offset\", `${100 * offset}%`);\n        stop.setAttribute(\"stop-color\", color);\n        gradient.appendChild(stop);\n      });\n\n      rect.setAttribute(\"fill\", `url('#${name}')`);\n      this._defs.appendChild(gradient);\n    } else if (color) {\n      rect.setAttribute(\"fill\", color);\n    }\n\n    this._element.appendChild(rect);\n  }\n}\n","interface ImageSizeOptions {\n  originalHeight: number;\n  originalWidth: number;\n  maxHiddenDots: number;\n  maxHiddenAxisDots?: number;\n  dotSize: number;\n}\n\ninterface ImageSizeResult {\n  height: number;\n  width: number;\n  hideYDots: number;\n  hideXDots: number;\n}\n\nexport default function calculateImageSize({\n  originalHeight,\n  originalWidth,\n  maxHiddenDots,\n  maxHiddenAxisDots,\n  dotSize\n}: ImageSizeOptions): ImageSizeResult {\n  const hideDots = { x: 0, y: 0 };\n  const imageSize = { x: 0, y: 0 };\n\n  if (originalHeight <= 0 || originalWidth <= 0 || maxHiddenDots <= 0 || dotSize <= 0) {\n    return {\n      height: 0,\n      width: 0,\n      hideYDots: 0,\n      hideXDots: 0\n    };\n  }\n\n  const k = originalHeight / originalWidth;\n\n  //Getting the maximum possible axis hidden dots\n  hideDots.x = Math.floor(Math.sqrt(maxHiddenDots / k));\n  //The count of hidden dot's can't be less than 1\n  if (hideDots.x <= 0) hideDots.x = 1;\n  //Check the limit of the maximum allowed axis hidden dots\n  if (maxHiddenAxisDots && maxHiddenAxisDots < hideDots.x) hideDots.x = maxHiddenAxisDots;\n  //The count of dots should be odd\n  if (hideDots.x % 2 === 0) hideDots.x--;\n  imageSize.x = hideDots.x * dotSize;\n  //Calculate opposite axis hidden dots based on axis value.\n  //The value will be odd.\n  //We use ceil to prevent dots covering by the image.\n  hideDots.y = 1 + 2 * Math.ceil((hideDots.x * k - 1) / 2);\n  imageSize.y = Math.round(imageSize.x * k);\n  //If the result dots count is bigger than max - then decrease size and calculate again\n  if (hideDots.y * hideDots.x > maxHiddenDots || (maxHiddenAxisDots && maxHiddenAxisDots < hideDots.y)) {\n    if (maxHiddenAxisDots && maxHiddenAxisDots < hideDots.y) {\n      hideDots.y = maxHiddenAxisDots;\n      if (hideDots.y % 2 === 0) hideDots.x--;\n    } else {\n      hideDots.y -= 2;\n    }\n    imageSize.y = hideDots.y * dotSize;\n    hideDots.x = 1 + 2 * Math.ceil((hideDots.y / k - 1) / 2);\n    imageSize.x = Math.round(imageSize.y / k);\n  }\n\n  return {\n    height: imageSize.y,\n    width: imageSize.x,\n    hideYDots: hideDots.y,\n    hideXDots: hideDots.x\n  };\n}\n","import { GradientTypes } from \"../types\";\n\nexport default {\n  radial: \"radial\",\n  linear: \"linear\"\n} as GradientTypes;\n","import { DrawTypes } from \"../types\";\n\nexport default {\n  canvas: \"canvas\",\n  svg: \"svg\"\n} as DrawTypes;\n","import { TypeNumber } from \"../types\";\n\ninterface TypesMap {\n  [key: number]: TypeNumber;\n}\n\nconst qrTypes: TypesMap = {};\n\nfor (let type = 0; type <= 40; type++) {\n  qrTypes[type] = type as TypeNumber;\n}\n\n// 0 types is autodetect\n\n// types = {\n//     0: 0,\n//     1: 1,\n//     ...\n//     40: 40\n// }\n\nexport default qrTypes;\n","import qrTypes from \"../constants/qrTypes\";\nimport drawTypes from \"../constants/drawTypes\";\nimport shapeTypes from \"../constants/shapeTypes\";\nimport errorCorrectionLevels from \"../constants/errorCorrectionLevels\";\nimport { ShapeType, DotType, Options, TypeNumber, ErrorCorrectionLevel, Mode, DrawType, Gradient } from \"../types\";\n\nexport interface RequiredOptions extends Options {\n  type: DrawType;\n  shape: ShapeType;\n  width: number;\n  height: number;\n  margin: number;\n  data: string;\n  qrOptions: {\n    typeNumber: TypeNumber;\n    mode?: Mode;\n    errorCorrectionLevel: ErrorCorrectionLevel;\n  };\n  imageOptions: {\n    hideBackgroundDots: boolean;\n    imageSize: number;\n    crossOrigin?: string;\n    margin: number;\n  };\n  dotsOptions: {\n    type: DotType;\n    color: string;\n    gradient?: Gradient;\n  };\n  backgroundOptions: {\n    round: number;\n    color: string;\n    gradient?: Gradient;\n  };\n}\n\nconst defaultOptions: RequiredOptions = {\n  type: drawTypes.canvas,\n  shape: shapeTypes.square,\n  width: 300,\n  height: 300,\n  data: \"\",\n  margin: 0,\n  qrOptions: {\n    typeNumber: qrTypes[0],\n    mode: undefined,\n    errorCorrectionLevel: errorCorrectionLevels.Q\n  },\n  imageOptions: {\n    hideBackgroundDots: true,\n    imageSize: 0.4,\n    crossOrigin: undefined,\n    margin: 0\n  },\n  dotsOptions: {\n    type: \"square\",\n    color: \"#000\"\n  },\n  backgroundOptions: {\n    round: 0,\n    color: \"#fff\"\n  }\n};\n\nexport default defaultOptions;\n","import { ErrorCorrectionLevel } from \"../types\";\n\ninterface ErrorCorrectionLevels {\n  [key: string]: ErrorCorrectionLevel;\n}\n\nexport default {\n  L: \"L\",\n  M: \"M\",\n  Q: \"Q\",\n  H: \"H\"\n} as ErrorCorrectionLevels;\n","import { RequiredOptions } from \"../core/QROptions\";\nimport { Gradient } from \"../types\";\n\nfunction sanitizeGradient(gradient: Gradient): Gradient {\n  const newGradient = { ...gradient };\n\n  if (!newGradient.colorStops || !newGradient.colorStops.length) {\n    throw \"Field 'colorStops' is required in gradient\";\n  }\n\n  if (newGradient.rotation) {\n    newGradient.rotation = Number(newGradient.rotation);\n  } else {\n    newGradient.rotation = 0;\n  }\n\n  newGradient.colorStops = newGradient.colorStops.map((colorStop: { offset: number; color: string }) => ({\n    ...colorStop,\n    offset: Number(colorStop.offset)\n  }));\n\n  return newGradient;\n}\n\nexport default function sanitizeOptions(options: RequiredOptions): RequiredOptions {\n  const newOptions = { ...options };\n\n  newOptions.width = Number(newOptions.width);\n  newOptions.height = Number(newOptions.height);\n  newOptions.margin = Number(newOptions.margin);\n  newOptions.imageOptions = {\n    ...newOptions.imageOptions,\n    hideBackgroundDots: Boolean(newOptions.imageOptions.hideBackgroundDots),\n    imageSize: Number(newOptions.imageOptions.imageSize),\n    margin: Number(newOptions.imageOptions.margin)\n  };\n\n  if (newOptions.margin > Math.min(newOptions.width, newOptions.height)) {\n    newOptions.margin = Math.min(newOptions.width, newOptions.height);\n  }\n\n  newOptions.dotsOptions = {\n    ...newOptions.dotsOptions\n  };\n  if (newOptions.dotsOptions.gradient) {\n    newOptions.dotsOptions.gradient = sanitizeGradient(newOptions.dotsOptions.gradient);\n  }\n\n  if (newOptions.cornersSquareOptions) {\n    newOptions.cornersSquareOptions = {\n      ...newOptions.cornersSquareOptions\n    };\n    if (newOptions.cornersSquareOptions.gradient) {\n      newOptions.cornersSquareOptions.gradient = sanitizeGradient(newOptions.cornersSquareOptions.gradient);\n    }\n  }\n\n  if (newOptions.cornersDotOptions) {\n    newOptions.cornersDotOptions = {\n      ...newOptions.cornersDotOptions\n    };\n    if (newOptions.cornersDotOptions.gradient) {\n      newOptions.cornersDotOptions.gradient = sanitizeGradient(newOptions.cornersDotOptions.gradient);\n    }\n  }\n\n  if (newOptions.backgroundOptions) {\n    newOptions.backgroundOptions = {\n      ...newOptions.backgroundOptions\n    };\n    if (newOptions.backgroundOptions.gradient) {\n      newOptions.backgroundOptions.gradient = sanitizeGradient(newOptions.backgroundOptions.gradient);\n    }\n  }\n\n  return newOptions;\n}\n","import QRCodeStyling from \"./core/QRCodeStyling\";\nimport dotTypes from \"./constants/dotTypes\";\nimport cornerDotTypes from \"./constants/cornerDotTypes\";\nimport cornerSquareTypes from \"./constants/cornerSquareTypes\";\nimport errorCorrectionLevels from \"./constants/errorCorrectionLevels\";\nimport errorCorrectionPercents from \"./constants/errorCorrectionPercents\";\nimport modes from \"./constants/modes\";\nimport qrTypes from \"./constants/qrTypes\";\nimport drawTypes from \"./constants/drawTypes\";\nimport shapeTypes from \"./constants/shapeTypes\";\nimport gradientTypes from \"./constants/gradientTypes\";\n\nexport * from \"./types\";\n\nexport {\n  dotTypes,\n  cornerDotTypes,\n  cornerSquareTypes,\n  errorCorrectionLevels,\n  errorCorrectionPercents,\n  modes,\n  qrTypes,\n  drawTypes,\n  shapeTypes,\n  gradientTypes\n};\n\nexport default QRCodeStyling;\n","import getMode from \"../tools/getMode\";\nimport mergeDeep from \"../tools/merge\";\nimport downloadURI from \"../tools/downloadURI\";\nimport QRSVG from \"./QRSVG\";\nimport drawTypes from \"../constants/drawTypes\";\n\nimport defaultOptions, { RequiredOptions } from \"./QROptions\";\nimport sanitizeOptions from \"../tools/sanitizeOptions\";\nimport { FileExtension, QRCode, Options, DownloadOptions, ExtensionFunction } from \"../types\";\nimport qrcode from \"qrcode-generator\";\n\nexport default class QRCodeStyling {\n  _options: RequiredOptions;\n  _container?: HTMLElement;\n  _canvas?: HTMLCanvasElement;\n  _svg?: SVGElement;\n  _qr?: QRCode;\n  _extension?: ExtensionFunction;\n  _canvasDrawingPromise?: Promise<void>;\n  _svgDrawingPromise?: Promise<void>;\n\n  constructor(options?: Partial<Options>) {\n    this._options = options ? sanitizeOptions(mergeDeep(defaultOptions, options) as RequiredOptions) : defaultOptions;\n    this.update();\n  }\n\n  static _clearContainer(container?: HTMLElement): void {\n    if (container) {\n      container.innerHTML = \"\";\n    }\n  }\n\n  _setupSvg(): void {\n    if (!this._qr) {\n      return;\n    }\n    const qrSVG = new QRSVG(this._options);\n\n    this._svg = qrSVG.getElement();\n    this._svgDrawingPromise = qrSVG.drawQR(this._qr).then(() => {\n      if (!this._svg) return;\n      this._extension?.(qrSVG.getElement(), this._options);\n    });\n  }\n\n  _setupCanvas(): void {\n    if (!this._qr) {\n      return;\n    }\n\n    this._canvas = document.createElement(\"canvas\");\n    this._canvas.width = this._options.width;\n    this._canvas.height = this._options.height;\n\n    this._setupSvg();\n    this._canvasDrawingPromise = this._svgDrawingPromise?.then(() => {\n      if (!this._svg) return;\n\n      const svg = this._svg;\n      const xml = new XMLSerializer().serializeToString(svg);\n      const svg64 = btoa(xml);\n      const image64 = \"data:image/svg+xml;base64,\" + svg64;\n      const image = new Image();\n\n      return new Promise((resolve) => {\n        image.onload = (): void => {\n          this._canvas?.getContext(\"2d\")?.drawImage(image, 0, 0);\n          resolve();\n        };\n\n        image.src = image64;\n      });\n    });\n  }\n\n  async _getElement(extension: FileExtension = \"png\"): Promise<SVGElement | HTMLCanvasElement | undefined> {\n    if (!this._qr) throw \"QR code is empty\";\n\n    if (extension.toLowerCase() === \"svg\") {\n      if (!this._svg || !this._svgDrawingPromise) {\n        this._setupSvg();\n      }\n      await this._svgDrawingPromise;\n      return this._svg;\n    } else {\n      if (!this._canvas || !this._canvasDrawingPromise) {\n        this._setupCanvas();\n      }\n      await this._canvasDrawingPromise;\n      return this._canvas;\n    }\n  }\n\n  update(options?: Partial<Options>): void {\n    QRCodeStyling._clearContainer(this._container);\n    this._options = options ? sanitizeOptions(mergeDeep(this._options, options) as RequiredOptions) : this._options;\n\n    if (!this._options.data) {\n      return;\n    }\n\n    this._qr = qrcode(this._options.qrOptions.typeNumber, this._options.qrOptions.errorCorrectionLevel);\n    this._qr.addData(this._options.data, this._options.qrOptions.mode || getMode(this._options.data));\n    this._qr.make();\n\n    if (this._options.type === drawTypes.canvas) {\n      this._setupCanvas();\n    } else {\n      this._setupSvg();\n    }\n\n    this.append(this._container);\n  }\n\n  append(container?: HTMLElement): void {\n    if (!container) {\n      return;\n    }\n\n    if (typeof container.appendChild !== \"function\") {\n      throw \"Container should be a single DOM node\";\n    }\n\n    if (this._options.type === drawTypes.canvas) {\n      if (this._canvas) {\n        container.appendChild(this._canvas);\n      }\n    } else {\n      if (this._svg) {\n        container.appendChild(this._svg);\n      }\n    }\n\n    this._container = container;\n  }\n\n  applyExtension(extension: ExtensionFunction): void {\n    if (!extension) {\n      throw \"Extension function should be defined.\";\n    }\n\n    this._extension = extension;\n    this.update();\n  }\n\n  deleteExtension(): void {\n    this._extension = undefined;\n    this.update();\n  }\n\n  async getRawData(extension: FileExtension = \"png\"): Promise<Blob | null> {\n    if (!this._qr) throw \"QR code is empty\";\n    const element = await this._getElement(extension);\n\n    if (!element) {\n      return null;\n    }\n\n    if (extension.toLowerCase() === \"svg\") {\n      const serializer = new XMLSerializer();\n      const source = serializer.serializeToString(element);\n\n      return new Blob(['<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + source], { type: \"image/svg+xml\" });\n    } else {\n      return new Promise((resolve) => (element as HTMLCanvasElement).toBlob(resolve, `image/${extension}`, 1));\n    }\n  }\n\n  async download(downloadOptions?: Partial<DownloadOptions> | string): Promise<void> {\n    if (!this._qr) throw \"QR code is empty\";\n    let extension = \"png\" as FileExtension;\n    let name = \"qr\";\n\n    //TODO remove deprecated code in the v2\n    if (typeof downloadOptions === \"string\") {\n      extension = downloadOptions as FileExtension;\n      console.warn(\n        \"Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument\"\n      );\n    } else if (typeof downloadOptions === \"object\" && downloadOptions !== null) {\n      if (downloadOptions.name) {\n        name = downloadOptions.name;\n      }\n      if (downloadOptions.extension) {\n        extension = downloadOptions.extension;\n      }\n    }\n\n    const element = await this._getElement(extension);\n\n    if (!element) {\n      return;\n    }\n\n    if (extension.toLowerCase() === \"svg\") {\n      const serializer = new XMLSerializer();\n      let source = serializer.serializeToString(element);\n\n      source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + source;\n      const url = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n      downloadURI(url, `${name}.svg`);\n    } else {\n      const url = (element as HTMLCanvasElement).toDataURL(`image/${extension}`);\n      downloadURI(url, `${name}.${extension}`);\n    }\n  }\n}\n","import modes from \"../constants/modes\";\nimport { Mode } from \"../types\";\n\nexport default function getMode(data: string): Mode {\n  switch (true) {\n    case /^[0-9]*$/.test(data):\n      return modes.numeric;\n    case /^[0-9A-Z $%*+\\-./:]*$/.test(data):\n      return modes.alphanumeric;\n    default:\n      return modes.byte;\n  }\n}\n","import { Mode } from \"../types\";\n\ninterface Modes {\n  [key: string]: Mode;\n}\n\nexport default {\n  numeric: \"Numeric\",\n  alphanumeric: \"Alphanumeric\",\n  byte: \"Byte\",\n  kanji: \"Kanji\"\n} as Modes;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(676);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","import{i as e,P as n,r as t,a,d as o,b as l,c as i,e as r,f as d,g as c,h as p,j as s}from\"./index-99510dd5.js\";import m from\"qr-code-styling\";import w from\"@evanhahn/lottie-web-light\";import\"buffer\";import\"@walletconnect/client\";import\"algosdk\";import\"bowser\";function h(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&\"undefined\"!=typeof document){var a=document.head||document.getElementsByTagName(\"head\")[0],o=document.createElement(\"style\");o.type=\"text/css\",\"top\"===t&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var g=\".pera-wallet-modal-header {\\n  position: absolute;\\n  top: -44px;\\n  right: 0px;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n.pera-wallet-modal-header--mobile {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n  position: static;\\n}\\n.pera-wallet-modal-header--mobile .pera-wallet-modal-header__close-button {\\n  width: 24px;\\n  height: 24px;\\n  margin: 0;\\n  padding: 0;\\n  background: transparent;\\n  border: unset;\\n  box-shadow: unset;\\n}\\n\\n.pera-wallet-modal-header__brand {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  line-height: 24px;\\n  letter-spacing: -0.1px;\\n  color: #ffffff;\\n}\\n\\n.pera-wallet-modal-header__brand-text {\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n}\\n\\n.pera-wallet-modal-header__version-number {\\n  color: #9d9dae;\\n  font-size: 12px;\\n  font-weight: 400;\\n  line-height: 18px;\\n  letter-spacing: 0.01;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal-header__close-button {\\n  width: 32px;\\n  height: 32px;\\n  margin: 0;\\n  padding: 0;\\n  background: rgba(44, 53, 89, 0.1);\\n  border-radius: 8px;\\n}\\n\\n.pera-wallet-modal-header__close-button__close-icon {\\n  width: 20px;\\n  height: 20px;\\n}\";h(g);const x=document.createElement(\"template\"),f=e()?\"pera-wallet-modal-header pera-wallet-modal-header--mobile\":\"pera-wallet-modal-header pera-wallet-modal-header--desktop\";x.innerHTML=`\\n  <div class=\"${f}\">\\n      ${e()?\"\":\"<div class=\\\"pera-wallet-modal-header__brand\\\">\\n              <img src=\\\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' rx='4.8' fill='%23FFEE55'/%3e%3cpath d='M13.0408 5.92462C13.413 7.46693 13.2872 8.8236 12.7597 8.95482C12.2322 9.08605 11.5028 7.94214 11.1306 6.39983C10.7583 4.85752 10.8842 3.50085 11.4117 3.36963C11.9391 3.2384 12.6685 4.38231 13.0408 5.92462Z' fill='black'/%3e%3cpath d='M19.1876 7.25063C18.3632 6.37689 16.7231 6.61371 15.5243 7.77959C14.3254 8.94547 14.0219 10.5989 14.8463 11.4727C15.6707 12.3464 17.3108 12.1096 18.5097 10.9437C19.7085 9.77781 20.012 8.12438 19.1876 7.25063Z' fill='black'/%3e%3cpath d='M12.6308 20.6297C13.1583 20.4985 13.2656 19.0651 12.8705 17.4281C12.4754 15.7911 11.7275 14.5705 11.2 14.7017C10.6725 14.8329 10.5652 16.2663 10.9603 17.9033C11.3554 19.5403 12.1033 20.7609 12.6308 20.6297Z' fill='black'/%3e%3cpath d='M7.25371 8.05056C8.77551 8.49933 9.8875 9.28664 9.73741 9.80906C9.58731 10.3315 8.23197 10.3912 6.71016 9.94242C5.18836 9.49364 4.07637 8.70633 4.22646 8.18391C4.37656 7.66149 5.7319 7.60178 7.25371 8.05056Z' fill='black'/%3e%3cpath d='M17.1309 13.9497C18.7461 14.4261 19.9338 15.2357 19.7837 15.7581C19.6336 16.2806 18.2025 16.3179 16.5873 15.8416C14.9721 15.3653 13.7844 14.5556 13.9345 14.0332C14.0846 13.5108 15.5157 13.4734 17.1309 13.9497Z' fill='black'/%3e%3cpath d='M8.96609 12.8536C8.5887 12.4624 7.35088 13.0318 6.20133 14.1253C5.05177 15.2188 4.42581 16.4225 4.80319 16.8137C5.18058 17.2048 6.4184 16.6355 7.56796 15.542C8.71751 14.4484 9.34347 13.2448 8.96609 12.8536Z' fill='black'/%3e%3c/svg%3e\\\" />\\n\\n              <div class=\\\"pera-wallet-modal-header__brand-text\\\">\\n                <span>Pera Connect</span>\\n\\n                <span class=\\\"pera-wallet-modal-header__version-number\\\">v1.4.3 - BETA</span>\\n              </div>\\n            </div>\\n            \"} \\n\\n      <button\\n        id=\"pera-wallet-modal-header-close-button\"\\n        class=\"pera-wallet-button pera-wallet-modal-header__close-button\">\\n        <img\\n          class=\"pera-wallet-modal-header__close-button__close-icon\"\\n          src=\"${e()?\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='%232C3559' stroke-width='2'/%3e%3c/svg%3e\":\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='white' stroke-width='2'/%3e%3c/svg%3e\"}\"\\n        />\\n      </button>\\n    </div>\\n`;class u extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=g,this.shadowRoot.append(x.content.cloneNode(!0),e),this.onClose()}}onClose(){var e;const a=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-modal-header-close-button\"),o=this.getAttribute(\"modal-id\");a&&o===n&&a.addEventListener(\"click\",(()=>{t(n)}))}}var _=\"data:image/svg+xml,%3csvg fill='none' height='80' width='80' xmlns='http://www.w3.org/2000/svg'%3e%3cpath clip-rule='evenodd' d='M39.9 80V68.99h-9.8V80h-.2V68.99h-3.5a6.503 6.503 0 0 1-6.247-4.7 6.514 6.514 0 0 1-4.445-4.444 6.503 6.503 0 0 1-4.695-6.246v-3.5H0v-.2h11.013v-9.8H0v-.2h11.013v-9.8H0v-.2h11.013v-3.5a6.503 6.503 0 0 1 4.694-6.246 6.513 6.513 0 0 1 4.447-4.447 6.503 6.503 0 0 1 6.246-4.696h3.5V0h.2v11.011h9.8V0h.2v11.011h9.8V0h.2v11.011h3.5a6.503 6.503 0 0 1 6.247 4.697 6.514 6.514 0 0 1 4.443 4.444 6.503 6.503 0 0 1 4.701 6.248v3.5H80v.2H68.991v9.8H80v.2H68.991v9.8H80v.2H68.991v3.5a6.503 6.503 0 0 1-4.701 6.248 6.514 6.514 0 0 1-4.443 4.442 6.503 6.503 0 0 1-6.247 4.7h-3.5V80h-.2V68.99h-9.8V80zm28.89-40.1a28.728 28.728 0 0 0-1.746-9.8h-2.5v9.8h4.247zm-4.246.2h4.247a28.729 28.729 0 0 1-1.747 9.8h-2.5zm-.2-.2v-9.8H60.1v9.8zm-4.244.2h4.244v9.8H60.1zm-.2-.2a19.807 19.807 0 0 0-2.633-9.8H50.1v9.8zm-9.8.2h9.8a19.807 19.807 0 0 1-2.633 9.8H50.1zm-.2-.2v-9.8h-9.8v9.8zm-9.8.2h9.8v9.8h-9.8zm-.2-.2v-9.8h-9.8v9.8zm-9.8.2h9.8v9.8h-9.8zm-.2-.2v-9.8h-7.167a19.807 19.807 0 0 0-2.633 9.8zm-9.8.2h9.8v9.8h-7.167a19.807 19.807 0 0 1-2.633-9.8zm-.2-.2v-9.8h-4.245v9.8zm-4.245.2H19.9v9.8h-4.245zm-.2-.2v-9.8H12.96a28.726 28.726 0 0 0-1.748 9.8h4.242zm-4.242.2h4.242v9.8H12.96a28.726 28.726 0 0 1-1.748-9.8zm0 13.5v-3.5h1.608a28.876 28.876 0 0 0 2.634 5.327v2.617c0 .543.066 1.07.192 1.575a6.303 6.303 0 0 1-4.434-6.019zm4.242 1.449a28.674 28.674 0 0 1-2.42-4.949h2.42zm.2.32V50.1H19.9v9.8h-.702a28.915 28.915 0 0 1-3.543-4.53zM20.1 59.9v-9.8h2.518a20.2 20.2 0 0 0 7.282 7.282V59.9zm0-10h2.403a19.966 19.966 0 0 1-2.403-7.053zm9.8 7.25a20 20 0 0 1-7.05-7.05h7.05zm.2.117V50.1h9.8v9.8a19.807 19.807 0 0 1-9.8-2.633zm10 2.633v-9.8h9.8v7.167a19.807 19.807 0 0 1-9.8 2.633zm10-2.75V50.1h7.05a20 20 0 0 1-7.05 7.05zm0 .232a20.2 20.2 0 0 0 7.282-7.282H59.9v9.8h-9.8zm7.397-7.482H59.9v-7.053a19.966 19.966 0 0 1-2.403 7.053zm2.603 10v-9.8h4.244v5.28a28.91 28.91 0 0 1-3.538 4.52zm4.444-4.841V50.1h2.426a28.67 28.67 0 0 1-2.426 4.959zm0 .378a28.881 28.881 0 0 0 2.64-5.337h1.607v3.5a6.303 6.303 0 0 1-4.44 6.021 6.514 6.514 0 0 0 .193-1.577zm2.713-5.537h1.534v-6.477a28.817 28.817 0 0 1-1.534 6.477zm-56.044 0h1.535a28.807 28.807 0 0 1-1.535-6.477zm57.578-20v-3.5a6.303 6.303 0 0 0-4.44-6.02c.126.504.193 1.031.193 1.575v2.608a28.877 28.877 0 0 1 2.639 5.337zm-1.534.2h1.534v6.477a28.815 28.815 0 0 0-1.534-6.477zm-.288-.2a28.673 28.673 0 0 0-2.425-4.958V29.9zm-2.625 0v-5.279a28.911 28.911 0 0 0-3.538-4.521H60.1v9.8zm-4.444 0v-9.8h-9.8v2.518a20.2 20.2 0 0 1 7.282 7.282zm-2.403.2H59.9v7.053a19.966 19.966 0 0 0-2.403-7.053zm-.347-.2a20 20 0 0 0-7.05-7.05v7.05zm-7.25 0v-7.167a19.807 19.807 0 0 0-9.8-2.633v9.8zm-10 0v-9.8a19.807 19.807 0 0 0-9.8 2.633V29.9zm-10 0v-7.05a20 20 0 0 0-7.05 7.05zm-7.282 0a20.2 20.2 0 0 1 7.282-7.282V20.1h-9.8v9.8zm-2.518.2h2.403a19.966 19.966 0 0 0-2.403 7.053zm-.2-.2v-9.8h-.701a28.915 28.915 0 0 0-3.544 4.53v5.27zm-4.445 0v-4.948a28.665 28.665 0 0 0-2.42 4.948zm-2.634 0a28.874 28.874 0 0 1 2.634-5.327v-2.618c0-.543.066-1.07.191-1.574a6.303 6.303 0 0 0-4.433 6.019v3.5zm-1.608.2h1.535a28.81 28.81 0 0 0-1.535 6.477zM36.58 68.79H30.1v-1.536c2.06.749 4.23 1.27 6.479 1.535zm3.321-.001a28.726 28.726 0 0 1-9.8-1.748v-2.497h9.8zm-10-1.822v-2.423h-4.953a28.678 28.678 0 0 0 4.953 2.423zm10-2.623h-9.8V60.1h9.8zm-10 0V60.1h-9.8v.702a28.915 28.915 0 0 0 4.526 3.542H29.9zm7.254-4.444H30.1v-2.403a19.966 19.966 0 0 0 7.053 2.403zm0-39.8a19.966 19.966 0 0 0-7.054 2.403V20.1h7.053zm2.746-.2h-9.8v-4.245h9.8zm-10 0v-4.245h-5.27a28.907 28.907 0 0 0-4.53 3.544v.701zm10-4.445h-9.8V12.96a28.729 28.729 0 0 1 9.8-1.749zm-10 0v-2.421a28.668 28.668 0 0 0-4.95 2.42h4.95zm6.679-4.244a28.81 28.81 0 0 0-6.479 1.536V11.21h6.479zm-6.679 1.61v-1.61h-3.5a6.303 6.303 0 0 0-6.02 4.436 6.514 6.514 0 0 1 1.575-.192h2.617A28.877 28.877 0 0 1 29.9 12.82zm0 55.968V67.18a28.878 28.878 0 0 1-5.331-2.636h-2.614c-.543 0-1.07-.067-1.575-.192a6.303 6.303 0 0 0 6.02 4.437zm20.2 0h3.5a6.303 6.303 0 0 0 6.02-4.438 6.513 6.513 0 0 1-1.576.193h-2.608a28.879 28.879 0 0 1-5.336 2.638zm-.2-1.534v1.534h-6.475a28.808 28.808 0 0 0 6.475-1.534zm.2-.287a28.671 28.671 0 0 0 4.957-2.424H50.1v2.424zm-.2-2.424v2.499a28.728 28.728 0 0 1-9.8 1.746v-4.245zm.2-.2h5.278a28.914 28.914 0 0 0 4.522-3.538V60.1h-9.8zm-.2-4.244v4.244h-9.8V60.1zm0-2.603V59.9h-7.053a19.966 19.966 0 0 0 7.053-2.403zm0-37.397v2.403a19.966 19.966 0 0 0-7.053-2.403H49.9zm.2-.2h9.8v-.705a28.911 28.911 0 0 0-4.526-3.54H50.1V19.9zm-.2-4.245V19.9h-9.8v-4.245h9.8zm.2-.2h4.954a28.676 28.676 0 0 0-4.954-2.423zm-.2-2.497v2.497h-9.8V11.21a28.75 28.75 0 0 1 9.8 1.747zm.2-.14a28.877 28.877 0 0 1 5.332 2.637h2.612c.543 0 1.071.066 1.576.192a6.303 6.303 0 0 0-6.02-4.436h-3.5zm-.2-1.607v1.534a28.812 28.812 0 0 0-6.475-1.534H49.9zm-34.245 44.53v2.303c0 .567.075 1.117.215 1.64a6.309 6.309 0 0 0 1.643.216h1.41a29.118 29.118 0 0 1-3.268-4.16zm3.458 4.359h-1.6a6.513 6.513 0 0 1-1.578-.193 6.315 6.315 0 0 0 4.157 4.157 6.517 6.517 0 0 1-.192-1.575v-1.602a29.35 29.35 0 0 1-.787-.787zm.787.509a29.029 29.029 0 0 1-.508-.509h.508zm.2.469v1.411c0 .567.075 1.117.215 1.64.523.14 1.073.215 1.64.215h2.3a29.118 29.118 0 0 1-4.155-3.266zm35.649 3.266h2.295c.567 0 1.117-.075 1.64-.216a6.286 6.286 0 0 0 .216-1.639v-1.407a29.116 29.116 0 0 1-4.151 3.262zm4.35-3.454v1.598a6.53 6.53 0 0 1-.192 1.574 6.314 6.314 0 0 0 4.155-4.154 6.509 6.509 0 0 1-1.572.191h-1.6a29.08 29.08 0 0 1-.791.791zm.982-.991h1.41c.565 0 1.114-.075 1.636-.215a6.31 6.31 0 0 0 .216-1.641V55.75a29.113 29.113 0 0 1-3.262 4.15zm3.262-35.65v-2.295c0-.568-.075-1.117-.216-1.64a6.307 6.307 0 0 0-1.637-.215h-1.41a29.112 29.112 0 0 1 3.263 4.15zM60.89 19.9h1.6c.542 0 1.069.066 1.573.192a6.314 6.314 0 0 0-4.156-4.157 6.51 6.51 0 0 1 .192 1.576v1.598c.269.259.532.522.79.791zm-.991-.981V17.51a6.31 6.31 0 0 0-.216-1.64 6.308 6.308 0 0 0-1.64-.216h-2.299a29.108 29.108 0 0 1 4.155 3.264zm-35.641-3.264h-2.304a6.31 6.31 0 0 0-1.639.215 6.306 6.306 0 0 0-.216 1.641v1.412a29.115 29.115 0 0 1 4.159-3.268zM19.9 19.113v-1.602c0-.543.067-1.072.193-1.577a6.315 6.315 0 0 0-4.159 4.16 6.518 6.518 0 0 1 1.58-.194h1.6c.257-.267.519-.53.786-.787zm-.508.787h.508v-.508c-.171.167-.34.337-.508.508zm-.47.2h-1.409a6.31 6.31 0 0 0-1.643.216 6.308 6.308 0 0 0-.215 1.639v2.305a29.107 29.107 0 0 1 3.268-4.16zm41.178-.712c.173.168.344.34.512.512H60.1zm.513 40.712c-.169.173-.34.344-.513.513V60.1z' fill='%2394a3b8' fill-rule='evenodd'/%3e%3crect fill='black' height='80' rx='16' width='80'/%3e%3cpath d='M43.47 19.752c1.24 5.14.821 9.663-.937 10.1-1.758.438-4.19-3.375-5.43-8.517-1.241-5.14-.822-9.663.936-10.1 1.759-.438 4.19 3.376 5.43 8.517zm20.49 4.42c-2.749-2.913-8.216-2.123-12.212 1.763s-5.008 9.398-2.26 12.31 8.215 2.123 12.211-1.763 5.008-9.398 2.26-12.31zM42.102 68.769c1.758-.438 2.116-5.216.8-10.673-1.318-5.456-3.81-9.525-5.57-9.088-1.757.438-2.115 5.216-.798 10.672 1.317 5.457 3.81 9.526 5.568 9.089zM24.18 26.838c5.073 1.496 8.78 4.12 8.28 5.862-.5 1.741-5.019 1.94-10.091.444-5.073-1.496-8.78-4.12-8.28-5.861.501-1.742 5.019-1.941 10.092-.445zm32.924 19.664c5.384 1.588 9.343 4.286 8.843 6.028-.5 1.741-5.27 1.866-10.654.278-5.385-1.588-9.343-4.286-8.843-6.028.5-1.741 5.27-1.866 10.654-.278zm-27.216-3.654c-1.258-1.304-5.384.594-9.215 4.24-3.832 3.644-5.919 7.656-4.66 8.96 1.257 1.304 5.383-.594 9.215-4.239s5.918-7.657 4.66-8.96z' fill='%23fe5'/%3e%3c/svg%3e\",b=\".pera-wallet-download-qr-code-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: fit-content;\\n  margin: 26px auto 0;\\n  padding: 10px;\\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\\n  border-radius: 24px;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-download-qr-code-wrapper {\\n    margin-top: 51px;\\n  }\\n}\";h(b);const v=document.createElement(\"template\");v.innerHTML='\\n  <div id=\"pera-wallet-download-qr-code-wrapper\" class=\"pera-wallet-download-qr-code-wrapper\"></div>  \\n';class C extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=b,this.shadowRoot.append(v.content.cloneNode(!0),e)}}connectedCallback(){var e;const n=new m({width:205,height:205,type:\"svg\",data:a,image:_,dotsOptions:{color:\"#000\",type:\"extra-rounded\"},imageOptions:{crossOrigin:\"anonymous\",margin:10},cornersSquareOptions:{type:\"extra-rounded\"},cornersDotOptions:{type:\"dot\"}}),t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-download-qr-code-wrapper\");t&&n.append(t)}}var k=\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M8.5 19L15.5 12L8.5 5' stroke='%233C3C49' stroke-width='2'/%3e%3c/svg%3e\",y=\".pera-wallet-connect-modal-desktop-mode {\\n  display: grid;\\n  grid-template-columns: 205px auto;\\n  gap: 70px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view {\\n  display: block;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\\n  height: 364px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item--web-wallet {\\n  display: none;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-toggle {\\n  padding: 26px 24px 12px;\\n  border-radius: 24px 24px 0 0;\\n  transition: all ease-in 0.2s;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-item__content {\\n  height: 434px;\\n  border-radius: 0 0 24px 24px;\\n  transition: height ease-in 0.2s;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-icon {\\n  transform: rotate(90deg);\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-connect-modal-desktop-mode__download-pera-description {\\n  margin-top: 50px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__download-view {\\n  display: none;\\n}\\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__default-view {\\n  display: none;\\n}\\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__download-view {\\n  display: block;\\n}\\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__download-view .pera-wallet-connect-modal-download-pera-view__footer a {\\n  display: flex;\\n  cursor: pointer;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact {\\n  grid-template-columns: unset;\\n  gap: unset;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet {\\n  padding: 28px 40px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {\\n  box-shadow: unset;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__description {\\n  margin-bottom: 16px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button {\\n  width: 172px;\\n  height: 40px;\\n  margin: 0 auto;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\\n  height: 100%;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view {\\n  overflow: hidden;\\n  border-radius: 24px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item {\\n  margin-bottom: 0;\\n  border-radius: 0;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item:not(:last-child) {\\n  border-bottom: 1px solid #e6e8ee;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item #pera-wallet-iframe {\\n  height: 100%;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle {\\n  padding: 20px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__text, .pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__content-with-label__text {\\n  color: #626268;\\n  font-size: 14px;\\n  font-weight: 500;\\n  line-height: 24px;\\n  letter-spacing: -0.09px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__bold-color {\\n  font-weight: 600;\\n  color: #1a1a1a;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\\n  height: 265px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-container {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 14px;\\n  padding: 0 20px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-description,\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-button {\\n  margin: 0;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-button {\\n  font-weight: 500;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-qr-code-wrapper {\\n  margin: 4px auto 0;\\n  padding: 0;\\n  box-shadow: unset;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-qr-code-wrapper svg {\\n  padding: 8px;\\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\\n  border-radius: 12px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account {\\n  width: 100%;\\n  height: 100%;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account.pera-wallet-connect-modal-desktop-mode--default {\\n  overflow: hidden;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account .pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\\n  position: unset;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account .pera-wallet-accordion {\\n  overflow: hidden;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account #pera-wallet-iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 3;\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 16px;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__accordion__description,\\n.pera-wallet-connect-modal-desktop-mode__connect-button-wrapper {\\n  padding: 0 40px 20px 64px;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: calc(100% - 88px);\\n  padding: 48px 52px 40px;\\n  margin: 0 auto;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 72px;\\n  height: 72px;\\n  margin: 0 auto 16px;\\n  background: #ffffff;\\n  border-radius: 50%;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.1), 0px 10px 16px rgba(20, 37, 63, 0.06);\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet__description {\\n  margin: 0 auto 32px;\\n  font-size: 14px;\\n  line-height: 24px;\\n  letter-spacing: -0.1px;\\n  text-align: center;\\n  color: #6a6a81;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n  width: 100%;\\n  padding: 14px 0;\\n  color: #ffffff;\\n  background-color: #6b46fe;\\n  border-radius: 12px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  line-height: 20px;\\n  letter-spacing: -0.1;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\\n  position: relative;\\n  width: fit-content;\\n  margin: 0 auto;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__connect-button {\\n  display: block;\\n  width: 100%;\\n  height: 48px;\\n  border: unset;\\n  border-radius: 6px;\\n  background-color: #333333;\\n  color: white;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 13px;\\n}\\n\\n.pera-wallet-connect-qr-code-wrapper {\\n  width: fit-content;\\n  margin: 24px auto 0;\\n  padding: 10px;\\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\\n  border-radius: 24px;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__download-pera-description {\\n  color: #838aa6;\\n  text-align: center;\\n  margin: 32px 0 12px;\\n  font-size: 13px;\\n  font-weight: 500;\\n  line-height: 20px;\\n  letter-spacing: -0.04px;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__download-pera-button {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  margin: 0 auto;\\n  padding: 0;\\n  color: #6b46fe;\\n  background-color: transparent;\\n  outline: none;\\n  border: none;\\n  font-weight: 600;\\n  font-size: 13px;\\n  line-height: 20px;\\n  letter-spacing: 0.01px;\\n  cursor: pointer;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view__back-button {\\n  display: flex;\\n  align-items: center;\\n  gap: 16px;\\n  margin-bottom: 14px;\\n  padding: 12px 24px;\\n  color: #3c3c49;\\n  background-color: #ffffff;\\n  outline: none;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  border: unset;\\n  border-radius: 24px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  line-height: 24px;\\n  letter-spacing: -0.1px;\\n  cursor: pointer;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view {\\n  padding: 32px 37px 28px;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  border-radius: 24px;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view__title {\\n  margin-bottom: 8px;\\n  color: #3c3c49;\\n  font-weight: 600;\\n  font-size: 15px;\\n  line-height: 18px;\\n  text-align: center;\\n  letter-spacing: -0.13px;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view__footer {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 12px;\\n  margin-top: 53px;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view__footer__button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n  padding: 8px 16px;\\n  color: #6a6a81;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  text-decoration: none;\\n  border-radius: 12px;\\n  font-weight: 500;\\n  font-size: 13px;\\n  line-height: 200%;\\n  letter-spacing: -0.04px;\\n  cursor: pointer;\\n}\\n\\n#pera-wallet-iframe {\\n  width: 285px;\\n  height: 376px;\\n  margin: 0 auto;\\n  border: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-connect-modal-desktop-mode {\\n    grid-template-columns: 1fr;\\n    gap: 24px;\\n  }\\n  .pera-wallet-connect-qr-code-wrapper {\\n    margin-top: 16px;\\n  }\\n  .pera-wallet-connect-modal-download-pera-view {\\n    padding: 24px;\\n  }\\n  .pera-wallet-download-qr-code-wrapper {\\n    margin-top: 32px;\\n  }\\n  .pera-wallet-connect-modal-download-pera-view__footer {\\n    margin-top: 40px;\\n  }\\n}\";h(y);var L=\".pera-wallet-accordion-item {\\n  background-color: #ffffff;\\n  border-radius: 24px;\\n  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.02), 0px 4px 12px rgba(0, 0, 0, 0.03);\\n}\\n.pera-wallet-accordion-item:not(:last-of-type) {\\n  margin-bottom: 20px;\\n}\\n.pera-wallet-accordion-item:not(:last-of-type) .pera-wallet-accordion-panel {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.pera-wallet-accordion-item .pera-wallet-accordion-item__content {\\n  height: 0;\\n  overflow: hidden;\\n  color: #69708d;\\n  background-color: #ffffff;\\n  font-size: 13px;\\n  font-weight: 500;\\n  line-height: 20px;\\n  letter-spacing: -0.04px;\\n  transition: height ease-in 0.2s;\\n}\\n.pera-wallet-accordion-item--active .pera-wallet-accordion-toggle {\\n  padding: 26px 24px 12px;\\n  border-radius: 24px 24px 0 0;\\n  transition: all ease-in 0.2s;\\n}\\n.pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\\n  border-radius: 0 0 24px 24px;\\n  transition: height ease-in 0.2s;\\n}\\n.pera-wallet-accordion-item--active .pera-wallet-accordion-icon {\\n  transform: rotate(90deg);\\n}\\n\\n.pera-wallet-accordion-toggle {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  gap: 16px;\\n  padding: 12px 24px;\\n  color: #2c3559;\\n  background-color: #ffffff;\\n  border: none;\\n  border-radius: 24px;\\n  outline: none;\\n  cursor: pointer;\\n  font-size: 16px;\\n  line-height: 18px;\\n  letter-spacing: -0.1px;\\n  font-weight: 600;\\n  transition: all ease-in 0.2s;\\n}\\n.pera-wallet-accordion-toggle__text, .pera-wallet-accordion-toggle__content-with-label__text {\\n  color: #626268;\\n}\\n\\n.pera-wallet-accordion-icon {\\n  transition: all ease-in 0.2s;\\n}\\n\\n.pera-wallet-accordion-toggle__bold-color {\\n  color: #1A1A1A;\\n  font-weight: 600;\\n}\\n\\n.pera-wallet-accordion-toggle__content-with-label {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n}\\n\\n.pera-wallet-accordion-toggle__label {\\n  padding: 4px 9px;\\n  color: #1C786C;\\n  background: #E0FAEE;\\n  border-radius: 12px;\\n  font-size: 11px;\\n  font-weight: 600;\\n  line-height: 18px;\\n  letter-spacing: 0.01px;\\n}\\n\\n.pera-wallet-accordion-toggle__button {\\n  position: absolute;\\n  z-index: 2;\\n  width: 100%;\\n  height: 100%;\\n  background: transparent;\\n  box-shadow: none;\\n  outline: none;\\n  border: none;\\n  cursor: pointer;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-accordion-toggle {\\n    font-size: 14px;\\n    font-weight: 500;\\n    line-height: 24px;\\n    letter-spacing: -0.1px;\\n  }\\n}\";h(L);const M=document.createElement(\"template\"),z=document.createElement(\"style\"),E=document.createElement(\"style\");z.textContent=y,E.textContent=L;M.innerHTML=\"\\n  <div id=\\\"pera-wallet-connect-modal-desktop-mode\\\" class=\\\"pera-wallet-connect-modal-desktop-mode pera-wallet-connect-modal-desktop-mode--default\\\">\\n      <pera-wallet-connect-modal-information-section></pera-wallet-connect-modal-information-section>\\n\\n      <div class=\\\"pera-wallet-connect-modal-desktop-mode__default-view\\\"></div>\\n       \\n\\n      <div class=\\\"pera-wallet-connect-modal-desktop-mode__download-view\\\">\\n        <button\\n          id=\\\"pera-wallet-connect-modal-download-pera-view-back-button\\\"\\n          class=\\\"pera-wallet-connect-modal-download-pera-view__back-button\\\">\\n          <img\\n            src=\\\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.7071 6.29387C11.0976 6.68439 11.0976 7.31756 10.7071 7.70808L7.41421 11.001L19 11.001C19.5523 11.001 20 11.4487 20 12.001C20 12.5533 19.5523 13.001 19 13.001L7.41421 13.001L10.7071 16.2939C11.0976 16.6844 11.0976 17.3176 10.7071 17.7081C10.3166 18.0986 9.68342 18.0986 9.29289 17.7081L4.29289 12.7081C4.10536 12.5205 4 12.2662 4 12.001C4 11.7358 4.10536 11.4814 4.29289 11.2939L9.29289 6.29387C9.68342 5.90335 10.3166 5.90335 10.7071 6.29387Z' fill='%233C3C49'/%3e%3c/svg%3e\\\"\\n            alt=\\\"Back Arrow\\\"\\n          />\\n\\n          Back\\n        </button>\\n\\n        <div class=\\\"pera-wallet-connect-modal-download-pera-view\\\">\\n          <h1 class=\\\"pera-wallet-connect-modal-download-pera-view__title\\\">\\n            Download Pera Wallet\\n          </h1>\\n\\n          <pera-wallet-download-qr-code></pera-wallet-download-qr-code>\\n\\n          <div class=\\\"pera-wallet-connect-modal-download-pera-view__footer\\\">\\n            <a\\n              href=\\\"https://apps.apple.com/us/app/algorand-wallet/id1459898525\\\"\\n              target=\\\"_blank\\\"\\n              rel=\\\"noopener noreferrer\\\">\\n              <img src=\\\"data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M25.6308 20.3011C25.6416 19.4664 25.8633 18.6481 26.2753 17.9221C26.6873 17.1962 27.2763 16.5863 27.9873 16.1491C27.5356 15.5039 26.9397 14.973 26.2469 14.5984C25.554 14.2239 24.7834 14.016 23.9963 13.9914C22.317 13.8151 20.6891 14.9962 19.8333 14.9962C18.9611 14.9962 17.6436 14.0089 16.2249 14.0381C15.3072 14.0677 14.4128 14.3346 13.6289 14.8126C12.8451 15.2906 12.1984 15.9636 11.7519 16.7659C9.81789 20.1144 11.2605 25.0354 13.1132 27.742C14.0401 29.0674 15.1233 30.5478 16.5408 30.4953C17.9278 30.4378 18.4458 29.6108 20.1202 29.6108C21.779 29.6108 22.265 30.4953 23.7112 30.4619C25.1995 30.4378 26.1372 29.1307 27.0316 27.7928C27.6976 26.8484 28.2101 25.8047 28.55 24.7003C27.6853 24.3345 26.9474 23.7224 26.4283 22.9401C25.9092 22.1578 25.6318 21.2399 25.6308 20.3011ZM22.8993 12.2113C23.7108 11.2371 24.1106 9.98492 24.0138 8.7207C22.7739 8.85092 21.6287 9.44347 20.8062 10.3803C20.404 10.838 20.096 11.3704 19.8998 11.9472C19.7035 12.5239 19.6229 13.1337 19.6625 13.7417C20.2826 13.7481 20.8961 13.6137 21.4568 13.3486C22.0175 13.0835 22.5107 12.6946 22.8993 12.2113Z' fill='white'/%3e%3c/svg%3e\\\" alt=\\\"App Store icon\\\" />\\n            </a>\\n\\n            <a\\n              href=\\\"https://play.google.com/store/apps/details?id=com.algorand.android\\\"\\n              target=\\\"_blank\\\"\\n              rel=\\\"noopener noreferrer\\\">\\n              <img src=\\\"data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M12.41 9.7719C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922V10.8671V29.1294V29.0091C11.9683 29.5202 12.1099 29.9149 12.3497 30.169L12.4109 30.2277V30.228C12.6051 30.4035 12.854 30.4966 13.1393 30.4963C13.418 30.4963 13.7316 30.4073 14.0626 30.2194L26.0264 23.4107L30.1359 21.0717C30.6578 20.7748 30.9508 20.3917 30.9998 20.0014V19.9998C30.9508 19.6087 30.6578 19.2259 30.1359 18.9289L26.0261 16.5902L14.0627 9.78154C13.731 9.59325 13.4171 9.50391 13.1376 9.50391C12.8527 9.50391 12.6041 9.59677 12.41 9.7719H12.41Z' fill='%2300C1FF'/%3e%3cpath d='M12.411 30.2285L12.3497 30.1698C12.1099 29.9157 11.9683 29.5209 11.9683 29.0098V29.1301V10.8724V10.993C11.9683 10.4396 12.1334 10.0226 12.41 9.77268L22.622 20.0009L12.411 30.2285Z' fill='url(%23paint0_linear_173_14441)'/%3e%3cpath d='M26.0256 23.4102L22.6211 19.9996L26.0253 16.5896L30.1351 18.9283C30.657 19.2253 30.95 19.6081 30.9989 19.9993V20.0008C30.95 20.3911 30.657 20.7742 30.1351 21.0712L26.0256 23.4101' fill='url(%23paint1_linear_173_14441)'/%3e%3cpath d='M13.1374 30.4961C12.8522 30.4964 12.6033 30.4032 12.4092 30.2277V30.2275L22.6202 19.9999L26.0246 23.4104L14.0608 30.2191C13.7298 30.4071 13.4162 30.4961 13.1374 30.4961Z' fill='url(%23paint2_linear_173_14441)'/%3e%3cpath d='M22.6212 20.002L12.4092 9.7737C12.6033 9.59858 12.8519 9.50571 13.1368 9.50571C13.4163 9.50571 13.7302 9.59501 14.0618 9.78335L26.0253 16.592L22.6212 20.002' fill='url(%23paint3_linear_173_14441)'/%3e%3cpath d='M13.1394 30.6172C12.8542 30.6172 12.6049 30.524 12.4108 30.3486L12.4105 30.3489C12.4097 30.3481 12.4088 30.3473 12.4079 30.3466L12.3548 30.2947C12.3531 30.2931 12.3516 30.2912 12.3496 30.2893L12.4108 30.2279C12.6049 30.4034 12.8538 30.4966 13.1392 30.4962C13.4179 30.4962 13.7315 30.4073 14.0625 30.2193L26.0263 23.4106L26.1029 23.4874L26.0253 23.5316L14.0625 30.3398C13.7608 30.5111 13.4739 30.6004 13.2147 30.6153C13.1896 30.6165 13.1645 30.6171 13.1394 30.6172' fill='url(%23paint4_linear_173_14441)'/%3e%3cpath d='M12.3497 30.2891C12.1099 30.0349 11.9683 29.6406 11.9683 29.1292V29.0089C11.9683 29.52 12.1099 29.9146 12.3497 30.1688L12.4109 30.2275L12.3497 30.2891Z' fill='url(%23paint5_linear_173_14441)'/%3e%3cpath d='M26.1025 23.4882L26.0259 23.4114L30.1349 21.0727C30.6568 20.7758 30.9498 20.3927 30.9987 20.0025C30.9987 20.1457 30.9668 20.2889 30.9035 20.4282C30.7756 20.7091 30.5194 20.9744 30.135 21.1934L26.1025 23.4883' fill='url(%23paint6_linear_173_14441)'/%3e%3cpath d='M30.9991 20C30.9501 19.6089 30.6571 19.2261 30.1353 18.9291L26.0259 16.5907L26.1025 16.5139H26.1029L30.1353 18.8088C30.7106 19.1365 30.9987 19.5682 30.9991 20Z' fill='url(%23paint7_linear_173_14441)'/%3e%3cpath d='M11.9683 10.9922V10.8661C11.9683 10.8206 11.9695 10.7761 11.9718 10.7329V10.7309C11.9718 10.7303 11.9718 10.7297 11.972 10.729V10.7242C11.9969 10.284 12.1334 9.94066 12.3497 9.71139L12.4099 9.77198C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922Z' fill='url(%23paint8_linear_173_14441)'/%3e%3cpath d='M26.026 16.5898L14.0625 9.78115C13.7308 9.59285 13.417 9.50355 13.1375 9.50355C12.8525 9.50355 12.6039 9.59642 12.4099 9.77154L12.3496 9.71091C12.3684 9.69096 12.388 9.67172 12.4082 9.65322C12.4089 9.65255 12.4099 9.65188 12.4105 9.65125C12.6031 9.47747 12.849 9.3846 13.1314 9.38293H13.1375C13.417 9.38293 13.7308 9.47227 14.0625 9.66064L26.1029 16.5128L26.1026 16.513L26.026 16.5898Z' fill='url(%23paint9_linear_173_14441)'/%3e%3cdefs%3e%3clinearGradient id='paint0_linear_173_14441' x1='18.4943' y1='10.6794' x2='9.69389' y2='19.494' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2300A0FF'/%3e%3cstop offset='0.00657' stop-color='%2300A1FF'/%3e%3cstop offset='0.2601' stop-color='%2300BEFF'/%3e%3cstop offset='0.5122' stop-color='%2300D2FF'/%3e%3cstop offset='0.7604' stop-color='%2300DFFF'/%3e%3cstop offset='1' stop-color='%2300E3FF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear_173_14441' x1='31.6348' y1='19.9407' x2='11.691' y2='19.9407' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE000'/%3e%3cstop offset='0.4087' stop-color='%23FFBD00'/%3e%3cstop offset='0.7754' stop-color='orange'/%3e%3cstop offset='1' stop-color='%23FF9C00'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear_173_14441' x1='24.2172' y1='23.2425' x2='9.30414' y2='38.0705' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FF3A44'/%3e%3cstop offset='1' stop-color='%23C31162'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear_173_14441' x1='9.77725' y1='8.25731' x2='16.4237' y2='14.876' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2332A071'/%3e%3cstop offset='0.0685' stop-color='%232DA771'/%3e%3cstop offset='0.4762' stop-color='%2315CF74'/%3e%3cstop offset='0.8009' stop-color='%2306E775'/%3e%3cstop offset='1' stop-color='%2300F076'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear_173_14441' x1='24.2114' y1='25.6084' x2='12.2683' y2='37.5709' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23CC2E36'/%3e%3cstop offset='1' stop-color='%239C0E4E'/%3e%3c/linearGradient%3e%3clinearGradient id='paint5_linear_173_14441' x1='13.3285' y1='10.6804' x2='5.57625' y2='18.4453' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23008DE0'/%3e%3cstop offset='0.00657' stop-color='%23008DE0'/%3e%3cstop offset='0.2601' stop-color='%2300A7E0'/%3e%3cstop offset='0.5122' stop-color='%2300B8E0'/%3e%3cstop offset='0.7604' stop-color='%2300C4E0'/%3e%3cstop offset='1' stop-color='%2300C7E0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint6_linear_173_14441' x1='31.6346' y1='20.0018' x2='11.6929' y2='20.0018' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23E0C500'/%3e%3cstop offset='0.4087' stop-color='%23E0A600'/%3e%3cstop offset='0.7754' stop-color='%23E09100'/%3e%3cstop offset='1' stop-color='%23E08900'/%3e%3c/linearGradient%3e%3clinearGradient id='paint7_linear_173_14441' x1='31.6349' y1='20.0008' x2='11.6933' y2='20.0008' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE840'/%3e%3cstop offset='0.4087' stop-color='%23FFCE40'/%3e%3cstop offset='0.7754' stop-color='%23FFBC40'/%3e%3cstop offset='1' stop-color='%23FFB540'/%3e%3c/linearGradient%3e%3clinearGradient id='paint8_linear_173_14441' x1='13.3201' y1='10.6927' x2='5.8533' y2='17.8475' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2340B8FF'/%3e%3cstop offset='0.00657' stop-color='%2340B9FF'/%3e%3cstop offset='0.2601' stop-color='%2340CEFF'/%3e%3cstop offset='0.5122' stop-color='%2340DDFF'/%3e%3cstop offset='0.7604' stop-color='%2340E7FF'/%3e%3cstop offset='1' stop-color='%2340EAFF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint9_linear_173_14441' x1='9.76302' y1='10.4182' x2='15.0961' y2='15.76' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2365B895'/%3e%3cstop offset='0.0685' stop-color='%2362BD95'/%3e%3cstop offset='0.4762' stop-color='%2350DB97'/%3e%3cstop offset='0.8009' stop-color='%2344ED98'/%3e%3cstop offset='1' stop-color='%2340F498'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\\\" alt=\\\"Play Store icon\\\" />\\n            </a>\\n\\n            <a\\n              class=\\\"pera-wallet-connect-modal-download-pera-view__footer__button\\\"\\n              href=\\\"https://perawallet.s3-eu-west-3.amazonaws.com/android-releases/app-pera-prod-release-bitrise-signed.apk\\\"\\n              target=\\\"_blank\\\"\\n              rel=\\\"noopener noreferrer\\\">\\n              <img src=\\\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M3 14V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V14' stroke='%232C3559' stroke-width='1.5'/%3e%3cpath d='M11.9998 16V3M11.9998 16L7.47803 11.4783M11.9998 16L16.5215 11.4783' stroke='%232C3559' stroke-width='1.5'/%3e%3c/svg%3e\\\" alt=\\\"Download icon\\\" />\\n\\n              Download APK File\\n            </a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  \";class Z extends HTMLElement{constructor(){var e;if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){this.shadowRoot.append(M.content.cloneNode(!0),z,E),this.shadowRoot.addEventListener(\"click\",(e=>{this.handleAccordion(e)}));if(\"true\"===this.getAttribute(\"compact-mode\")){const e=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-desktop-mode\");null==e||e.classList.add(\"pera-wallet-connect-modal-desktop-mode--compact\")}const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(\".pera-wallet-connect-modal-desktop-mode__default-view\"),t=\"true\"===this.getAttribute(\"promote-mobile\"),{webWalletOption:a,mobileWalletOption:o}=function(e){const n=`\\n  <div id=\"web-wallet-option\" class=\"pera-wallet-accordion-item ${e?\"\":\"pera-wallet-accordion-item--active\"}  pera-wallet-accordion-item--web-wallet\">\\n            <a class=\"pera-wallet-accordion-toggle\">\\n              <button class=\"pera-wallet-accordion-toggle__button\"></button>\\n  \\n              <img src=\"${k}\" class=\"pera-wallet-accordion-icon\" />\\n  \\n              <div class=\"pera-wallet-accordion-toggle__content-with-label\">\\n                <div class=\"pera-wallet-accordion-toggle__content-with-label__text\">\\n                  Connect With\\n  \\n                  <span class=\"pera-wallet-accordion-toggle__bold-color\">\\n                    Pera Web\\n                  </span>\\n                </div>\\n  \\n                <span id=\"pera-web-new-label\" class=\"pera-wallet-accordion-toggle__label\">NEW</span>\\n              </div>\\n            </a>\\n  \\n            <div class=\"pera-wallet-accordion-item__content\">\\n              <div class=\"pera-wallet-connect-modal-desktop-mode__web-wallet\"><div>\\n              \\n              <div\\n                class=\"pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper\">\\n                <img src=\"data:image/svg+xml,%3csvg width='44' height='44' viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='3.5' y='7.5' width='36' height='26' rx='5.5' stroke='%236B46FE' stroke-width='3'/%3e%3cpath d='M22.4973 14.5237C22.8556 16.041 22.7344 17.3757 22.2267 17.5048C21.719 17.6339 21.0169 16.5085 20.6586 14.9912C20.3003 13.4739 20.4214 12.1392 20.9292 12.0101C21.4369 11.881 22.1389 13.0064 22.4973 14.5237Z' fill='%236B46FE'/%3e%3cpath d='M28.4139 15.8282C27.6204 14.9686 26.0417 15.2016 24.8877 16.3486C23.7338 17.4956 23.4417 19.1222 24.2352 19.9818C25.0287 20.8414 26.6074 20.6084 27.7613 19.4614C28.9153 18.3144 29.2074 16.6878 28.4139 15.8282Z' fill='%236B46FE'/%3e%3cpath d='M22.1027 28.9905C22.6104 28.8614 22.7137 27.4512 22.3334 25.8407C21.9531 24.2303 21.2332 23.0294 20.7254 23.1585C20.2177 23.2876 20.1144 24.6978 20.4947 26.3083C20.875 27.9187 21.5949 29.1196 22.1027 28.9905Z' fill='%236B46FE'/%3e%3cpath d='M16.9269 16.6152C18.3917 17.0567 19.4621 17.8312 19.3176 18.3452C19.1731 18.8591 17.8686 18.9179 16.4037 18.4764C14.9389 18.0349 13.8686 17.2603 14.0131 16.7464C14.1575 16.2324 15.4621 16.1737 16.9269 16.6152Z' fill='%236B46FE'/%3e%3cpath d='M26.4342 22.4188C27.9889 22.8874 29.1322 23.6839 28.9877 24.1979C28.8432 24.7118 27.4657 24.7486 25.911 24.28C24.3563 23.8114 23.213 23.0148 23.3575 22.5009C23.502 21.9869 24.8795 21.9502 26.4342 22.4188Z' fill='%236B46FE'/%3e%3cpath d='M18.5752 21.3404C18.2119 20.9555 17.0205 21.5157 15.914 22.5915C14.8075 23.6673 14.2049 24.8514 14.5682 25.2363C14.9314 25.6211 16.1229 25.061 17.2294 23.9852C18.3359 22.9094 18.9384 21.7253 18.5752 21.3404Z' fill='%236B46FE'/%3e%3cpath d='M16 39C21 39.0001 23.5 39.0001 28 39' stroke='%236B46FE' stroke-width='3' stroke-linecap='round'/%3e%3c/svg%3e\" />\\n              </div>\\n  \\n              <p\\n                class=\"pera-wallet-connect-modal-desktop-mode__web-wallet__description\">\\n                Connect with Pera Web to continue\\n              </p>\\n            </div>\\n  \\n            <button\\n              id=\"pera-wallet-connect-web-wallet-launch-button\"\\n              class=\"pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button\">\\n              Launch Pera Web\\n  \\n              <img src=\"data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.0892 9.41009C13.4147 9.73553 13.4147 10.2632 13.0892 10.5886L8.08924 15.5886C7.7638 15.914 7.23616 15.914 6.91072 15.5886C6.58529 15.2632 6.58529 14.7355 6.91072 14.4101L11.3215 9.99935L6.91073 5.5886C6.58529 5.26317 6.58529 4.73553 6.91073 4.41009C7.23616 4.08466 7.7638 4.08466 8.08924 4.41009L13.0892 9.41009Z' fill='white'/%3e%3c/svg%3e\" />\\n            </button>\\n          </div>`,t=`\\n  <div id=\"mobile-wallet-option\" class=\"pera-wallet-accordion-item ${e?\"pera-wallet-accordion-item--active\":\"\"}\">\\n            <a class=\"pera-wallet-accordion-toggle\">\\n            <button class=\"pera-wallet-accordion-toggle__button\"></button>\\n  \\n              <img src=\"${k}\" class=\"pera-wallet-accordion-icon\" />\\n  \\n              <div class=\"pera-wallet-accordion-toggle__text\">\\n                Connect with\\n  \\n                <span class=\"pera-wallet-accordion-toggle__bold-color\">\\n                  Pera Mobile\\n                </span>\\n              </div>\\n            </a>\\n  \\n            <div class=\"pera-wallet-accordion-item__content\">\\n              <div id=\"pera-wallet-connect-modal-connect-qr-code\" class=\"pera-wallet-connect-qr-code-wrapper\"></div>\\n  \\n              <div class=\"pera-wallet-connect-modal-desktop-mode__download-pera-container\">\\n                <p\\n                  class=\"pera-wallet-connect-modal-desktop-mode__download-pera-description\">\\n                    Dont have Pera Wallet app?\\n                </p>\\n  \\n                <button\\n                  id=\"pera-wallet-connect-modal-desktop-mode-download-pera-button\"\\n                  class=\"pera-wallet-connect-modal-desktop-mode__download-pera-button\">\\n                  <img src=\"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='2' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3crect x='2' y='9.33203' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3crect x='9.33325' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3cpath d='M8.70581 9.5293H10.9411' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 12.668L14.6667 12.668' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 14L14.6667 14' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M11.686 14L13.1762 14' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M12.4314 9.5293H14.6667' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M8.70581 10.2754H12.4313' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.7656H11.6862' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 12.5117H11.6862' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 13.2539H10.196' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 14H10.196' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.0195H12.4313' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3c/svg%3e\" alt=\"QR Icon\" />\\n  \\n                  Download Pera Wallet\\n                </button>\\n              </div>\\n            </div>\\n          </div>`;return{mobileWalletOption:document.createRange().createContextualFragment(t),webWalletOption:document.createRange().createContextualFragment(n)}}(t);t?(null==n||n.appendChild(o),null==n||n.appendChild(a)):(null==n||n.appendChild(a),null==n||n.appendChild(o))}}connectedCallback(){var e;const n=this.getAttribute(\"should-display-new-badge\"),t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-web-new-label\");\"false\"===n&&(null==t||t.setAttribute(\"style\",\"display:none\")),this.handleChangeView()}handleChangeView(){var e,n,t;const a=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-desktop-mode-download-pera-button\"),o=null===(n=this.shadowRoot)||void 0===n?void 0:n.getElementById(\"pera-wallet-connect-modal-download-pera-view-back-button\"),l=null===(t=this.shadowRoot)||void 0===t?void 0:t.getElementById(\"pera-wallet-connect-web-wallet-launch-button\");a&&a.addEventListener(\"click\",(()=>{this.onClickDownload()})),o&&o.addEventListener(\"click\",(()=>{this.onClickBack()})),l&&l.addEventListener(\"click\",(()=>{this.webWalletConnect()})),this.renderQRCode(),this.checkWebWalletAvaliability()}webWalletConnect(){\"true\"===this.getAttribute(\"is-web-wallet-avaliable\")&&window.onWebWalletConnect()}handleAccordion(e){var n,t;if(e.target instanceof Element){if(!e.target.classList.contains(\"pera-wallet-accordion-toggle__button\"))return;if(this.shadowRoot&&(null===(n=e.target.parentElement)||void 0===n?void 0:n.parentElement)){const n=null===(t=e.target.parentElement)||void 0===t?void 0:t.parentElement;if(!n)return;if(n.classList.contains(\"pera-wallet-accordion-item--active\"))return;const a=this.shadowRoot.querySelectorAll(\".pera-wallet-accordion-item.pera-wallet-accordion-item--active\");for(let e=0;e<a.length;e++)a[e].classList.remove(\"pera-wallet-accordion-item--active\");n.classList.toggle(\"pera-wallet-accordion-item--active\")}}}renderQRCode(){var e;const n=this.getAttribute(\"is-web-wallet-avaliable\"),t=\"true\"===this.getAttribute(\"compact-mode\"),a=\"true\"===this.getAttribute(\"single-account\");let o=this.getAttribute(\"uri\");a&&(o=`${o}&singleAccount=true`);let l=\"false\"===n?250:205;if(t&&(l=190),o){const n=new m({width:l,height:l,type:\"svg\",data:o,image:_,dotsOptions:{color:\"#000\",type:\"extra-rounded\"},imageOptions:{crossOrigin:\"anonymous\",margin:8},cornersSquareOptions:{type:\"extra-rounded\"},cornersDotOptions:{type:\"dot\"}}),t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-connect-qr-code\");t&&n.append(t)}}onClickDownload(){if(this.shadowRoot){const e=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-desktop-mode\");e&&(e.classList.remove(\"pera-wallet-connect-modal-desktop-mode--default\"),e.classList.add(\"pera-wallet-connect-modal-desktop-mode--download\"))}}onClickBack(){if(this.shadowRoot){const e=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-desktop-mode\");e&&(e.classList.add(\"pera-wallet-connect-modal-desktop-mode--default\"),e.classList.remove(\"pera-wallet-connect-modal-desktop-mode--download\"))}}checkWebWalletAvaliability(){var e;if(\"false\"===this.getAttribute(\"is-web-wallet-avaliable\")){const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(\".pera-wallet-connect-modal-desktop-mode__default-view\");null==n||n.classList.add(\"pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable\")}}}function H(e=!0){let n=r;const t=o();return e&&t&&(n=`${n}?browser=${encodeURIComponent(t)}`),n}var B=\".pera-wallet-connect-modal-touch-screen-mode {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  gap: 46px;\\n  padding: 4px;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode--pending-message-view {\\n  gap: 56px;\\n  grid-template-rows: auto 48px;\\n  height: 100%;\\n  padding-bottom: 70px;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button,\\n.pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button {\\n  display: block;\\n  padding: 14px;\\n  border-radius: 12px;\\n  text-decoration: none;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  letter-spacing: -0.09px;\\n  font-weight: 500;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button {\\n  margin-bottom: 32px;\\n  background-color: #6b46fe;\\n  color: #ffffff;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button {\\n  margin-bottom: 20px;\\n  color: #6a6a81;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box {\\n  position: relative;\\n  margin-bottom: 32px;\\n  border-top: 1px solid #e6e8ee;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box__text {\\n  position: absolute;\\n  top: -25px;\\n  right: calc(50% - 56px);\\n  width: 116px;\\n  color: #69708d;\\n  background-color: #ffffff;\\n  font-size: 13px;\\n  font-weight: 500;\\n  line-height: 24px;\\n  letter-spacing: -0.04px;\\n  text-align: center;\\n}\";h(B);const F=document.createElement(\"template\");class A extends HTMLElement{constructor(){var e;if(super(),this.attachShadow({mode:\"open\"}),F.innerHTML='\\n  <div class=\"pera-wallet-connect-modal-touch-screen-mode\">\\n    <pera-wallet-connect-modal-information-section></pera-wallet-connect-modal-information-section>\\n\\n    <div>\\n      <a\\n        id=\"pera-wallet-connect-modal-touch-screen-mode-launch-pera-wallet-button\"\\n        class=\"pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button\"\\n        rel=\"noopener noreferrer\"\\n        target=\"_blank\">\\n        Launch Pera Wallet\\n      </a>\\n\\n      <div\\n        class=\"pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box\">\\n        <p\\n          class=\"pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box__text\"\\n          >\\n          New to Pera?\\n        </p>\\n      </div>\\n\\n      <a\\n        href=\"https://perawallet.app/download/\"\\n        class=\"pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button\"\\n        rel=\"noopener noreferrer\"\\n        target=\"_blank\">\\n        Install Pera Wallet\\n      </a>\\n    </div>\\n  </div>\\n',this.shadowRoot){const n=document.createElement(\"style\");n.textContent=B,this.shadowRoot.append(F.content.cloneNode(!0),n);const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-touch-screen-mode-launch-pera-wallet-button\"),a=this.getAttribute(\"uri\"),r=\"true\"===this.getAttribute(\"single-account\"),d=this.getAttribute(\"selected-account\")||void 0;t&&a&&(t.setAttribute(\"href\",function(e,n){let t=H(!1);l()&&!t.includes(\"-wc\")&&(t=t.replace(\"://\",\"-wc://\"));let a=`${t}wc?uri=${encodeURIComponent(e)}`;const r=o();return i()&&(a=e),r&&(a=`${a}&browser=${encodeURIComponent(r)}`),(null==n?void 0:n.singleAccount)&&(a=`${a}&singleAccount=true`),(null==n?void 0:n.selectedAccount)&&(a=`${a}&selectedAccount=${n.selectedAccount}`),a}(a,{singleAccount:r,selectedAccount:d})),t.addEventListener(\"click\",(()=>{this.onClickLaunch()})))}}onClickLaunch(){if(F.innerHTML=`\\n    <div class=\"pera-wallet-connect-modal-touch-screen-mode pera-wallet-connect-modal-touch-screen-mode--pending-message-view\">\\n      <pera-wallet-connect-modal-pending-message-section should-use-sound=\"${this.getAttribute(\"should-use-sound\")}\"></pera-wallet-connect-modal-pending-message-section>\\n    </div>\\n  `,this.shadowRoot){const e=document.createElement(\"style\");e.textContent=B,this.shadowRoot.innerHTML=\"\",this.shadowRoot.append(F.content.cloneNode(!0),e)}}}var V='@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\");\\n.pera-wallet-modal {\\n  --pera-wallet-modal-font-family: \"Inter\", sans-serif;\\n  --pera-wallet-modal-compact-width: 380px;\\n  --pera-wallet-modal-compact-height: 396px;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  z-index: 999999;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\\n  top: 40px;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  max-width: unset;\\n  height: calc(100 * var(--pera-wallet-vh));\\n  padding: 20px;\\n  background-color: #ffffff;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\\n  border-radius: 20px 20px 0px 0px;\\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\\n  overflow-y: auto;\\n  transform: unset;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\\n  background-image: unset;\\n}\\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n  padding: 0;\\n}\\n.pera-wallet-modal * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-modal ul,\\n.pera-wallet-modal ol,\\n.pera-wallet-modal li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal__logo img {\\n  display: block;\\n  width: 32px;\\n}\\n\\n.pera-wallet-modal__body {\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  width: 700px;\\n  max-width: calc(100vw - 80px);\\n  padding: 28px;\\n  background-color: #f3f3f7;\\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\\n  border-radius: 24px;\\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\\n  transform: translate(-50%, -50%);\\n}\\n.pera-wallet-modal__body::before {\\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: -1;\\n  content: \"\";\\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\\n  background-size: 116px 116px;\\n  mix-blend-mode: overlay;\\n  border-radius: 24px;\\n  opacity: 0.8;\\n  pointer-events: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\\n    width: 100%;\\n    max-width: calc(100vw - 32px);\\n    padding: 24px;\\n  }\\n}\\n@keyframes PeraWalletConnectSlideIn {\\n  0% {\\n    opacity: 0;\\n    transform: translate(-50%, calc(-50% + 24px));\\n  }\\n  100% {\\n    opacity: 1;\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n@keyframes PeraWalletConnectMobileSlideIn {\\n  0% {\\n    top: 30%;\\n    opacity: 0;\\n  }\\n  100% {\\n    top: 40px;\\n    opacity: 1;\\n  }\\n}';h(V);const R=document.createElement(\"template\");let I=e()?`${d} ${d}--mobile`:`${d} ${d}--desktop`;class S extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const n=document.createElement(\"style\");n.textContent=V;\"true\"===this.getAttribute(\"compact-mode\")&&(I=`${I} ${d}--compact`);const t=\"true\"===this.getAttribute(\"single-account\"),a=this.getAttribute(\"selected-account\");e()?(R.innerHTML=`\\n        <div class=\"${I}\">\\n          <div class=\"pera-wallet-modal__body\" part=\"body\">\\n            <pera-wallet-modal-header modal-id=\"${c}\"></pera-wallet-modal-header/>\\n      \\n            <pera-wallet-modal-touch-screen-mode uri=\"${this.getAttribute(\"uri\")}\" should-use-sound=\"${this.getAttribute(\"should-use-sound\")}\" single-account=\"${t}\" selected-account=\"${a}\"></pera-wallet-modal-touch-screen-mode>\\n          </div>\\n        </div>\\n      `,this.shadowRoot.append(R.content.cloneNode(!0),n)):(R.innerHTML=`\\n          <div class=\"${I}\">\\n            <div class=\"pera-wallet-modal__body\">\\n              <pera-wallet-modal-header modal-id=\"${c}\"></pera-wallet-modal-header/>\\n        \\n              <pera-wallet-modal-desktop-mode id=\"pera-wallet-modal-desktop-mode\" uri=\"${this.getAttribute(\"uri\")}\" is-web-wallet-avaliable=\"${this.getAttribute(\"is-web-wallet-avaliable\")}\" should-display-new-badge=\"${this.getAttribute(\"should-display-new-badge\")}\" compact-mode=\"${this.getAttribute(\"compact-mode\")}\" promote-mobile=\"${this.getAttribute(\"promote-mobile\")}\" single-account=\"${t}\"\\n        ></pera-wallet-modal-desktop-mode>\\n            </div>\\n          </div>\\n        `,this.shadowRoot.append(R.content.cloneNode(!0),n))}}}var W='@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\");\\n.pera-wallet-modal {\\n  --pera-wallet-modal-font-family: \"Inter\", sans-serif;\\n  --pera-wallet-modal-compact-width: 380px;\\n  --pera-wallet-modal-compact-height: 396px;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  z-index: 999999;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\\n  top: 40px;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  max-width: unset;\\n  height: calc(100 * var(--pera-wallet-vh));\\n  padding: 20px;\\n  background-color: #ffffff;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\\n  border-radius: 20px 20px 0px 0px;\\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\\n  overflow-y: auto;\\n  transform: unset;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\\n  background-image: unset;\\n}\\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n  padding: 0;\\n}\\n.pera-wallet-modal * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-modal ul,\\n.pera-wallet-modal ol,\\n.pera-wallet-modal li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal__logo img {\\n  display: block;\\n  width: 32px;\\n}\\n\\n.pera-wallet-modal__body {\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  width: 700px;\\n  max-width: calc(100vw - 80px);\\n  padding: 28px;\\n  background-color: #f3f3f7;\\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\\n  border-radius: 24px;\\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\\n  transform: translate(-50%, -50%);\\n}\\n.pera-wallet-modal__body::before {\\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: -1;\\n  content: \"\";\\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\\n  background-size: 116px 116px;\\n  mix-blend-mode: overlay;\\n  border-radius: 24px;\\n  opacity: 0.8;\\n  pointer-events: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\\n    width: 100%;\\n    max-width: calc(100vw - 32px);\\n    padding: 24px;\\n  }\\n}\\n@keyframes PeraWalletConnectSlideIn {\\n  0% {\\n    opacity: 0;\\n    transform: translate(-50%, calc(-50% + 24px));\\n  }\\n  100% {\\n    opacity: 1;\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n@keyframes PeraWalletConnectMobileSlideIn {\\n  0% {\\n    top: 30%;\\n    opacity: 0;\\n  }\\n  100% {\\n    top: 40px;\\n    opacity: 1;\\n  }\\n}\\n.pera-wallet-redirect-modal {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  gap: 56px;\\n  grid-template-rows: auto 48px;\\n  height: 100%;\\n  padding: 4px;\\n  padding-bottom: 70px;\\n}\\n\\n.pera-wallet-redirect-modal__content {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n}\\n\\n.pera-wallet-redirect-modal__content__title {\\n  margin: 20px 0 8px;\\n  color: #3c3c49;\\n  font-size: 18px;\\n  font-weight: 600;\\n  line-height: 22px;\\n  letter-spacing: -0.26px;\\n}\\n\\n.pera-wallet-redirect-modal__content__description,\\n.pera-wallet-redirect-modal__content__install-pera-text {\\n  color: #3c3c49;\\n  max-width: 271px;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 24px;\\n  letter-spacing: -0.09px;\\n  text-align: center;\\n}\\n\\n.pera-wallet-redirect-modal__content__description {\\n  margin-bottom: 24px;\\n}\\n\\n.pera-wallet-redirect-modal__content__install-pera-text__link {\\n  color: #6b46fe;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 24px;\\n  letter-spacing: -0.09px;\\n  text-align: center;\\n}\\n\\n.pera-wallet-redirect-modal__launch-pera-wallet-button {\\n  display: block;\\n  padding: 14px;\\n  color: #ffffff;\\n  background-color: #6b46fe;\\n  border-radius: 12px;\\n  text-decoration: none;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  letter-spacing: -0.09px;\\n  font-weight: 500;\\n}';h(W);const P=document.createElement(\"template\");P.innerHTML=`\\n  <div class=\"pera-wallet-modal pera-wallet-modal--mobile\">\\n    <div class=\"pera-wallet-modal__body\">\\n      <pera-wallet-modal-header modal-id=\"${n}\"></pera-wallet-modal-header/>\\n\\n      <div class=\"pera-wallet-redirect-modal\">\\n        <div class=\"pera-wallet-redirect-modal__content\">\\n          <img src=\"data:image/svg+xml,%3csvg width='120' height='38' viewBox='0 0 120 38' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg clip-path='url(%23clip0_38844_290434)'%3e%3cpath d='M103.739 28.6746H109.565' stroke='%236B46FE' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M112.25 37H100.75C97.5731 37 95 34.2336 95 30.8182V9.18182C95 5.76636 97.5731 3 100.75 3H112.25C115.427 3 118 5.76636 118 9.18182V30.8182C118 34.2336 115.427 37 112.25 37Z' fill='%236B46FE' fill-opacity='0.1' stroke='%236B46FE' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3crect y='1' width='36' height='36' rx='7.76829' fill='%236B46FE' fill-opacity='0.1'/%3e%3cpath d='M19.6057 9.47351C20.1851 11.8819 19.9967 14.0022 19.1848 14.2093C18.373 14.4164 17.2452 12.6319 16.6658 10.2235C16.0864 7.81514 16.2748 5.69486 17.0867 5.48775C17.8985 5.28063 19.0263 7.06512 19.6057 9.47351Z' fill='%236B46FE'/%3e%3cpath d='M29.0775 11.5213C27.8045 10.1593 25.2795 10.5358 23.4378 12.3621C21.5961 14.1885 21.1352 16.7732 22.4083 18.1352C23.6814 19.4972 26.2064 19.1207 28.048 17.2943C29.8897 15.4679 30.3506 12.8832 29.0775 11.5213Z' fill='%236B46FE'/%3e%3cpath d='M19.0324 32.4518C19.8443 32.2446 20.0039 30.0045 19.3889 27.4483C18.774 24.8921 17.6173 22.9877 16.8055 23.1948C15.9937 23.402 15.834 25.6421 16.449 28.1983C17.064 30.7545 18.2206 32.6589 19.0324 32.4518Z' fill='%236B46FE'/%3e%3cpath d='M10.7016 12.818C13.0471 13.5132 14.7627 14.739 14.5336 15.5559C14.3045 16.3728 12.2175 16.4714 9.87199 15.7762C7.52653 15.0809 5.81087 13.8551 6.03996 13.0383C6.26906 12.2214 8.35615 12.1228 10.7016 12.818Z' fill='%236B46FE'/%3e%3cpath d='M25.9365 21.9967C28.4259 22.7346 30.2583 23.995 30.0292 24.8119C29.8001 25.6287 27.5963 25.6927 25.1069 24.9548C22.6174 24.2169 20.7851 22.9565 21.0141 22.1397C21.2432 21.3228 23.447 21.2588 25.9365 21.9967Z' fill='%236B46FE'/%3e%3cpath d='M13.3578 20.316C12.775 19.7063 10.8709 20.6007 9.10487 22.3139C7.33879 24.0271 6.37952 25.9102 6.96226 26.5199C7.54501 27.1297 9.4491 26.2352 11.2152 24.522C12.9813 22.8089 13.9405 20.9258 13.3578 20.316Z' fill='%236B46FE'/%3e%3cpath d='M70.2098 10L75.3049 15.0945L52 15.0945' stroke='%23D0CAE7' stroke-width='3'/%3e%3cpath d='M60.7902 29.5945L55.6951 24.5L79 24.5' stroke='%23D0CAE7' stroke-width='3'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='clip0_38844_290434'%3e%3crect width='120' height='38' fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\" />\\n\\n          <h1 class=\"pera-wallet-redirect-modal__content__title\">\\n            Can't Launch Pera\\n          </h1>\\n\\n          <p class=\"pera-wallet-redirect-modal__content__description\">\\n            We couldn't redirect you to Pera Wallet automatically. Please try again.\\n          </p>\\n\\n          <p class=\"pera-wallet-redirect-modal__content__install-pera-text\">\\n            Don't have Pera Wallet installed yet?\\n            <br />\\n            \\n            <a\\n              id=\"pera-wallet-redirect-modal-download-pera-link\"\\n              class=\"pera-wallet-redirect-modal__content__install-pera-text__link\"\\n              href=\"https://perawallet.app/download/\"\\n              rel=\"noopener noreferrer\"\\n              target=\"_blank\">\\n              Tap here to install.\\n            </a>\\n          </p>\\n        </div>\\n\\n        <a\\n          id=\"pera-wallet-redirect-modal-launch-pera-link\"\\n          class=\"pera-wallet-redirect-modal__launch-pera-wallet-button\"\\n          rel=\"noopener noreferrer\"\\n          target=\"_blank\">\\n          Launch Pera Wallet\\n        </a>\\n      </div>\\n    </div>\\n  </div>\\n`;class $ extends HTMLElement{constructor(){var e,n;if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const t=document.createElement(\"style\");t.textContent=W,this.shadowRoot.append(P.content.cloneNode(!0),t);const a=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-redirect-modal-download-pera-link\");null==a||a.addEventListener(\"click\",(()=>{this.onClose()}));const o=null===(n=this.shadowRoot)||void 0===n?void 0:n.getElementById(\"pera-wallet-redirect-modal-launch-pera-link\");null==o||o.addEventListener(\"click\",(()=>{this.onClose(),window.open(H(),\"_blank\")}))}}connectedCallback(){const e=window.open(H(),\"_blank\");e&&!e.closed&&this.onClose()}onClose(){t(n)}}var j=\"data:image/svg+xml,%3csvg width='32' height='35' viewBox='0 0 32 35' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.2837 5.09271C19.0234 8.12325 18.7827 10.7913 17.7463 11.0519C16.7098 11.3126 15.27 9.06712 14.5304 6.03657C13.7908 3.00603 14.0315 0.337996 15.0679 0.0773547C16.1044 -0.183287 17.5441 2.06216 18.2837 5.09271Z' fill='%233C3C49'/%3e%3cpath d='M30.376 7.66915C28.7507 5.95537 25.5271 6.42918 23.1759 8.72745C20.8247 11.0257 20.2361 14.2781 21.8614 15.9919C23.4866 17.7057 26.7102 17.2319 29.0614 14.9336C31.4127 12.6354 32.0012 9.38294 30.376 7.66915Z' fill='%233C3C49'/%3e%3cpath d='M17.5511 34.0071C18.5876 33.7465 18.7914 30.9276 18.0064 27.711C17.2214 24.4945 15.7448 22.0982 14.7084 22.3589C13.6719 22.6195 13.4681 25.4383 14.2531 28.6549C15.0381 31.8715 16.5147 34.2677 17.5511 34.0071Z' fill='%233C3C49'/%3e%3cpath d='M6.91617 9.3015C9.9105 10.1763 12.1008 11.7187 11.8083 12.7466C11.5158 13.7745 8.85126 13.8986 5.85693 13.0239C2.8626 12.1491 0.672334 10.6067 0.964835 9.57881C1.25734 8.5509 3.92184 8.42674 6.91617 9.3015Z' fill='%233C3C49'/%3e%3cpath d='M26.3656 20.8508C29.5437 21.7793 31.883 23.3652 31.5905 24.3932C31.298 25.4211 28.4845 25.5017 25.3063 24.5732C22.1282 23.6448 19.7889 22.0588 20.0814 21.0309C20.3739 20.003 23.1874 19.9224 26.3656 20.8508Z' fill='%233C3C49'/%3e%3cpath d='M10.3069 18.7365C9.56299 17.9692 7.13209 19.0948 4.87736 21.2506C2.62264 23.4064 1.39791 25.776 2.14185 26.5432C2.8858 27.3105 5.3167 26.1849 7.57143 24.0291C9.82615 21.8733 11.0509 19.5037 10.3069 18.7365Z' fill='%233C3C49'/%3e%3c/svg%3e\",T=\".pera-wallet-connect-modal-information-section {\\n  padding: 12px;\\n  padding-right: 0;\\n}\\n.pera-wallet-connect-modal-information-section--mobile {\\n  padding: 0;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__pera-icon {\\n  margin-bottom: 16px;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__connect-pera-title {\\n  margin-bottom: 8px;\\n  color: #3c3c49;\\n  font-size: 18px;\\n  font-weight: 600;\\n  line-height: 22px;\\n  letter-spacing: -0.2px;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__title {\\n  margin-bottom: 24px;\\n  color: #3c3c49;\\n  font-size: 14px;\\n  line-height: 24px;\\n  letter-spacing: -0.09px;\\n  font-weight: 400;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__features-item__icon-wrapper {\\n  background-color: #f2f3f8;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__features-item__description {\\n  color: #6a6a81;\\n}\\n.pera-wallet-connect-modal-information-section * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.pera-wallet-connect-modal-information-section__pera-icon {\\n  margin-bottom: 32px;\\n}\\n\\n.pera-wallet-connect-modal-information-section__title {\\n  margin-bottom: 148px;\\n  color: #3c3c49;\\n  font-size: 20px;\\n  font-weight: 500;\\n  line-height: 24px;\\n  letter-spacing: -0.5px;\\n}\\n\\n.pera-wallet-connect-modal-information-section__secondary-title {\\n  margin-bottom: 20px;\\n  color: #9d9dae;\\n  font-size: 11px;\\n  font-weight: 600;\\n  line-height: 18px;\\n  letter-spacing: 0.06px;\\n  text-transform: uppercase;\\n}\\n\\n.pera-wallet-connect-modal-information-section__features-item {\\n  display: grid;\\n  align-items: center;\\n  grid-template-columns: 36px auto;\\n  gap: 16px;\\n}\\n.pera-wallet-connect-modal-information-section__features-item:not(:last-of-type) {\\n  margin-bottom: 24px;\\n}\\n\\n.pera-wallet-connect-modal-information-section__features-item__icon-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 36px;\\n  height: 36px;\\n  background-color: #ffffff;\\n  border-radius: 50%;\\n}\\n\\n.pera-wallet-connect-modal-information-section__features-item__description {\\n  color: #6a6a81;\\n  font-size: 12px;\\n  font-weight: 500;\\n  line-height: 18px;\\n  letter-spacing: 0.01px;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-connect-modal-information-section--desktop {\\n    padding: 0;\\n  }\\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__pera-icon {\\n    margin-bottom: 12px;\\n  }\\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__title {\\n    margin-bottom: 24px;\\n    font-size: 16px;\\n    font-weight: 500;\\n    line-height: 24px;\\n    letter-spacing: -0.26px;\\n  }\\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__features-item {\\n    display: none;\\n  }\\n  .pera-wallet-connect-modal-information-section__secondary-title {\\n    display: none;\\n  }\\n}\";h(T);const D=document.createElement(\"template\"),O=e()?\"pera-wallet-connect-modal-information-section pera-wallet-connect-modal-information-section--mobile\":\"pera-wallet-connect-modal-information-section pera-wallet-connect-modal-information-section--desktop\";D.innerHTML=`\\n  <section class=\"${O}\">\\n    <img\\n      id=\"pera-wallet-connect-modal-information-section-pera-icon\"\\n      src=\"${j}\"\\n      class=\"pera-wallet-connect-modal-information-section__pera-icon\"\\n      alt=\"Pera Wallet Logo\"\\n    />\\n\\n    <h1 id=\"pera-wallet-connect-modal-information-section-connect-pera-mobile\" class=\"pera-wallet-connect-modal-information-section__connect-pera-title\">\\n        Connect to Pera Wallet\\n    </h1>\\n\\n    <h1 class=\"pera-wallet-connect-modal-information-section__title\">\\n      Simply the best Algorand wallet.\\n    </h1>\\n\\n    <h2 id=\"pera-wallet-connect-modal-information-section-secondary-title\" class=\"pera-wallet-connect-modal-information-section__secondary-title\">\\n      Features\\n    </h2>\\n\\n    <ul>\\n      <li class=\"pera-wallet-connect-modal-information-section__features-item\">\\n        <div class=\"pera-wallet-connect-modal-information-section__features-item__icon-wrapper\">\\n          <img src=\"data:image/svg+xml,%3csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M2.5 10.1378C2.5 10.8378 3.025 11.6461 3.66667 11.9294L9.325 14.4461C9.75833 14.6378 10.25 14.6378 10.675 14.4461L16.3333 11.9294C16.975 11.6461 17.5 10.8378 17.5 10.1378M2.5 14.3044C2.5 15.0794 2.95833 15.7794 3.66667 16.0961L9.325 18.6128C9.75833 18.8044 10.25 18.8044 10.675 18.6128L16.3333 16.0961C17.0417 15.7794 17.5 15.0794 17.5 14.3044M10.8417 3.4043L15.7583 5.58763C17.175 6.21263 17.175 7.24596 15.7583 7.87096L10.8417 10.0543C10.2833 10.3043 9.36668 10.3043 8.80835 10.0543L3.89168 7.87096C2.47502 7.24596 2.47502 6.21263 3.89168 5.58763L8.80835 3.4043C9.36668 3.1543 10.2833 3.1543 10.8417 3.4043Z' stroke='%239D9DAE' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e\" alt=\"Layer Icon\" />\\n        </div>\\n        \\n        <p\\n          class=\"pera-wallet-connect-modal-information-section__features-item__description\">\\n          Connect to any Algorand dApp securely\\n        </p>\\n      </li>\\n\\n      <li class=\"pera-wallet-connect-modal-information-section__features-item\">\\n        <div\\n          class=\"pera-wallet-connect-modal-information-section__features-item__icon-wrapper\">\\n          <img src=\"data:image/svg+xml,%3csvg width='24' height='25' viewBox='0 0 24 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.58033 12.3109C9.28744 12.018 8.81257 12.018 8.51967 12.3109C8.22678 12.6038 8.22678 13.0787 8.51967 13.3716L9.58033 12.3109ZM10.66 14.4512L10.1297 14.9816C10.4226 15.2745 10.8974 15.2745 11.1903 14.9816L10.66 14.4512ZM15.4903 10.6816C15.7832 10.3887 15.7832 9.91381 15.4903 9.62092C15.1974 9.32803 14.7226 9.32803 14.4297 9.62092L15.4903 10.6816ZM19.84 8.09125C19.84 8.50546 20.1758 8.84125 20.59 8.84125C21.0042 8.84125 21.34 8.50546 21.34 8.09125H19.84ZM18.5 5.07125L18.2368 5.77355L18.2373 5.77375L18.5 5.07125ZM13.51 3.20125L13.7732 2.49894L13.7724 2.49866L13.51 3.20125ZM10.49 3.20125L10.2276 2.49865L10.2256 2.49941L10.49 3.20125ZM5.5 5.08125L5.76268 5.78375L5.76442 5.78309L5.5 5.08125ZM5.14 18.9612L4.69102 19.562L4.69135 19.5623L5.14 18.9612ZM9.44 22.1713L9.89069 21.5718L9.88866 21.5702L9.44 22.1713ZM14.58 22.1713L14.1313 21.5702L14.1293 21.5718L14.58 22.1713ZM18.88 18.9612L19.3287 19.5623L19.329 19.562L18.88 18.9612ZM21.36 8.09125C21.36 7.67704 21.0242 7.34125 20.61 7.34125C20.1958 7.34125 19.86 7.67704 19.86 8.09125H21.36ZM8.51967 13.3716L10.1297 14.9816L11.1903 13.9209L9.58033 12.3109L8.51967 13.3716ZM11.1903 14.9816L15.4903 10.6816L14.4297 9.62092L10.1297 13.9209L11.1903 14.9816ZM21.34 8.09125C21.34 7.29392 21.0398 6.50041 20.5931 5.85456C20.1463 5.20881 19.5097 4.64807 18.7627 4.36875L18.2373 5.77375C18.6403 5.92443 19.0487 6.25869 19.3595 6.70794C19.6702 7.15709 19.84 7.65858 19.84 8.09125H21.34ZM18.7632 4.36895L13.7732 2.49895L13.2468 3.90355L18.2368 5.77355L18.7632 4.36895ZM13.7724 2.49866C13.2479 2.30277 12.6051 2.21875 12 2.21875C11.3949 2.21875 10.7521 2.30277 10.2276 2.49866L10.7524 3.90384C11.0579 3.78973 11.5101 3.71875 12 3.71875C12.4899 3.71875 12.9421 3.78973 13.2476 3.90384L13.7724 2.49866ZM10.2256 2.49941L5.23558 4.37941L5.76442 5.78309L10.7544 3.90309L10.2256 2.49941ZM5.23733 4.37875C4.49043 4.65803 3.85398 5.2186 3.40741 5.86265C2.96095 6.50656 2.66 7.2978 2.66 8.09125H4.16C4.16 7.6647 4.32906 7.16594 4.64009 6.71735C4.95103 6.2689 5.35957 5.93447 5.76268 5.78375L5.23733 4.37875ZM2.66 8.09125V15.5212H4.16V8.09125H2.66ZM2.66 15.5212C2.66 16.2602 2.8989 17.059 3.24874 17.7545C3.59871 18.4503 4.09802 19.1188 4.69102 19.562L5.58899 18.3605C5.23198 18.0937 4.86629 17.6322 4.58877 17.0805C4.31111 16.5285 4.16 15.9623 4.16 15.5212H2.66ZM4.69135 19.5623L8.99135 22.7723L9.88866 21.5702L5.58866 18.3602L4.69135 19.5623ZM8.98932 22.7707C9.84721 23.4157 10.9462 23.7163 12.01 23.7163C13.0738 23.7163 14.1728 23.4157 15.0307 22.7707L14.1293 21.5718C13.5772 21.9868 12.8112 22.2163 12.01 22.2163C11.2088 22.2163 10.4428 21.9868 9.89068 21.5718L8.98932 22.7707ZM15.0287 22.7723L19.3287 19.5623L18.4313 18.3602L14.1313 21.5702L15.0287 22.7723ZM19.329 19.562C19.922 19.1188 20.4213 18.4503 20.7713 17.7545C21.1211 17.059 21.36 16.2602 21.36 15.5212H19.86C19.86 15.9623 19.7089 16.5285 19.4312 17.0805C19.1537 17.6322 18.788 18.0937 18.431 18.3605L19.329 19.562ZM21.36 15.5212V8.09125H19.86V15.5212H21.36Z' fill='%239D9DAE'/%3e%3c/svg%3e\" alt=\"Tick Icon\" />\\n        </div>\\n\\n        <p\\n          class=\"pera-wallet-connect-modal-information-section__features-item__description\">\\n          Your private keys are safely stored locally\\n        </p>\\n      </li>\\n\\n      <li class=\"pera-wallet-connect-modal-information-section__features-item\">\\n        <div\\n          class=\"pera-wallet-connect-modal-information-section__features-item__icon-wrapper\">\\n          <img src=\"data:image/svg+xml,%3csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.05 9.67014L17.3198 9.49894L18.05 9.67014ZM17.2333 13.1535L16.5031 12.9823L16.5029 12.9835L17.2333 13.1535ZM12.55 17.1285L12.6218 16.3818L12.6098 16.3809L12.55 17.1285ZM11.2 16.9035L11.376 16.1744L11.3737 16.1739L11.2 16.9035ZM9.8 16.5701L9.97372 15.8405L9.97324 15.8404L9.8 16.5701ZM6.06667 10.5451L6.79687 10.7163L6.79696 10.7159L6.06667 10.5451ZM6.88334 7.05347L6.15327 6.88169L6.15304 6.88267L6.88334 7.05347ZM7.5 5.22014L8.17303 5.55114L8.17523 5.54659L7.5 5.22014ZM12.9167 3.32014L12.744 4.05L12.7461 4.05049L12.9167 3.32014ZM14.3083 3.64514L14.4791 2.91485L14.4789 2.91479L14.3083 3.64514ZM10.5917 18.0285L10.359 17.3155L10.3572 17.3161L10.5917 18.0285ZM9.27501 18.4618L9.50516 19.1756L9.50947 19.1742L9.27501 18.4618ZM3.15001 15.3285L2.43654 15.5597L2.43672 15.5603L3.15001 15.3285ZM2.08334 12.0368L1.36953 12.267L1.36987 12.268L2.08334 12.0368ZM5.20834 5.91182L5.43849 6.62565L5.44281 6.62423L5.20834 5.91182ZM6.52501 5.47848L6.29831 4.76352L6.29055 4.76608L6.52501 5.47848ZM10.7177 7.35149C10.3162 7.24967 9.90818 7.49261 9.80635 7.89411C9.70453 8.29561 9.94746 8.70364 10.349 8.80546L10.7177 7.35149ZM14.3906 9.83046C14.7921 9.93229 15.2002 9.68935 15.302 9.28785C15.4038 8.88635 15.1609 8.47832 14.7594 8.37649L14.3906 9.83046ZM9.90211 10.5768C9.50076 10.4743 9.09238 10.7167 8.98996 11.118C8.88755 11.5194 9.12988 11.9278 9.53124 12.0302L9.90211 10.5768ZM11.9479 12.6469C12.3493 12.7493 12.7576 12.5069 12.8601 12.1056C12.9625 11.7042 12.7201 11.2958 12.3188 11.1934L11.9479 12.6469ZM17.3198 9.49894L16.5031 12.9823L17.9635 13.3247L18.7802 9.84133L17.3198 9.49894ZM16.5029 12.9835C16.168 14.4224 15.6979 15.2955 15.1165 15.793C14.5605 16.2688 13.7912 16.4944 12.6218 16.3819L12.4782 17.875C13.9088 18.0126 15.1312 17.7548 16.0918 16.9327C17.0271 16.1323 17.5986 14.8928 17.9638 13.3234L16.5029 12.9835ZM12.6098 16.3809C12.2388 16.3512 11.8281 16.2835 11.376 16.1744L11.024 17.6325C11.5386 17.7567 12.0279 17.8391 12.4902 17.8761L12.6098 16.3809ZM11.3737 16.1739L9.97372 15.8405L9.62629 17.2997L11.0263 17.6331L11.3737 16.1739ZM9.97324 15.8404C8.30732 15.4449 7.40652 14.876 6.96107 14.1588C6.51616 13.4425 6.40566 12.385 6.79687 10.7163L5.33647 10.3739C4.91101 12.1887 4.92968 13.7311 5.68685 14.9502C6.44349 16.1685 7.81769 16.8704 9.62676 17.2999L9.97324 15.8404ZM6.79696 10.7159L7.61363 7.22428L6.15304 6.88267L5.33638 10.3743L6.79696 10.7159ZM7.6134 7.22525C7.77277 6.54795 7.95691 5.99053 8.17301 5.55113L6.82699 4.88915C6.54309 5.46641 6.32724 6.14234 6.15327 6.88169L7.6134 7.22525ZM8.17523 5.54659C8.59604 4.67619 9.11898 4.20234 9.77488 3.97598C10.4657 3.73759 11.4133 3.73525 12.744 4.05L13.0893 2.59028C11.6367 2.2467 10.3635 2.18603 9.28554 2.55805C8.17269 2.94211 7.37896 3.74743 6.82478 4.89369L8.17523 5.54659ZM12.7461 4.05049L14.1378 4.37549L14.4789 2.91479L13.0872 2.58979L12.7461 4.05049ZM14.1375 4.37543C15.8111 4.76687 16.7126 5.33603 17.1575 6.05304C17.6023 6.77006 17.7112 7.82942 17.3198 9.49894L18.7802 9.84133C19.2054 8.02753 19.1893 6.48272 18.4321 5.26224C17.6749 4.04175 16.2972 3.34008 14.4791 2.91485L14.1375 4.37543ZM12.1294 16.5075C11.6911 16.8045 11.1123 17.0697 10.359 17.3155L10.8243 18.7415C11.6544 18.4706 12.3756 18.1525 12.9706 17.7494L12.1294 16.5075ZM10.3572 17.3161L9.04055 17.7494L9.50947 19.1742L10.8261 18.7409L10.3572 17.3161ZM9.04486 17.748C7.46037 18.2589 6.43607 18.2362 5.71663 17.8681C4.99693 17.4999 4.37829 16.6816 3.8633 15.0967L2.43672 15.5603C2.99673 17.2837 3.78642 18.5654 5.03339 19.2035C6.28062 19.8416 7.78131 19.7314 9.50516 19.1756L9.04486 17.748ZM3.86348 15.0973L2.79682 11.8056L1.36987 12.268L2.43654 15.5597L3.86348 15.0973ZM2.79716 11.8067C2.28607 10.2215 2.3068 9.19457 2.67362 8.4739C3.03983 7.75443 3.85506 7.13616 5.43849 6.62563L4.9782 5.198C3.25329 5.75414 1.97269 6.54421 1.33682 7.79348C0.701551 9.04157 0.813948 10.5438 1.36953 12.267L2.79716 11.8067ZM5.44281 6.62423L6.75947 6.19089L6.29055 4.76608L4.97388 5.19941L5.44281 6.62423ZM6.75169 6.19341C7.08205 6.08866 7.37424 6.00724 7.63942 5.95707L7.36058 4.48321C7.00909 4.54971 6.6513 4.65164 6.29833 4.76356L6.75169 6.19341ZM10.349 8.80546L14.3906 9.83046L14.7594 8.37649L10.7177 7.35149L10.349 8.80546ZM9.53124 12.0302L11.9479 12.6469L12.3188 11.1934L9.90211 10.5768L9.53124 12.0302Z' fill='%239D9DAE'/%3e%3c/svg%3e\" alt=\"Note Icon\" />\\n        </div>\\n\\n        <p\\n          class=\"pera-wallet-connect-modal-information-section__features-item__description\">\\n          View NFTs, buy and swap crypto and more\\n        </p>\\n      </li>\\n    </ul>\\n  </section>\\n`;class U extends HTMLElement{constructor(){var n,t,a,o;super(),this.attachShadow({mode:\"open\"});const l=\"true\"===(null===(n=document.querySelector(\"pera-wallet-connect-modal\"))||void 0===n?void 0:n.getAttribute(\"compact-mode\"));if(this.shadowRoot&&(!l&&!e()||e())){const n=document.createElement(\"style\");n.textContent=T,this.shadowRoot.append(D.content.cloneNode(!0),n),e()?null===(t=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-information-section-title\"))||void 0===t||t.setAttribute(\"style\",\"display: none;\"):(null===(a=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-information-section-pera-icon\"))||void 0===a||a.setAttribute(\"src\",\"data:image/svg+xml,%3csvg width='84' height='38' viewBox='0 0 84 38' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M19.806 8.62773C20.4416 11.2609 20.2268 13.5772 19.3262 13.8012C18.4256 14.0253 17.1803 12.0723 16.5448 9.43906C15.9092 6.80585 16.1241 4.48959 17.0246 4.26555C17.9252 4.04151 19.1705 5.99452 19.806 8.62773Z' fill='%233C3C49'/%3e%3cpath d='M30.3007 10.8917C28.8932 9.3999 26.0929 9.80424 24.0461 11.7948C21.9994 13.7853 21.4812 16.6082 22.8887 18.1C24.2962 19.5917 27.0964 19.1874 29.1432 17.1969C31.1899 15.2064 31.7082 12.3834 30.3007 10.8917Z' fill='%233C3C49'/%3e%3cpath d='M19.1061 33.734C20.0067 33.5099 20.1899 31.0627 19.5153 28.2678C18.8408 25.473 17.5639 23.3889 16.6633 23.613C15.7627 23.837 15.5795 26.2843 16.2541 29.0791C16.9286 31.874 18.2056 33.958 19.1061 33.734Z' fill='%233C3C49'/%3e%3cpath d='M9.92571 12.2574C12.5239 13.0236 14.4224 14.3678 14.1662 15.2597C13.9099 16.1517 11.5959 16.2536 8.99771 15.4874C6.3995 14.7212 4.50098 13.377 4.75724 12.4851C5.0135 11.5931 7.3275 11.4912 9.92571 12.2574Z' fill='%233C3C49'/%3e%3cpath d='M26.7892 22.3292C29.5469 23.1424 31.5747 24.5247 31.3184 25.4167C31.0621 26.3086 28.6189 26.3724 25.8612 25.5592C23.1035 24.7459 21.0757 23.3636 21.3319 22.4717C21.5882 21.5797 24.0315 21.5159 26.7892 22.3292Z' fill='%233C3C49'/%3e%3cpath d='M12.8493 20.4577C12.205 19.7898 10.0916 20.7619 8.12896 22.6289C6.16631 24.4959 5.09759 26.5509 5.7419 27.2188C6.38622 27.8867 8.49958 26.9146 10.4622 25.0476C12.4249 23.1806 13.4936 21.1256 12.8493 20.4577Z' fill='%233C3C49'/%3e%3cpath d='M41.691 12.5347V11.9635H39.3366V27.1957H41.691V23.0915C41.691 22.6472 41.691 22.2876 41.6482 21.801H41.691C42.5471 23.1973 44.0026 23.9377 45.7148 23.9377C48.6043 23.9377 51.1299 21.7587 51.1299 17.7179C51.1299 13.7617 48.6043 11.625 45.7148 11.625C44.0668 11.625 42.6113 12.3443 41.691 13.7617H41.6482C41.691 13.2963 41.691 12.9578 41.691 12.5347ZM45.1155 21.9279C42.9324 21.9068 41.6696 20.0662 41.6696 17.6967C41.6696 15.4542 42.9324 13.656 45.1155 13.6348C47.2559 13.6137 48.6685 15.2638 48.6685 17.7179C48.6685 20.2354 47.2559 21.9491 45.1155 21.9279Z' fill='%233C3C49'/%3e%3cpath d='M63.4932 16.7236C63.4932 13.8041 61.1388 11.625 57.9283 11.625C54.5037 11.625 52.1279 13.931 52.1279 17.7814C52.1279 21.4836 54.4609 23.9377 57.9283 23.9377C60.7749 23.9377 62.8939 22.2876 63.3862 20.0239H60.8177C60.4111 21.1663 59.2981 21.9279 57.9283 21.9279C56.1732 21.9279 54.889 20.6797 54.6107 18.6064H63.4932V16.7236ZM57.9283 13.6348C59.662 13.6348 60.8606 14.8195 61.1174 16.5332H54.6321C54.9318 14.883 56.1518 13.6348 57.9283 13.6348Z' fill='%233C3C49'/%3e%3cpath d='M65.224 23.5992H67.5784V17.0409C67.5784 14.7984 68.8198 13.6348 70.7462 13.6348H72.009V11.625H71.003C69.2693 11.625 68.1991 12.7674 67.5784 13.7617H67.5356V11.9635H65.224V23.5992Z' fill='%233C3C49'/%3e%3cpath d='M83.0154 21.5683C82.6944 21.5683 82.5445 21.3779 82.5445 20.9971V15.8773C82.5445 13.4233 81.3459 11.625 77.8144 11.625C74.3898 11.625 72.8273 13.3175 72.6561 15.7292H75.0105C75.1603 14.4176 76.2091 13.6348 77.8144 13.6348C79.1842 13.6348 80.1259 14.2272 80.1259 15.158C80.1259 15.9196 79.5909 16.3851 77.8358 16.3851H76.894C74.0901 16.3851 72.2066 17.5063 72.2066 20.0662C72.2066 22.753 74.1972 23.98 76.5301 23.98C78.2638 23.98 79.7407 23.2184 80.3186 21.5894C80.3828 22.7742 81.1747 23.5992 82.673 23.5992H84V21.5683H83.0154ZM80.1902 18.1833C80.1902 20.8067 78.7561 21.9491 76.9154 21.9491C75.3101 21.9491 74.668 21.0182 74.668 20.0662C74.668 19.1565 75.2245 18.416 76.9368 18.416H77.2793C78.9273 18.416 79.9547 17.8448 80.1688 16.8505H80.1902V18.1833Z' fill='%233C3C49'/%3e%3c/svg%3e\"),null===(o=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-information-section-connect-pera-mobile\"))||void 0===o||o.setAttribute(\"style\",\"display: none;\"))}}}var q='@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\");\\n.pera-wallet-modal {\\n  --pera-wallet-modal-font-family: \"Inter\", sans-serif;\\n  --pera-wallet-modal-compact-width: 380px;\\n  --pera-wallet-modal-compact-height: 396px;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  z-index: 999999;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\\n  top: 40px;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  max-width: unset;\\n  height: calc(100 * var(--pera-wallet-vh));\\n  padding: 20px;\\n  background-color: #ffffff;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\\n  border-radius: 20px 20px 0px 0px;\\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\\n  overflow-y: auto;\\n  transform: unset;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\\n  background-image: unset;\\n}\\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n  padding: 0;\\n}\\n.pera-wallet-modal * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-modal ul,\\n.pera-wallet-modal ol,\\n.pera-wallet-modal li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal__logo img {\\n  display: block;\\n  width: 32px;\\n}\\n\\n.pera-wallet-modal__body {\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  width: 700px;\\n  max-width: calc(100vw - 80px);\\n  padding: 28px;\\n  background-color: #f3f3f7;\\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\\n  border-radius: 24px;\\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\\n  transform: translate(-50%, -50%);\\n}\\n.pera-wallet-modal__body::before {\\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: -1;\\n  content: \"\";\\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\\n  background-size: 116px 116px;\\n  mix-blend-mode: overlay;\\n  border-radius: 24px;\\n  opacity: 0.8;\\n  pointer-events: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\\n    width: 100%;\\n    max-width: calc(100vw - 32px);\\n    padding: 24px;\\n  }\\n}\\n@keyframes PeraWalletConnectSlideIn {\\n  0% {\\n    opacity: 0;\\n    transform: translate(-50%, calc(-50% + 24px));\\n  }\\n  100% {\\n    opacity: 1;\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n@keyframes PeraWalletConnectMobileSlideIn {\\n  0% {\\n    top: 30%;\\n    opacity: 0;\\n  }\\n  100% {\\n    top: 40px;\\n    opacity: 1;\\n  }\\n}\\n.pera-wallet-connect-modal-pending-message-section {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  grid-template-rows: auto 48px;\\n  gap: 56px;\\n  height: 100%;\\n  padding: 4px;\\n  padding-bottom: 70px;\\n}\\n\\n.pera-wallet-connect-modal-pending-message {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n  text-align: center;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  height: 100%;\\n  margin-top: 10px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__title {\\n  margin: 16px 0 12px;\\n  color: #3c3c49;\\n  font-size: 18px;\\n  font-weight: 500;\\n  line-height: 24px;\\n  letter-spacing: -0.26px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__description {\\n  color: #6a6a81;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 24px;\\n  letter-spacing: -0.01px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__button {\\n  display: block;\\n  width: 100%;\\n  padding: 14px;\\n  border-radius: 12px;\\n  text-decoration: none;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  letter-spacing: -0.09px;\\n  font-weight: 500;\\n  color: #ffffff;\\n  background-color: #6b46fe;\\n  border: none;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor {\\n  display: flex;\\n  gap: 12px;\\n  margin-bottom: 20px;\\n  padding: 16px;\\n  background: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  border-radius: 12px;\\n  text-decoration: none;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image {\\n  width: 24px;\\n  height: 24px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 4px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title {\\n  margin: 0;\\n  font-size: 14px;\\n  font-weight: 500;\\n  line-height: 20px;\\n  letter-spacing: -0.1px;\\n  color: #3c3c49;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description {\\n  /* stylelint-disable value-no-vendor-prefix */\\n  /* stylelint-disable  property-no-vendor-prefix */\\n  display: -webkit-box;\\n  max-width: 100%;\\n  -webkit-line-clamp: 2;\\n  /* autoprefixer: ignore next */\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  /* stylelint-enable value-no-vendor-prefix */\\n  /* stylelint-enable property-no-vendor-prefix */\\n  margin: 0;\\n  font-size: 12px;\\n  font-weight: 400;\\n  line-height: 18px;\\n  letter-spacing: 0.01px;\\n  color: #9d9dae;\\n}\\n\\n.pera-wallet-connect-modal-pending-message__animation-wrapper {\\n  width: 56px;\\n  height: 56px;\\n  background-color: #6b46fe;\\n  border-radius: 50%;\\n}\\n\\n.pera-wallet-connect-modal-pending-message__text {\\n  max-width: 271px;\\n  margin-top: 24px;\\n  color: #3c3c49;\\n  font-size: 18px;\\n  font-weight: 500;\\n  line-height: 28px;\\n  letter-spacing: -0.26px;\\n}\\n\\n.pera-wallet-connect-modal-pending-message__cancel-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  padding: 14px;\\n  color: #6a6a81;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  border-radius: 12px;\\n  text-decoration: none;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  letter-spacing: -0.09px;\\n  font-weight: 500;\\n  border: none;\\n}';h(q);const G=document.createElement(\"template\");G.innerHTML='\\n  <div class=\"pera-wallet-connect-modal-pending-message-section\">\\n    <div class=\"pera-wallet-connect-modal-pending-message\">\\n      <div id=\"pera-wallet-connect-modal-pending-message-animation-wrapper\" class=\"pera-wallet-connect-modal-pending-message__animation-wrapper\"></div>\\n\\n      <div class=\"pera-wallet-connect-modal-pending-message__text\">\\n        Please wait while we connect you to Pera Wallet\\n      </div>\\n    </div>\\n\\n    <button\\n      id=\"pera-wallet-connect-modal-pending-message-cancel-button\"\\n      class=\"pera-wallet-button pera-wallet-connect-modal-pending-message__cancel-button\">\\n        Cancel\\n    </button>\\n  </div>\\n\\n  <div id=\"pera-wallet-connect-modal-pending-message-audio-wrapper\"></div>\\n';const N=`\\n  <div class=\"pera-wallet-connect-modal-pending-message--try-again-view\">\\n    <div>\\n      <img src=\"${j}\" alt=\"Pera Wallet Logo\" />\\n\\n      <h1 class=\"pera-wallet-connect-modal-pending-message--try-again-view__title\">\\n        Couldnt establish connection\\n      </h1>\\n\\n      <p class=\"pera-wallet-connect-modal-pending-message--try-again-view__description\">\\n        Having issues? Before trying again, make sure to read the support article below and apply the possible solutions.\\n      </p>\\n    </div>\\n\\n    <div>\\n      <a\\n        href=\"https://support.perawallet.app/en/article/resolving-walletconnect-issues-1tolptm/\"\\n        target=\"_blank\"\\n        rel=\"noopener noreferrer\"\\n        class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor\">\\n        <img\\n          class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image\"\\n          src=\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 22.3199C7.72 22.3199 7.42998 22.2499 7.16998 22.1099C6.59998 21.8099 6.25 21.2099 6.25 20.5699V19.15C3.23 18.84 1.25 16.6199 1.25 13.4399V7.43994C1.25 3.99994 3.56 1.68994 7 1.68994H17C20.44 1.68994 22.75 3.99994 22.75 7.43994V13.4399C22.75 16.8799 20.44 19.1899 17 19.1899H13.23L8.96997 22.03C8.67997 22.22 8.34 22.3199 8 22.3199ZM7 3.17993C4.42 3.17993 2.75 4.84993 2.75 7.42993V13.43C2.75 16.01 4.42 17.68 7 17.68C7.41 17.68 7.75 18.02 7.75 18.43V20.56C7.75 20.69 7.83 20.75 7.88 20.78C7.93001 20.81 8.03001 20.84 8.14001 20.77L12.59 17.81C12.71 17.73 12.86 17.68 13.01 17.68H17.01C19.59 17.68 21.26 16.01 21.26 13.43V7.42993C21.26 4.84993 19.59 3.17993 17.01 3.17993H7ZM11.9998 12.11C11.5898 12.11 11.2498 11.77 11.2498 11.36V11.15C11.2498 10.0038 12.0798 9.4336 12.4082 9.20798L12.4198 9.20001C12.7898 8.95001 12.9098 8.78002 12.9098 8.52002C12.9098 8.02002 12.4998 7.60999 11.9998 7.60999C11.4998 7.60999 11.0898 8.02002 11.0898 8.52002C11.0898 8.93002 10.7498 9.27002 10.3398 9.27002C9.92984 9.27002 9.58984 8.93002 9.58984 8.52002C9.58984 7.19002 10.6698 6.10999 11.9998 6.10999C13.3298 6.10999 14.4098 7.19002 14.4098 8.52002C14.4098 9.66002 13.5698 10.23 13.2598 10.44C12.8698 10.7 12.7498 10.87 12.7498 11.15V11.36C12.7498 11.78 12.4098 12.11 11.9998 12.11ZM11.25 13.85C11.25 14.26 11.58 14.6 12 14.6C12.42 14.6 12.75 14.26 12.75 13.85C12.75 13.44 12.41 13.1 12 13.1C11.59 13.1 11.25 13.44 11.25 13.85Z' fill='%236B46FE'/%3e%3c/svg%3e\"\\n          alt=\"Help Icon\"\\n        />\\n\\n        <div>\\n          <div\\n            class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper\">\\n            <h1\\n              class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title\">\\n                Resolving WalletConnect issues\\n            </h1>\\n\\n            <img src=\"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.3287 10.0983C10.9574 10.0983 10.6564 9.79734 10.6564 9.42604L10.6564 6.29525L5.14866 11.803C4.88611 12.0655 4.46044 12.0655 4.19789 11.803C3.93534 11.5404 3.93534 11.1147 4.19789 10.8522L9.70561 5.34447L6.57482 5.34447C6.20352 5.34447 5.90252 5.04347 5.90252 4.67218C5.90252 4.30088 6.20352 3.99988 6.57482 3.99988L11.3287 3.99988C11.507 3.99988 11.678 4.07071 11.8041 4.19679C11.9301 4.32287 12.001 4.49387 12.001 4.67218L12.001 9.42604C12.001 9.79734 11.7 10.0983 11.3287 10.0983Z' fill='%239D9DAE'/%3e%3c/svg%3e\" alt=\"Send Icon\"/>\\n          </div>\\n\\n          <p\\n            class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description\">\\n            Unfortunately there are several known issues related to WalletConnect that our team is working on. Some of these issues are related to the WalletConnect JavaScript implementation on the dApp ...\\n          </p>\\n        </div>\\n      </a>\\n\\n      <button id=\"pera-wallet-connect-modal-pending-message-try-again-button\" class=\"pera-wallet-connect-button pera-wallet-connect-modal-pending-message--try-again-view__button\">\\n        Close & Try Again\\n      </button>\\n    </div>\\n  </div>\\n  `;class Q extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=q,this.shadowRoot.append(G.content.cloneNode(!0),e)}}connectedCallback(){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-pending-message-cancel-button\");null==n||n.addEventListener(\"click\",(()=>{this.onClose()})),this.addAudioForConnection(),this.renderLottieAnimation(),setTimeout((()=>{var e;if(G.innerHTML=N,this.shadowRoot){const n=document.createElement(\"style\");n.textContent=q,this.shadowRoot.innerHTML=\"\",this.shadowRoot.append(G.content.cloneNode(!0),n);const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-pending-message-try-again-button\");null==t||t.addEventListener(\"click\",(()=>{this.onClose()}))}}),3e4)}onClose(){t(c)}addAudioForConnection(){var e;if(\"true\"===this.getAttribute(\"should-use-sound\")&&l()){const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-pending-message-audio-wrapper\"),t=document.createElement(\"audio\");t.src=\"https://s3.amazonaws.com/wc.perawallet.app/audio.mp3\",t.autoplay=!0,t.loop=!0,null==n||n.appendChild(t)}}renderLottieAnimation(){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-pending-message-animation-wrapper\");n&&w.loadAnimation({container:n,renderer:\"svg\",loop:!0,autoplay:!0,path:\"https://s3.amazonaws.com/wc.perawallet.app/static/pera-loader-animation.json\"})}}var J='.pera-wallet-sign-txn-toast {\\n  --pera-wallet-sign-txn-toast-width: 422px;\\n  --pera-wallet-sign-txn-toast-height: 134px;\\n  --pera-wallet-sign-txn-toast-font-family: \"Inter\", sans-serif;\\n  position: fixed;\\n  bottom: 28px;\\n  right: 35px;\\n  z-index: 11;\\n  overflow: hidden;\\n  width: var(--pera-wallet-sign-txn-toast-width);\\n  height: var(--pera-wallet-sign-txn-toast-height);\\n  background: #edeffb;\\n  border-radius: 8px;\\n  animation: 0.2s PeraWalletSignTxnToastSlideIn ease-out;\\n}\\n.pera-wallet-sign-txn-toast * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-sign-txn-toast-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-sign-txn-toast ul,\\n.pera-wallet-sign-txn-toast ol,\\n.pera-wallet-sign-txn-toast li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-sign-txn-toast__header__close-button {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 20px;\\n  height: 20px;\\n  margin: 0;\\n  padding: 0;\\n  background: transparent;\\n  border: none;\\n  cursor: pointer;\\n}\\n\\n.pera-wallet-sign-txn-toast__content__lottie-animation {\\n  position: absolute;\\n  top: -75px;\\n  left: -100px;\\n  width: 368px;\\n  height: 368px;\\n}\\n\\n.pera-wallet-sign-txn-toast__content__description {\\n  position: absolute;\\n  top: 40px;\\n  right: 48px;\\n  max-width: 197px;\\n  color: #3c3c49;\\n  font-size: 14px;\\n  line-height: 22px;\\n  letter-spacing: -0.1px;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-sign-txn-toast {\\n    display: none;\\n  }\\n}\\n@keyframes PeraWalletSignTxnToastSlideIn {\\n  0% {\\n    bottom: 12px;\\n    opacity: 0;\\n  }\\n  100% {\\n    bottom: 26px;\\n    opacity: 1;\\n  }\\n}';h(J);const K=document.createElement(\"template\");K.innerHTML='\\n  <div class=\"pera-wallet-sign-txn-toast\">\\n    <div class=\"pera-wallet-sign-txn-toast__header\">\\n      <button\\n        id=\"pera-wallet-sign-txn-toast-close-button\"\\n        class=\"pera-wallet-sign-txn-toast__header__close-button\">\\n        <img src=\"data:image/svg+xml,%3csvg width=\\'20\\' height=\\'20\\' viewBox=\\'0 0 20 20\\' fill=\\'none\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3e%3cpath d=\\'M14.4107 4.41074L9.41074 9.41074L10.5893 10.5893L15.5893 5.58926L14.4107 4.41074ZM9.41074 9.41074L4.41074 14.4107L5.58926 15.5893L10.5893 10.5893L9.41074 9.41074ZM15.5893 14.4107L10.5893 9.41074L9.41074 10.5893L14.4107 15.5893L15.5893 14.4107ZM10.5893 9.41074L5.58926 4.41074L4.41074 5.58926L9.41074 10.5893L10.5893 9.41074Z\\' fill=\\'%239099BD\\'/%3e%3c/svg%3e\" />\\n      </button>\\n    </div>\\n    <div class=\"pera-wallet-sign-txn-toast__content\">\\n      <div id=\"pera-wallet-sign-txn-toast-lottie-animation\" style=\"width:368;height:368\" class=\"pera-wallet-sign-txn-toast__content__lottie-animation\"></div>\\n      <p class=\"pera-wallet-sign-txn-toast__content__description\">\\n        Please launch <b>Pera Wallet</b> on your iOS or Android device to sign this transaction.\\n      </p>\\n    </div>\\n  </div>\\n';class Y extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=J,this.shadowRoot.append(K.content.cloneNode(!0),e);const n=this.shadowRoot.getElementById(\"pera-wallet-sign-txn-toast-close-button\");null==n||n.addEventListener(\"click\",(()=>{t(p)})),this.renderLottieAnimation()}}renderLottieAnimation(){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-sign-txn-toast-lottie-animation\");n&&w.loadAnimation({container:n,renderer:\"svg\",loop:!0,autoplay:!0,path:\"https://s3.amazonaws.com/wc.perawallet.app/static/sign-toast-animation.json\"})}}var X='@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\");\\n.pera-wallet-modal {\\n  --pera-wallet-modal-font-family: \"Inter\", sans-serif;\\n  --pera-wallet-modal-compact-width: 380px;\\n  --pera-wallet-modal-compact-height: 396px;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  z-index: 999999;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\\n  top: 40px;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  max-width: unset;\\n  height: calc(100 * var(--pera-wallet-vh));\\n  padding: 20px;\\n  background-color: #ffffff;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\\n  border-radius: 20px 20px 0px 0px;\\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\\n  overflow-y: auto;\\n  transform: unset;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\\n  background-image: unset;\\n}\\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n  padding: 0;\\n}\\n.pera-wallet-modal * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-modal ul,\\n.pera-wallet-modal ol,\\n.pera-wallet-modal li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal__logo img {\\n  display: block;\\n  width: 32px;\\n}\\n\\n.pera-wallet-modal__body {\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  width: 700px;\\n  max-width: calc(100vw - 80px);\\n  padding: 28px;\\n  background-color: #f3f3f7;\\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\\n  border-radius: 24px;\\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\\n  transform: translate(-50%, -50%);\\n}\\n.pera-wallet-modal__body::before {\\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: -1;\\n  content: \"\";\\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\\n  background-size: 116px 116px;\\n  mix-blend-mode: overlay;\\n  border-radius: 24px;\\n  opacity: 0.8;\\n  pointer-events: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\\n    width: 100%;\\n    max-width: calc(100vw - 32px);\\n    padding: 24px;\\n  }\\n}\\n@keyframes PeraWalletConnectSlideIn {\\n  0% {\\n    opacity: 0;\\n    transform: translate(-50%, calc(-50% + 24px));\\n  }\\n  100% {\\n    opacity: 1;\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n@keyframes PeraWalletConnectMobileSlideIn {\\n  0% {\\n    top: 30%;\\n    opacity: 0;\\n  }\\n  100% {\\n    top: 40px;\\n    opacity: 1;\\n  }\\n}\\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n  background-image: unset;\\n  padding: 0;\\n}\\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body .pera-wallet-sign-txn-modal__body__content {\\n  width: 100%;\\n  height: 100%;\\n}\\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body #pera-wallet-iframe {\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 16px;\\n  margin: 0 auto;\\n  border: none;\\n}\\n\\n.pera-wallet-sign-txn-modal--compact.pera-wallet-modal .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n}';h(X);const ee=document.createElement(\"template\");ee.innerHTML=`\\n  <div id=\"pera-wallet-sign-txn-modal\" class=\"${d} pera-wallet-sign-txn-modal\">\\n    <div class=\"pera-wallet-modal__body\">\\n      <pera-wallet-modal-header modal-id=\"${s}\"></pera-wallet-modal-header/>\\n\\n      <div class=\"pera-wallet-sign-txn-modal__body__content\" />\\n    </div>\\n  </div>\\n`;class ne extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=X,this.shadowRoot.append(ee.content.cloneNode(!0),e);if(\"true\"===this.getAttribute(\"compact-mode\")){const e=this.shadowRoot.getElementById(\"pera-wallet-sign-txn-modal\");null==e||e.classList.add(\"pera-wallet-sign-txn-modal--compact\")}}}}function te(){document.documentElement.style.setProperty(\"--pera-wallet-vh\",.01*window.innerHeight+\"px\")}function ae(e,n){window.customElements.get(e)||window.customElements.define(e,n)}window.addEventListener(\"DOMContentLoaded\",(()=>{te()})),window.addEventListener(\"resize\",(()=>{te()})),ae(\"pera-wallet-connect-modal\",S),ae(\"pera-wallet-modal-desktop-mode\",Z),ae(\"pera-wallet-modal-header\",u),ae(\"pera-wallet-modal-touch-screen-mode\",A),ae(\"pera-wallet-redirect-modal\",$),ae(\"pera-wallet-connect-modal-information-section\",U),ae(\"pera-wallet-connect-modal-pending-message-section\",Q),ae(\"pera-wallet-sign-txn-toast\",Y),ae(\"pera-wallet-sign-txn-modal\",ne),ae(\"pera-wallet-download-qr-code\",C);\n"],"names":["root","navigator","window","define","expressionsPlugin","svgNS","locationHref","initialDefaultFrame","_useWebWorker","subframeEnabled","idPrefix","isSafari","test","userAgent","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMin","max","min","BMMath","ProjectInterface","i","propertyNames","len","length","random","abs","val","absArr","createSizedArray","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","flag","round","BMEnterFrameEvent","type","currentTime","totalTime","frameMultiplier","this","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","target","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","createElementID","_count","HSVtoRGB","h","s","v","r","g","b","f","p","q","t","RGBtoHSV","d","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","toString","BaseEvent","prototype","triggerEvent","eventName","args","_cbs","callbacks","addEventListener","callback","push","removeEventListener","bind","splice","createTypedArray","createRegularArray","value","arr","createTypedArrayFactory","Float32Array","Int16Array","Uint8ClampedArray","Array","apply","createNS","document","createElementNS","createTag","createElement","DynamicPropertyContainer","addDynamicProperty","prop","dynamicProperties","indexOf","container","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","mode","lineCapEnum","lineJoinEnum","Matrix","_cos","cos","_sin","sin","_tan","tan","_rnd","reset","props","rotate","angle","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","a","c","e","j","k","l","m","n","o","translate","tx","ty","tz","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","x","y","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","nodecrypto","global","width","chunks","digits","rngname","startdenom","significance","overflow","mask","seedrandom","seed","options","key","shortseed","mixkey","flatten","entropy","tostring","autoseed","arc4","ARC4","prng","int32","quick","double","S","pass","is_math_call","state","copy","keylen","me","count","slice","obj","depth","result","typ","smear","stringseed","charCodeAt","randomBytes","out","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","Date","screen","String","fromCharCode","BezierFactory","ob","getBezierEasing","beziers","nm","str","replace","bezEasing","BezierEasing","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","points","_mSampleValues","_precomputed","get","mY1","mY2","_precompute","_getTForX","_calcSampleValues","mSampleValues","intervalStart","currentSample","lastSample","guessForT","initialSlope","extendPrototype","sources","destination","sourcePrototype","attr","Object","hasOwnProperty","call","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","point","lastPoint","lengthData","bezierLengthPool","newElement","percents","lengths","getSegmentsLength","shapeData","segmentsLength","segmentsLengthPool","closed","pathV","pathO","pathI","_length","totalLength","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","getPointInSegment","percent","t1","u1","bezierSegmentPoints","getNewSegment","startPerc","endPerc","t0","u0","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","id","setTimeout","clearTimeout","bez","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","path","data","_workerSelf","createWorker","fn","Worker","Blob","blob","url","URL","createObjectURL","setupWorker","dataFunctionManager","completeLayers","layers","comps","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","JSON","parse","stringify","ks","it","checkVersion","minimum","animVersionString","animVersion","split","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","animationData","assets","checkChars","chars","pathData","paths","__converted","checkPathProperties","checkColors","iterateShapes","checkShapes","completeClosingShapes","cl","completeData","__complete","singleShape","moduleOb","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","response","responseText","loadAsset","fullPath","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","open","error","send","load","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","getFontProperties","fontData","styles","fStyle","fWeight","toLowerCase","style","weight","FontManager","maxWaitingTime","emptyChar","w","size","combinedCharacters","concat","surrogateModifiers","zeroWidthJoiner","trimFontOptions","font","familyArray","enabledFamilies","join","setUpNode","family","parentNode","setAttribute","fontFamily","node","innerText","position","left","top","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","appendChild","body","offsetWidth","parent","checkLoadedFonts","fonts","loadedCount","loaded","fOrigin","monoCase","sansCase","removeChild","now","initTime","checkLoadedFontsBinded","setIsLoadedBinded","createHelper","def","tHelper","fontProps","fFamily","textContent","fClass","getContext","addFonts","defs","isLoaded","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","fPath","querySelectorAll","href","rel","src","sc","helper","cache","addChars","found","ch","getCharData","char","console","warn","_warned","measureText","fontName","getFontByName","index","doubleSize","getComputedTextLength","singleSize","name","fName","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","setIsLoaded","Font","typekitLoaded","fontPrototype","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","nextKeyTime","keyTime","to","ti","ind","__fnct","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quaternionToEuler","slerp","createQuaternion","constructor","undefined","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","applyToMatrix","mat","sk","sa","rz","ry","rx","or","px","py","pz","processKeys","forceRender","_isDirty","precalculateMatrix","frameRate","pre","appliedTransformations","autoOriented","v1","v2","getValueAtTime","autoOrient","_addDynamicProperty","TransformProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","pointPool","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shapesEqual","shape1","shape2","shapePool","releaseShapes","addShape","ShapeProperty","shapeCollectionPool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","getShapeProp","getConstructorFunction","getKeyframedConstructorFunction","ShapeModifiers","modifiers","registerModifier","factory","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","renderer","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","shape","setAsAnimated","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","clonedPath","currentV","currentI","currentO","closerV","distance","newPosPerc","amount","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","op","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","comparePoints","buildShapeString","pathNodes","_o","_i","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","height","ctx","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","createImageData","setAttributeNS","_elementHelper","append","createImgData","crossOrigin","createFootageData","footageData","_footageLoaded","loadAssets","cb","images","_createImageData","setPath","setAssetsPath","getAsset","destroy","loadedImages","loadedFootages","setCacheType","elementHelper","ImagePreloaderFactory","featureSupport","maskType","filtersFactory","createFilter","filId","skipCoordinates","fil","createAlphaToLuminanceFilter","feColorMatrix","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","add","rot","atan","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","text","charCode","charactersArray","shouldCombine","charAt","substr","newLineFlag","charData","fontManager","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","textProperty","easer","tot","smoothness","threshold","newCharsFlag","divisor","poolFactory","initialLength","_create","_release","element","pooling","create","cloned","shapeCollection","markerParser","parsePayloadLines","lines","keys","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","_","__","BaseRenderer","SVGRenderer","animationItem","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","contentVisibility","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","className","focusable","filterSize","pendingElements","destroyed","rendererType","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","AudioElement","FootageElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextLottieElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","wrapper","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","insertBefore","hide","display","show","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","stop","gf","cst","opacityId","opFill","lc","lj","ml","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","createRenderFunction","renderFill","renderGradient","renderGradientStroke","renderStroke","renderPath","renderContentTransform","styleData","itemData","pathStringTransformed","redraw","iterations","lLen","styleElem","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","ShapeTransformManager","sequences","sequenceList","transform_key_count","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","_placeholder","supports3d","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","addTransformSequence","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","content","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","opacity","kBlurrinessToSigma","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","children","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","getRegisteredAnimations","lenAnims","animations","addPlayingCount","activate","params","setParams","setSpeed","setDirection","nowTime","elapsedTime","advanceTime","first","goToAndStop","isFrame","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","getElementsByTagName","div","resize","freeze","unfreeze","currentRawFrame","frameMult","playSpeed","playDirection","playCount","autoplay","loop","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","onSetupError","onSegmentComplete","animType","CanvasRenderer","rendererSettings","HybridRenderer","parseInt","autoloadSegments","initialSegment","lastIndexOf","fileName","trigger","wrapperAttributes","attributes","getNamedItem","prerender","loadNextSegment","shift","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","getMarkerData","markerName","marker","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getDuration","lottie","setLocationHref","setSubframeRendering","setIDPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","__getFactory","version","scripts","myScript","self","module","exports","M","getPatternPosition","getBCHTypeNumber","getBCHTypeInfo","getMaskFunction","getRSBlocks","put","getMode","getLength","getLengthInBits","write","dataCount","putBit","totalCount","getBuffer","getErrorCorrectPolynomial","mod","getAt","addData","isDark","getModuleCount","make","getLostPoint","createTableTag","createSvgTag","arguments","cellSize","margin","alt","scalable","createDataURL","createImgTag","createASCII","substring","renderTo2dContext","stringToBytes","stringToBytesFuncs","default","createStringToBytes","read","L","Q","H","multiply","gexp","glog","SJIS","writeByte","writeShort","writeBytes","writeString","toByteArray","match","setPixel","flush","contains","isArray","forEach","assign","download","click","Promise","onload","FileReader","onloadend","readAsDataURL","svg","_svg","_type","draw","_drawDot","_drawClassy","_drawClassyRounded","_drawRounded","_drawExtraRounded","_drawSquare","getNeighbor","_rotateFigure","rotation","_element","_basicDot","_basicSquare","_basicSideRounded","_basicCornerRounded","_basicCornerExtraRounded","_basicCornersRounded","_basicExtraRounded","_defs","_options","defineProperty","getElement","drawQR","hideXDots","hideYDots","_qr","image","loadImage","sent","_image","imageOptions","qrOptions","imageSize","errorCorrectionLevel","originalHeight","originalWidth","maxHiddenDots","maxHiddenAxisDots","dotSize","drawBackground","drawDots","hideBackgroundDots","drawCorners","drawImage","backgroundOptions","gradient","_createColor","additionalRotation","_backgroundClipPath","dotsOptions","_dotsClipPath","O","D","P","cornersSquareOptions","_cornersSquareClipPath","_cornersDotClipPath","I","cornersDotOptions","R","Image","colorStops","typeNumber","map","Boolean","_clearContainer","innerHTML","_setupSvg","_svgDrawingPromise","then","_extension","_setupCanvas","_canvas","_canvasDrawingPromise","XMLSerializer","serializeToString","btoa","_getElement","_container","applyExtension","deleteExtension","getRawData","toBlob","extension","encodeURIComponent","toDataURL","__esModule","enumerable","insertAt","head","firstChild","styleSheet","cssText","createTextNode","HTMLElement","super","attachShadow","shadowRoot","cloneNode","onClose","getElementById","getAttribute","connectedCallback","E","Z","handleAccordion","classList","querySelector","webWalletOption","mobileWalletOption","createRange","createContextualFragment","handleChangeView","onClickDownload","onClickBack","webWalletConnect","renderQRCode","checkWebWalletAvaliability","onWebWalletConnect","Element","parentElement","remove","toggle","F","includes","singleAccount","selectedAccount","onClickLaunch","V","W","$","T","U","G","N","addAudioForConnection","renderLottieAnimation","J","K","Y","X","ee","te","documentElement","setProperty","innerHeight","ae","customElements"],"sourceRoot":""}